# –ê–°–ò–ù–•–†–û–ù–ù–´–ô JAVASCRIPT, AJAX –ò API-–ò–ù–¢–ï–†–§–ï–ô–°–´

#### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥?

**–ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:**  
–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ –ø–æ—Ä—è–¥–∫—É, –∫–∞–∫ –≤ —Ä–µ—Ü–µ–ø—Ç–µ:  
—Ç—ã –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—à—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É, –ø–æ–∫–∞ –Ω–µ –∑–∞–∫–æ–Ω—á–∏—à—å —Ç–µ–∫—É—â–∏–π.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**  
–ù–∞–ª–µ–π –≤–æ–¥—ã.  
–í—Å–∫–∏–ø—è—Ç–∏ –≤–æ–¥—É.  
–ó–∞–≤–∞—Ä–∏ —á–∞–π.

–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ:  
—Å–ª–µ–¥—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞ –Ω–∞—á–Ω—ë—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π.

**–ü—Ä–∏–º–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:**

```javascript
console.log("–ù–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã");
alert('–ü—Ä–∏–≤–µ—Ç! –ù–∞–∂–º–∏ "OK"'); // –ü–æ–∫–∞ –Ω–µ –Ω–∞–∂–º—ë–º "OK", –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–∞.
console.log("–ö–æ–Ω–µ—Ü –ø—Ä–æ–≥—Ä–∞–º–º—ã");
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**

1. –í—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ù–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã".
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ `alert`. –ö–æ–¥ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.
3. –ù–∏–∫–∞–∫–∞—è –¥—Ä—É–≥–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–∫–∞ –≤—ã –Ω–µ –Ω–∞–∂–º—ë—Ç–µ "OK".
4. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "OK" –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Å—Ç–∞–≤—à–∏–π—Å—è –∫–æ–¥, –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è "–ö–æ–Ω–µ—Ü –ø—Ä–æ–≥—Ä–∞–º–º—ã".

üìù **–ü—Ä–æ–±–ª–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:**  
–µ—Å–ª–∏ –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏,  
–≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è, –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∏—á–µ–≥–æ –Ω–µ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å.

---

#### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥: –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

**–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏:**  
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –∑–∞–¥–∞–Ω–∏–µ "–Ω–∞ —Ñ–æ–Ω–µ".

**–ù–∞–ø—Ä–∏–º–µ—Ä:**

1. –í—ã –≤–∫–ª—é—á–∞–µ—Ç–µ —á–∞–π–Ω–∏–∫ (–∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∑–∞–¥–∞—á—É).
2. –ü–æ–∫–∞ –≤–æ–¥–∞ –∫–∏–ø–∏—Ç, –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å —á–µ–º-—Ç–æ –µ—â—ë: —Ä–µ–∂–µ—Ç–µ –ª–∏–º–æ–Ω –∏–ª–∏ –≥–æ—Ç–æ–≤–∏—Ç–µ —á–∞—à–∫—É.
3. –ö–æ–≥–¥–∞ —á–∞–π–Ω–∏–∫ –∑–∞–∫–∏–ø–∞–µ—Ç (–∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞), –æ–Ω –∏–∑–¥–∞—ë—Ç –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª (—Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç "–∫–æ–ª–ª–±–µ–∫").  
   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, –ø–æ–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

**–ü—Ä–∏–º–µ—Ä –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:**

```javascript
console.log("–ù–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã");

setTimeout(() => {
  console.log("–¢–∞–π–º–µ—Ä –∑–∞–≤–µ—Ä—à–∏–ª—Å—è");
}, 3000); // –¢–∞–π–º–µ—Ä –Ω–∞ 3 —Å–µ–∫—É–Ω–¥—ã

console.log("–ö–æ–Ω–µ—Ü –ø—Ä–æ–≥—Ä–∞–º–º—ã");
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**

1. –°–Ω–∞—á–∞–ª–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è "–ù–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã".
2. –¢–∞–π–º–µ—Ä –Ω–∞ 3 —Å–µ–∫—É–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è. –ù–æ –∫–æ–¥ –Ω–µ –∂–¥—ë—Ç –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.
3. –û–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∞–ª—å—à–µ.
4. –í—ã–≤–æ–¥–∏—Ç—Å—è "–ö–æ–Ω–µ—Ü –ø—Ä–æ–≥—Ä–∞–º–º—ã".
5. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ (—á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã) —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ `setTimeout`, –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è "–¢–∞–π–º–µ—Ä –∑–∞–≤–µ—Ä—à–∏–ª—Å—è".

---

#### 3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏: —Ä–∞–±–æ—Ç–∞ –Ω–∞ —Ñ–æ–Ω–µ

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–ª–ª–±–µ–∫**  
–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–∑–∂–µ, –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–æ–ª–ª–±–µ–∫–∞–º–∏.

**–ù–∞–ø—Ä–∏–º–µ—Ä,** —Ñ—É–Ω–∫—Ü–∏—è –≤ `setTimeout` ‚Äî —ç—Ç–æ –∫–æ–ª–ª–±–µ–∫,  
–∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞.

**–í–∞–∂–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ –æ—Ç –∞–≤—Ç–æ—Ä–∞:**  
–ö–æ–ª–ª–±–µ–∫ ‚â† –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å.  
–ö–æ–ª–ª–±–µ–∫-—Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏.

**–ü—Ä–∏–º–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–ª–ª–±–µ–∫–∞:**

```javascript
[1, 2, 3].forEach((num) => {
  console.log(num);
});
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**  
`forEach` –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–ª–±–µ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞.  
–ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

**–ü—Ä–∏–º–µ—Ä –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–ª–ª–±–µ–∫–∞:**

```javascript
setTimeout(() => {
  console.log("–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–ª–ª–±–µ–∫");
}, 1000);
```

**–†–∞–∑–Ω–∏—Ü–∞** –≤ —Ç–æ–º, —á—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `setTimeout`,  
—Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ñ–æ–Ω–µ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ –∫–æ–¥–∞.

---

#### 4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ: –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ö–æ–≥–¥–∞ –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É, —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è.  
JavaScript –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ñ–æ–Ω–µ.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
const img = document.createElement("img");
img.src = "https://example.com/image.jpg"; // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É

img.addEventListener("load", () => {
  console.log("–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ");
});

console.log("–ö–æ–Ω–µ—Ü –ø—Ä–æ–≥—Ä–∞–º–º—ã");
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**

1. –ó–∞–¥–∞—ë—Ç—Å—è `src` (–∞–¥—Ä–µ—Å) –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
2. JavaScript –Ω–∞—á–∏–Ω–∞–µ—Ç –µ–≥–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤ —Ñ–æ–Ω–µ.
3. –ö–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è: –≤—ã–≤–æ–¥–∏—Ç—Å—è "–ö–æ–Ω–µ—Ü –ø—Ä–æ–≥—Ä–∞–º–º—ã".
4. –ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `load`, –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è-–∫–æ–ª–ª–±–µ–∫.  
   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–Ω–∏–µ" –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏.

---

#### 5. –ß—Ç–æ —Ç–∞–∫–æ–µ AJAX?

**AJAX** (Asynchronous JavaScript and XML)  
–ø–æ–∑–≤–æ–ª—è–µ—Ç JavaScript –æ–±—â–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç AJAX:**

1. JavaScript –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
2. –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ.
3. JavaScript –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ‚Äî JSON:**  
–°–µ–≥–æ–¥–Ω—è –≤–º–µ—Å—Ç–æ XML —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **JSON** (JavaScript Object Notation).

**–ü—Ä–∏–º–µ—Ä JSON:**

```json
{
  "name": "France",
  "population": 67000000,
  "capital": "Paris"
}
```

JSON ‚Äî —ç—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç JavaScript.  
–ï–≥–æ –ª–µ–≥–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

---

#### 6. API: —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º –Ω—É–∂–Ω–æ

**–ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ API**  
API (Application Programming Interface) ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –æ–±—â–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º.  
API –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –º–µ–Ω—é –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ:

- –í—ã –¥–µ–ª–∞–µ—Ç–µ –∑–∞–∫–∞–∑ (–∑–∞–ø—Ä–æ—Å).
- –ö—É—Ö–Ω—è –≥–æ—Ç–æ–≤–∏—Ç –µ–¥—É (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å).
- –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –≥–æ—Ç–æ–≤–æ–µ –±–ª—é–¥–æ (–æ—Ç–≤–µ—Ç).

**–í–∏–¥—ã API –≤ JavaScript:**

1. **DOM API** ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTML:

```javascript
document.querySelector("h1").textContent = "–ü—Ä–∏–≤–µ—Ç!";
```

2. **Geolocation API** ‚Äî –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```javascript
navigator.geolocation.getCurrentPosition((position) => {
  console.log(position.coords.latitude, position.coords.longitude);
});
```

3. **Fetch API** ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É.

---

#### 7. AJAX-–∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É

**–ü—Ä–∏–º–µ—Ä: –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—Ä–∞–Ω–µ:**

```javascript
fetch("https://restcountries.com/v3.1/name/france")
  .then((response) => response.json()) // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ—Ç–≤–µ—Ç –≤ JSON
  .then((data) => {
    console.log(`–°—Ç—Ä–∞–Ω–∞: ${data[0].name.common}`);
    console.log(`–ù–∞—Å–µ–ª–µ–Ω–∏–µ: ${data[0].population}`);
  })
  .catch((err) => console.error("–û—à–∏–±–∫–∞:", err));
```

**–ü–æ—è—Å–Ω–µ–Ω–∏–µ:**

- `fetch` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
- –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
- –ú—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã–≤–æ–¥–∏–º –∏—Ö.

---

#### 8. –ü–æ—á–µ–º—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞?

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:**

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –≤ —Ñ–æ–Ω–µ (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–π–º–µ—Ä—ã).
- –î–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –ø–æ–∫–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞–¥–∞—á–∏).
- –£–¥–æ–±–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏, API –∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.

**–ò—Ç–æ–≥:**  
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π JavaScript ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.  
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –†–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Å–µ—Ç–∏.
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ) –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
- –°–æ–∑–¥–∞–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

---

// --------------------------------------------------------------------------- //

## –ù–ê–® –ü–ï–†–í–´–ô AJAX-–í–´–ó–û–í XMLHTTPREQUEST

#### 1. –ß—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å?

–ú—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—Å–µ–ª–µ–Ω–∏–µ, —è–∑—ã–∫, –≤–∞–ª—é—Ç—É)  
—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ API.  
–î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—Ä–∞—Å–∏–≤–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—Ä–∞–Ω–µ.

**–ß—Ç–æ —Ç–∞–∫–æ–µ API?**  
API ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.  
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –∑–∞—Ö–æ–¥–∏—Ç–µ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω:  
–≤—ã –¥–µ–ª–∞–µ—Ç–µ –∑–∞–∫–∞–∑ (–∑–∞–ø—Ä–æ—Å), –∫—É—Ö–Ω—è –≥–æ—Ç–æ–≤–∏—Ç –µ–¥—É (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å),  
–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –≥–æ—Ç–æ–≤–æ–µ –±–ª—é–¥–æ (–æ—Ç–≤–µ—Ç).

API —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ:

- –í—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∑–∞–ø—Ä–æ—Å.
- –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å.
- –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–º –¥–∞–Ω–Ω—ã–µ.

**–ü—Ä–∏–º–µ—Ä:** API, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞–Ω–∞—Ö.

---

#### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API

**–ß—Ç–æ —Ç–∞–∫–æ–µ Ajax?**  
Ajax –ø–æ–∑–≤–æ–ª—è–µ—Ç JavaScript –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–æ–º –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.  
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Ajax –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API.

**–ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API:**  
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥:  
XMLHttpRequest, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ —Ä–∞–Ω—å—à–µ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å Ajax.

```javascript
// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞
const request = new XMLHttpRequest();

// –û—Ç–∫—Ä—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å (GET-–∑–∞–ø—Ä–æ—Å –∫ API)
request.open("GET", "https://restcountries.com/v3.1/name/portugal");

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
request.send();
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- `XMLHttpRequest` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ —Å–µ—Ä–≤–µ—Ä—É.
- `open` ‚Äî –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å (—Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ –∏ URL).
- `GET` ‚Äî —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
- `URL` ‚Äî —ç—Ç–æ –∞–¥—Ä–µ—Å API.
- `send` ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ–Ω,  
–∏ –æ—Å—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å).

---

#### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞, –Ω—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –∏—Ö –ø–æ–ª—É—á–µ–Ω–∏—è.  
–î–ª—è —ç—Ç–æ–≥–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–±—ã—Ç–∏–µ `load`:

```javascript
request.addEventListener("load", function () {
  console.log(this.responseText); // –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
});
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- `addEventListener('load', ...)` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.
- `this.responseText` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ—Ä–Ω—É–ª —Å–µ—Ä–≤–µ—Ä.  
  –≠—Ç–æ –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

---

#### 4. –†–∞–±–æ—Ç–∞ —Å JSON

API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.  
–≠—Ç–æ —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ä–µ–∫—Ç.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**

```json
[
  {
    "name": { "common": "Portugal" },
    "population": 10305564,
    "region": "Europe",
    "flags": { "png": "https://flagcdn.com/w320/pt.png" },
    "languages": { "por": "Portuguese" },
    "currencies": { "EUR": { "name": "Euro" } }
  }
]
```

–ú—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º JSON –≤ –æ–±—ä–µ–∫—Ç JavaScript:

```javascript
const data = JSON.parse(this.responseText);
console.log(data);
```

`JSON.parse` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫—É JSON –≤ JavaScript-–æ–±—ä–µ–∫—Ç,  
—Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Å –æ–±—ã—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

---

#### 5. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–¢–µ–ø–µ—Ä—å –º—ã —Ö–æ—Ç–∏–º –≤–∑—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∏—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ –≤–∏–¥–µ –∫–∞—Ä—Ç–æ—á–∫–∏.

**–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:**

- –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã.
- –†–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Europe").
- –ù–∞—Å–µ–ª–µ–Ω–∏–µ (–≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö).
- –Ø–∑—ã–∫.
- –í–∞–ª—é—Ç–∞.
- –§–ª–∞–≥.

**–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏:**

```javascript
const [country] = data; // –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ (–±–µ—Ä—ë–º –ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç)
const html = `
  <div class="card">
    <img src="${country.flags.png}" alt="Flag of ${country.name.common}">
    <h2>${country.name.common}</h2>
    <p>Region: ${country.region}</p>
    <p>Population: ${(country.population / 1_000_000).toFixed(1)}M</p>
    <p>Language: ${Object.values(country.languages)[0]}</p>
    <p>Currency: ${Object.values(country.currencies)[0].name}</p>
  </div>
`;

// –î–æ–±–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
document.querySelector(".countries").insertAdjacentHTML("beforeend", html);
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**  
–ú—ã –∏–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `country`:

- –§–ª–∞–≥: `country.flags.png`.
- –ù–∞–∑–≤–∞–Ω–∏–µ: `country.name.common`.
- –†–µ–≥–∏–æ–Ω: `country.region`.
- –ù–∞—Å–µ–ª–µ–Ω–∏–µ: –¥–µ–ª–∏–º –Ω–∞ –º–∏–ª–ª–∏–æ–Ω –∏ –æ–∫—Ä—É–≥–ª—è–µ–º –¥–æ –æ–¥–Ω–æ–π —Ü–∏—Ñ—Ä—ã –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π.
- –Ø–∑—ã–∫: –±–µ—Ä—ë–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ `country.languages`.
- –í–∞–ª—é—Ç–∞: –±–µ—Ä—ë–º –∏–º—è –≤–∞–ª—é—Ç—ã.

–°–æ–∑–¥–∞—ë–º HTML —Å –ø–æ–º–æ—â—å—é —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫.  
–î–æ–±–∞–≤–ª—è–µ–º HTML –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `.countries` —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `insertAdjacentHTML`.

---

#### 6. –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç—Ä–∞–Ω–∞–º–∏

–ú—ã –º–æ–∂–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö, –≤—ã–∑–≤–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
function getCountryData(countryName) {
  const request = new XMLHttpRequest();
  request.open("GET", `https://restcountries.com/v3.1/name/${countryName}`);
  request.send();

  request.addEventListener("load", function () {
    const [country] = JSON.parse(this.responseText);
    const html = `
      <div class="card">
        <img src="${country.flags.png}" alt="Flag of ${country.name.common}">
        <h2>${country.name.common}</h2>
        <p>Region: ${country.region}</p>
        <p>Population: ${(country.population / 1_000_000).toFixed(1)}M</p>
        <p>Language: ${Object.values(country.languages)[0]}</p>
        <p>Currency: ${Object.values(country.currencies)[0].name}</p>
      </div>
    `;
    document.querySelector(".countries").insertAdjacentHTML("beforeend", html);
  });
}

// –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω
getCountryData("portugal");
getCountryData("usa");
getCountryData("germany");
```

---

#### 7. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤ –¥–µ–π—Å—Ç–≤–∏–∏

**–ü–æ—á–µ–º—É –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ?**  
–ö–æ–≥–¥–∞ –º—ã –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –∫ API, JavaScript –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.  
–û—Ç–≤–µ—Ç—ã –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –ø–æ—Ä—è–¥–∫–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏,  
–∞ –Ω–µ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã –≤—ã–∑–≤–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏.

**–ü—Ä–∏–º–µ—Ä:**  
–ú—ã –≤—ã–∑–≤–∞–ª–∏ –∑–∞–ø—Ä–æ—Å –¥–ª—è `portugal`, –∑–∞—Ç–µ–º –¥–ª—è `usa`.  
–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –±—ã—Å—Ç—Ä–µ–µ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –¥–ª—è `usa`,  
—Ç–æ –µ–≥–æ –¥–∞–Ω–Ω—ã–µ –ø–æ—è–≤—è—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏.

---

#### 8. –ß—Ç–æ —Ç–∞–∫–æ–µ "Callback Hell"?

–ö–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å —Å—Ç—Ä–æ–≥–æ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º,  
–º—ã –¥–µ–ª–∞–µ–º —Ü–µ–ø–æ—á–∫—É –∫–æ–ª–ª–±–µ–∫–æ–≤.  
–ù–æ —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å.  
–í —Å–ª–µ–¥—É—é—â–µ–º –≤–∏–¥–µ–æ –±—É–¥–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ —Å —ç—Ç–∏–º –±–æ—Ä–æ—Ç—å—Å—è.

**–ò—Ç–æ–≥:**  
–ú—ã —É–∑–Ω–∞–ª–∏, –∫–∞–∫ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ API —Å –ø–æ–º–æ—â—å—é XMLHttpRequest.  
–ù–∞—É—á–∏–ª–∏—Å—å –∏–∑–≤–ª–µ–∫–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.  
–û—Å–æ–∑–Ω–∞–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:  
–∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥.

–í —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —É–ª—É—á—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º  
—Å –ø–æ–º–æ—â—å—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ Promises –∏ async/await.

---

// ------------------------------------------------------------------------ //

## \*–ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –í–ï–ë-–°–ê–ô–¢ –° –ó–ê–ü–†–û–°–ê–ú–ò –ò –û–¢–í–ï–¢–ê–ú–ò

#### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã (Request –∏ Response)?

**–ê–Ω–∞–ª–æ–≥–∏—è: –ü–æ—á—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ**  
**–ó–∞–ø—Ä–æ—Å (Request):**  
–≠—Ç–æ –∫–∞–∫ –µ—Å–ª–∏ –±—ã –≤—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø–∏—Å—å–º–æ —Å –≤–æ–ø—Ä–æ—Å–æ–º.  
–ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ: "–ö–∞–∫–∞—è —Å–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–¥–∞?".

**–û—Ç–≤–µ—Ç (Response):**  
–≠—Ç–æ –ø–∏—Å—å–º–æ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ —Å –æ—Ç–≤–µ—Ç–æ–º: "–°–µ–≥–æ–¥–Ω—è —Å–æ–ª–Ω–µ—á–Ω–æ".

–í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä (–∏–ª–∏ –ª—é–±–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)  
–∏–≥—Ä–∞–µ—Ç —Ä–æ–ª—å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –ø–∏—Å—å–º–∞ (–∫–ª–∏–µ–Ω—Ç–∞),  
–∞ —Å–µ—Ä–≤–µ—Ä ‚Äî —ç—Ç–æ —Ç–æ—Ç, –∫—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã.

---

#### 2. –ß—Ç–æ —Ç–∞–∫–æ–µ URL?

**URL** (Uniform Resource Locator) ‚Äî  
—ç—Ç–æ –∞–¥—Ä–µ—Å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –≤–∞—à –∑–∞–ø—Ä–æ—Å "–∏–¥–µ—Ç".  
–≠—Ç–æ –∫–∞–∫ –∞–¥—Ä–µ—Å –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞.

**–ü—Ä–∏–º–µ—Ä URL:**  
`https://restcountries.com/v3.1/name/portugal`

- `https://` ‚Äî –ü—Ä–æ—Ç–æ–∫–æ–ª —Å–≤—è–∑–∏.  
  –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏–ª–∏ –Ω–µ—Ç).
- `restcountries.com` ‚Äî –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è, –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –≤–∞—à –¥–æ–º–∞—à–Ω–∏–π –∞–¥—Ä–µ—Å.
- `/v3.1/name/portugal` ‚Äî –†–µ—Å—É—Ä—Å.  
  –≠—Ç–æ –∫–∞–∫ –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –¥–æ–º–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ "Portugal".

---

#### 3. –ö–∞–∫ –±—Ä–∞—É–∑–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç —Å–µ—Ä–≤–µ—Ä?

–ö–æ–≥–¥–∞ –≤—ã –≤–≤–æ–¥–∏—Ç–µ `restcountries.com`,  
–±—Ä–∞—É–∑–µ—Ä:

1. –ù–µ –∑–Ω–∞–µ—Ç, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `restcountries.com` –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ.
2. –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç DNS (Domain Name System): "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `restcountries.com`?"
3. DNS ‚Äî —ç—Ç–æ –∫–∞–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –û–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –≤ IP-–∞–¥—Ä–µ—Å.
4. DNS –æ—Ç–≤–µ—á–∞–µ—Ç: "–≠—Ç–æ —Å–µ—Ä–≤–µ—Ä —Å IP-–∞–¥—Ä–µ—Å–æ–º `192.168.1.1`".
5. –¢–µ–ø–µ—Ä—å –±—Ä–∞—É–∑–µ—Ä –∑–Ω–∞–µ—Ç, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å.

---

#### 4. –ß—Ç–æ —Ç–∞–∫–æ–µ IP-–∞–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç?

- **IP-–∞–¥—Ä–µ—Å:** –≠—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.1`. –≠—Ç–æ –∫–∞–∫ –ø–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å.
- **–ü–æ—Ä—Ç:** –≠—Ç–æ "–∫–æ–º–Ω–∞—Ç–∞" –≤ –¥–æ–º–µ —Å–µ—Ä–≤–µ—Ä–∞.  
  –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Ä—Ç `443` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è HTTPS, –∞ –ø–æ—Ä—Ç `80` –¥–ª—è HTTP.

---

#### 5. –ö–∞–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ?

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è IP-–∞–¥—Ä–µ—Å–∞:  
–ë—Ä–∞—É–∑–µ—Ä —Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º —á–µ—Ä–µ–∑ TCP/IP:

- **TCP:** –†–∞–∑–±–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –∫—É—Å–æ—á–∫–∏ (–ø–∞–∫–µ—Ç—ã).
- **IP:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —ç—Ç–∏ –ø–∞–∫–µ—Ç—ã –ø–æ–π–¥—É—Ç –∫ —Å–µ—Ä–≤–µ—Ä—É.  
  –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ, –∏ –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å.

---

#### 6. –ß—Ç–æ —Ç–∞–∫–æ–µ HTTP-–∑–∞–ø—Ä–æ—Å?

**HTTP** (Hypertext Transfer Protocol) ‚Äî  
—ç—Ç–æ —Å–ø–æ—Å–æ–±, –∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä "—Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–µ—Ç" —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ HTTP-–∑–∞–ø—Ä–æ—Å–∞**  
–ó–∞–ø—Ä–æ—Å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

1. **–°—Ç–∞—Ä—Ç–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏:** –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å.  
   –ü—Ä–∏–º–µ—Ä: `GET /v3.1/name/portugal HTTP/1.1`

   - `GET` ‚Äî –ú–µ—Ç–æ–¥ (–ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ).
   - `/v3.1/name/portugal` ‚Äî –†–µ—Å—É—Ä—Å (–¥–∞–Ω–Ω—ã–µ –æ –ü–æ—Ä—Ç—É–≥–∞–ª–∏–∏).
   - `HTTP/1.1` ‚Äî –í–µ—Ä—Å–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.

2. **–ó–∞–≥–æ–ª–æ–≤–∫–æ–≤:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.  
   –ü—Ä–∏–º–µ—Ä: –ë—Ä–∞—É–∑–µ—Ä —Å–æ–æ–±—â–∞–µ—Ç, –∫–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç (`Accept-Language: ru`).

3. **–¢–µ–ª–∞ (body):** –¢–æ–ª—å–∫–æ –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ `POST` –∏–ª–∏ `PUT`, –≥–¥–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.  
   –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É.

---

#### 7. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä —Å –∑–∞–ø—Ä–æ—Å–æ–º?

–ö–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å:

1. –û–Ω —á–∏—Ç–∞–µ—Ç —Ä–µ—Å—É—Ä—Å (`/v3.1/name/portugal`) –∏ –ø–æ–Ω–∏–º–∞–µ—Ç, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ.
2. –ò—â–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Å–≤–æ–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
3. –§–æ—Ä–º–∏—Ä—É–µ—Ç HTTP-–æ—Ç–≤–µ—Ç —Å –Ω—É–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

---

#### 8. –ß—Ç–æ —Ç–∞–∫–æ–µ HTTP-–æ—Ç–≤–µ—Ç?

–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:

1. **–°—Ç–∞—Ç—É—Å –∫–æ–¥:**

   - `200 OK` ‚Äî –í—Å–µ —Ö–æ—Ä–æ—à–æ.
   - `404 Not Found` ‚Äî –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω.
   - `500 Internal Server Error` ‚Äî –û—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

2. **–ó–∞–≥–æ–ª–æ–≤–∫–∏:** –ù–∞–ø—Ä–∏–º–µ—Ä, —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤ —Ç–µ–ª–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è JSON.
3. **–¢–µ–ª–æ (body):** –°–æ–¥–µ—Ä–∂–∏—Ç —Å–∞–º–∏ –¥–∞–Ω–Ω—ã–µ.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**

```json
{
  "name": "Portugal",
  "population": 10305564,
  "region": "Europe"
}
```

---

#### 9. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ?

–ë—Ä–∞—É–∑–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç.

- –ï—Å–ª–∏ —ç—Ç–æ HTML, –æ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É.
- –ï—Å–ª–∏ —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ (JSON), JavaScript –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

---

#### 10. JSON: –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö

**JSON** (JavaScript Object Notation) ‚Äî  
—ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏.  
–û–Ω –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ä–µ–∫—Ç JavaScript, –Ω–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç.

**–ü—Ä–∏–º–µ—Ä JSON:**

```json
{
  "name": "Portugal",
  "population": 10305564,
  "region": "Europe",
  "languages": ["Portuguese"]
}
```

---

#### 11. –ö–∞–∫ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ TCP/IP?

–î–∞–Ω–Ω—ã–µ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ –ø–∞–∫–µ—Ç—ã:

- –ü–∞–∫–µ—Ç 1: `"name": "Portu`
- –ü–∞–∫–µ—Ç 2: `gal", "populat`
- –ü–∞–∫–µ—Ç 3: `ion": 1030556`
- –ü–∞–∫–µ—Ç 4: `4 }`  
  –ö–æ–≥–¥–∞ –≤—Å–µ –ø–∞–∫–µ—Ç—ã –¥–æ—Ö–æ–¥—è—Ç –¥–æ –±—Ä–∞—É–∑–µ—Ä–∞,  
  TCP —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏—Å—Ö–æ–¥–Ω—ã–π JSON.

---

#### 12. –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏

**–®–∞–≥–∏:**

1. –í—ã –≤–≤–æ–¥–∏—Ç–µ URL: `https://restcountries.com/v3.1/name/portugal`.
2. DNS –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç IP-–∞–¥—Ä–µ—Å: `192.168.1.1`.
3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ TCP/IP.
4. –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å:

```
GET /v3.1/name/portugal HTTP/1.1
Host: restcountries.com
```

5. –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç:

```
HTTP/1.1 200 OK
Content-Type: application/json

{
  "name": "Portugal",
  "population": 10305564,
  "region": "Europe"
}
```

6. –ë—Ä–∞—É–∑–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏.

---

#### 13. –ß–µ–º HTTP –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç HTTPS?

- **HTTP** –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –µ—Å—Ç—å.
- **HTTPS** —à–∏—Ñ—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞.  
  **–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?**  
  –ö–æ–≥–¥–∞ –≤—ã –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã,  
  —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—â–∞–µ—Ç –∏—Ö –æ—Ç –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤.

---

#### 14. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç HTML.
2. –í HTML –æ–Ω –≤–∏–¥–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ CSS, JavaScript –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π HTTP-–∑–∞–ø—Ä–æ—Å.
4. –ö–æ–≥–¥–∞ –≤—Å–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è.

---

#### 15. –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —ç—Ç–æ –Ω–æ–≤–∏—á–∫–∞–º?

- –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç—ã –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
- –ó–Ω–∞–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å,  
  –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç API –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ JavaScript.

**–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**

1. –í—ã –≤–≤–æ–¥–∏—Ç–µ `restcountries.com`.
2. DNS –Ω–∞—Ö–æ–¥–∏—Ç IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.
3. –í–∞—à –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å:

```
GET /v3.1/name/portugal HTTP/1.1
```

4. –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç:

```
HTTP/1.1 200 OK
{
  "name": "Portugal",
  "region": "Europe"
}
```

5. –ë—Ä–∞—É–∑–µ—Ä –≤—ã–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —ç–∫—Ä–∞–Ω.

---

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ HTTP –æ—Ç–≤–µ—Ç–µ?

**–û—Ç–≤–µ—Ç:**  
–ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ HTTP-–æ—Ç–≤–µ—Ç–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∞–º–æ–º –æ—Ç–≤–µ—Ç–µ.  
–û–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –¥–≤–æ–µ—Ç–æ—á–∏–µ–º `:`.  
–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–∏–ø–∏—á–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ HTTP-–æ—Ç–≤–µ—Ç–∞:

**–ü—Ä–∏–º–µ—Ä HTTP-–æ—Ç–≤–µ—Ç–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏:**

```
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 123
Date: Sat, 07 Dec 2024 10:30:00 GMT
Connection: keep-alive
Cache-Control: max-age=3600
Server: Apache
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π –∑–∞–≥–æ–ª–æ–≤–∫–∞**

- **–°—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ (Status Line):**  
  `HTTP/1.1 200 OK`

  - `HTTP/1.1` ‚Äî –í–µ—Ä—Å–∏—è HTTP-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞.
  - `200 OK` ‚Äî –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ "–≤—Å—ë —É—Å–ø–µ—à–Ω–æ".

- **–ó–∞–≥–æ–ª–æ–≤–∫–∏ (Headers):**

  - **Content-Type:**  
    `Content-Type: application/json`  
    –£–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.  
    –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ JSON-–¥–∞–Ω–Ω—ã–µ.  
    –ü—Ä–∏–º–µ—Ä –¥–ª—è HTML: `text/html`  
    –ü—Ä–∏–º–µ—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: `image/png`

  - **Content-Length:**  
    `Content-Length: 123`  
    –£–∫–∞–∑—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞ –≤ –±–∞–π—Ç–∞—Ö (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ 123 –±–∞–π—Ç–∞).

  - **Date:**  
    `Date: Sat, 07 Dec 2024 10:30:00 GMT`  
    –í—Ä–µ–º—è, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ç–≤–µ—Ç.

  - **Connection:**  
    `Connection: keep-alive`  
    –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º  
    (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è).

  - **Cache-Control:**  
    `Cache-Control: max-age=3600`  
    –£–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è.  
    –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 3600 —Å–µ–∫—É–Ω–¥.

  - **Server:**  
    `Server: Apache`  
    –£–∫–∞–∑—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–æ—Ç–∞–ª –∑–∞–ø—Ä–æ—Å.  
    –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä Apache.

**–¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ API —Å —Ç–µ–ª–æ–º (JSON)**  
–û—Ç–≤–µ—Ç API –æ–±—ã—á–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```
HTTP/1.1 200 OK
Content-Type: application/json
Content-Length: 67
Date: Sat, 07 Dec 2024 10:30:00 GMT
Connection: keep-alive

{
  "name": "Portugal",
  "population": 10305564,
  "region": "Europe"
}
```

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**  
–î–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–µ –¥–∞–Ω–Ω—ã—Ö (`application/json`),  
—Ä–∞–∑–º–µ—Ä–µ –æ—Ç–≤–µ—Ç–∞ (`Content-Length`) –∏ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (`Date`).

**–¢–µ–ª–æ (Body):**  
–≠—Ç–æ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É.  
–ó–¥–µ—Å—å —ç—Ç–æ JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç—Ä–∞–Ω–µ.

**–¢–∏–ø—ã –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤**

- **–û–±—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**  
  `Date`: –î–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞.  
  `Connection`: –¢–∏–ø —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (`keep-alive` –∏–ª–∏ `close`).

- **–ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (Content Headers)**  
  `Content-Type`: –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `application/json`, `text/html`).  
  `Content-Length`: –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–π—Ç–∞—Ö.

- **–ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (Caching Headers)**  
  `Cache-Control`: –ü—Ä–∞–≤–∏–ª–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `no-cache`, `max-age`).  
  `Expires`: –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∫–µ—à–∞.

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**  
  –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –¥–æ–±–∞–≤–ª—è—é—Ç —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:  
  `X-Custom-Header: MyCustomValue`

**–ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞:**  
–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç:

```
HTTP/1.1 404 Not Found
Content-Type: text/html
Content-Length: 178
Date: Sat, 07 Dec 2024 10:45:00 GMT
Connection: close
```

- –°—Ç–∞—Ç—É—Å: `404 Not Found` ‚Äî –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω.
- –¢–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ: `text/html` ‚Äî –≠—Ç–æ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞.
- –î–ª–∏–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ: `178` ‚Äî –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–µ—Å–∏—Ç 178 –±–∞–π—Ç.
- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ: `close` ‚Äî –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç–æ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞.

**–ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤:**

- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞, –Ω–æ –¥–∞—é—Ç –≤–∞–∂–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ.
- –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –±—Ä–∞—É–∑–µ—Ä—É –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
- –ó–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `Content-Type` –∏–ª–∏ `Cache-Control`,  
  –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

// ------------------------------------------------------------------------ //

## \*–î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í –ê–î –û–ë–†–ê–¢–ù–û–ì–û –í–´–ó–û–í–ê

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –∏—Ö –ø—Ä–æ–±–ª–µ–º—ã,  
—Ç–∞–∫–∏–µ –∫–∞–∫ callback hell (–∞–¥ –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤).  
–ú—ã —É–∑–Ω–∞–µ–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∑–∞–≤–∏—Å–µ–ª –æ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ,  
–∞ –∑–∞—Ç–µ–º –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤.

#### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã?

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (Ajax-–∑–∞–ø—Ä–æ—Å—ã) –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.  
–ù–æ –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–ª—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–µ—Ä–≤—ã–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è.

**–ü—Ä–∏–º–µ—Ä:**

1. –°–Ω–∞—á–∞–ª–∞ –º—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ü–æ—Ä—Ç—É–≥–∞–ª–∏—è).
2. –ó–∞—Ç–µ–º –º—ã –∏–∑–≤–ª–µ–∫–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ò—Å–ø–∞–Ω–∏–∏) –∏–∑ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
3. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ (–ò—Å–ø–∞–Ω–∏–∏).  
   –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–æ—Å–æ–≤,  
   —Ç–∞–∫ –∫–∞–∫ –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å—Å—è, –ø–æ–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –ø–µ—Ä–≤—ã–π.

---

#### 2. –ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å: –ø–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä

**–ö–æ–¥ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:**

```javascript
function getCountryAndNeighbor(country) {
  // –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å: –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ
  const request = new XMLHttpRequest();
  request.open("GET", `https://restcountries.com/v3.1/name/${country}`);
  request.send();

  request.addEventListener("load", function () {
    const [data] = JSON.parse(this.responseText); // –ü–∞—Ä—Å–∏–º –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ
    console.log("–°—Ç—Ä–∞–Ω–∞:", data.name.common);

    // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã
    const neighbor = data.borders ? data.borders[0] : null;

    if (!neighbor) {
      console.log("–°–æ—Å–µ–¥–µ–π –Ω–µ—Ç.");
      return;
    }

    // –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å: –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ
    const request2 = new XMLHttpRequest();
    request2.open("GET", `https://restcountries.com/v3.1/alpha/${neighbor}`);
    request2.send();

    request2.addEventListener("load", function () {
      const data2 = JSON.parse(this.responseText);
      console.log("–°–æ—Å–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∞:", data2.name.common);
    });
  });
}

// –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é
getCountryAndNeighbor("portugal");
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å: –º—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ –ü–æ—Ä—Ç—É–≥–∞–ª–∏–∏.
2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö: –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É —Å—Ç—Ä–∞–Ω—ã —Å–æ—Å–µ–¥–∏.  
   –ï—Å–ª–∏ –µ—Å—Ç—å, –∏–∑–≤–ª–µ–∫–∞–µ–º –∫–æ–¥ –ø–µ—Ä–≤–æ–π —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã.
3. –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å: –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–¥–∞ —Å–æ—Å–µ–¥–∞ –¥–µ–ª–∞–µ–º –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å,  
   —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ.

---

#### 3. –ü—Ä–æ–±–ª–µ–º–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**  
–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤,  
–∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å—ë –±–æ–ª–µ–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –∏ —Ç—Ä—É–¥–Ω–æ —á–∏—Ç–∞–µ–º—ã–º.

**–ü—Ä–∏–º–µ—Ä callback hell:**

```javascript
setTimeout(() => {
  console.log("–ü—Ä–æ—à–ª–æ 1 —Å–µ–∫—É–Ω–¥–∞");
  setTimeout(() => {
    console.log("–ü—Ä–æ—à–ª–æ 2 —Å–µ–∫—É–Ω–¥—ã");
    setTimeout(() => {
      console.log("–ü—Ä–æ—à–ª–æ 3 —Å–µ–∫—É–Ω–¥—ã");
    }, 1000);
  }, 1000);
}, 1000);
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞?**

- –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω—ã–º (–æ–±—Ä–∞–∑—É–µ—Ç—Å—è "—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞").
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏—è:  
  –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ —Ç–∞–π–º–µ—Ä–æ–≤ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –≥—Ä–æ–º–æ–∑–¥–∫–∏–º –∏ —Ç—Ä—É–¥–Ω—ã–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.
- –¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∞–º–∏:  
  –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫ –≤ –æ–¥–Ω–æ–º –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤,  
  –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.

---

#### 4. Callback Hell –≤ Ajax-–∑–∞–ø—Ä–æ—Å–∞—Ö

**–ü—Ä–∏–º–µ—Ä —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏:**  
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å:

1. –°—Ç—Ä–∞–Ω—É.
2. –°–æ—Å–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω—É.
3. –°–æ—Å–µ–¥–∞ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã.

**–ö–æ–¥ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:**

```javascript
function getCountryData(country) {
  const request = new XMLHttpRequest();
  request.open("GET", `https://restcountries.com/v3.1/name/${country}`);
  request.send();

  request.addEventListener("load", function () {
    const [data] = JSON.parse(this.responseText);
    console.log("–°—Ç—Ä–∞–Ω–∞:", data.name.common);

    const neighbor = data.borders ? data.borders[0] : null;
    if (!neighbor) return;

    const request2 = new XMLHttpRequest();
    request2.open("GET", `https://restcountries.com/v3.1/alpha/${neighbor}`);
    request2.send();

    request2.addEventListener("load", function () {
      const data2 = JSON.parse(this.responseText);
      console.log("–°–æ—Å–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∞:", data2.name.common);

      const neighborOfNeighbor = data2.borders ? data2.borders[0] : null;
      if (!neighborOfNeighbor) return;

      const request3 = new XMLHttpRequest();
      request3.open(
        "GET",
        `https://restcountries.com/v3.1/alpha/${neighborOfNeighbor}`
      );
      request3.send();

      request3.addEventListener("load", function () {
        const data3 = JSON.parse(this.responseText);
        console.log("–°–æ—Å–µ–¥ —Å–æ—Å–µ–¥–∞:", data3.name.common);
      });
    });
  });
}

getCountryData("portugal");
```

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**

- –ì—Ä–æ–º–æ–∑–¥–∫–æ—Å—Ç—å: –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å—ë –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º.
- –û—à–∏–±–∫–∏: –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –≤ –æ–¥–Ω–æ–º –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –µ—â—ë —Å–ª–æ–∂–Ω–µ–µ.

---

#### 5. –†–µ—à–µ–Ω–∏–µ: –ø–µ—Ä–µ—Ö–æ–¥ –∫ Promise

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å callback hell, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise (–æ–±–µ—â–∞–Ω–∏—è).  
–û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –±–æ–ª–µ–µ –ª–∏–Ω–µ–π–Ω–æ –∏ –∏–∑–±–µ–≥–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Promise:**

- –ù–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.
- –õ–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–Ω–∏–º–∞—Ç—å.
- –£–¥–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é `.catch()`.

**–ò—Ç–æ–≥:**  
–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –∏–∑—É—á–∏–ª–∏, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ Ajax-–∑–∞–ø—Ä–æ—Å—ã,  
–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –ø—Ä–æ–±–ª–µ–º—É –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–±—ç–∫–æ–≤.  
–ü—Ä–æ–±–ª–µ–º–∞ callback hell –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π  
–∏ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞ –∏—Ö —á—Ç–µ–Ω–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.  
–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã.

---

// ------------------------------------------------------------------------ //

## \*PROMISE (–û–ë–ï–©–ê–ù–ò–Ø) –ò FETCH API

–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ fetch –∏ Promise:  
–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º —É—Ä–æ–∫–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî XMLHttpRequest.  
–û–Ω –±—ã–ª —Å–ª–æ–∂–Ω—ã–º –∏ –≤—ã–∑—ã–≤–∞–ª –ø—Ä–æ–±–ª–µ–º—É "callback hell".  
–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî fetch, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise.

#### –ß—Ç–æ —Ç–∞–∫–æ–µ Promise?

Promise ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**  
–ö–æ–≥–¥–∞ –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, Promise –≥–æ–≤–æ—Ä–∏—Ç: "–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –ø–æ–∑–∂–µ".  
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ Promise –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

- –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (fulfilled).
- –û—à–∏–±–∫–∞ (rejected).

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Promise?

**–ü—Ä–∏–º–µ—Ä —Å fetch:**

```javascript
const request = fetch("https://restcountries.com/v3.1/name/portugal");
console.log(request);
```

–ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º fetch, –æ–Ω —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise,  
–∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **Pending** (–æ–∂–∏–¥–∞–Ω–∏–µ).  
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ—â—ë –Ω–µ –ø–æ–ª—É—á–µ–Ω.

#### –°–æ—Å—Ç–æ—è–Ω–∏—è Promise

1. **Pending (–æ–∂–∏–¥–∞–Ω–∏–µ):**  
   Promise –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω.  
   –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω, –Ω–æ –¥–∞–Ω–Ω—ã–µ –µ—â—ë –Ω–µ –ø—Ä–∏—à–ª–∏.

2. **Fulfilled (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ):**  
   Promise —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –∏ –≤–µ—Ä–Ω—É–ª –¥–∞–Ω–Ω—ã–µ.  
   –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–∏–ª –Ω–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞–Ω–µ.

3. **Rejected (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ):**  
   Promise –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –æ—à–∏–±–∫–æ–π.  
   –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ.

#### –ü–æ–Ω–∏–º–∞–Ω–∏–µ Promise —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–æ–≥–∏—é:

**–õ–æ—Ç–µ—Ä–µ–π–Ω—ã–π –±–∏–ª–µ—Ç:**

- –ü–æ–∫—É–ø–∫–∞ –ª–æ—Ç–µ—Ä–µ–π–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞ ‚Äî —ç—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ Promise.
- **–í—ã–∏–≥—Ä—ã—à:**
  - –ï—Å–ª–∏ –±–∏–ª–µ—Ç –≤—ã–∏–≥—Ä–∞–ª, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –¥–µ–Ω—å–≥–∏ (fulfilled).
  - –ï—Å–ª–∏ –ø—Ä–æ–∏–≥—Ä–∞–ª, –≤—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç–µ (rejected).

#### –ö–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç Promise?

–ö–æ–≥–¥–∞ Promise –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `.then()` –∏ `.catch()`:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => {
    console.log(response);
    return response.json(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ JSON
  })
  .then((data) => {
    console.log(data[0]); // –†–∞–±–æ—Ç–∞–µ–º —Å –¥–∞–Ω–Ω—ã–º–∏
  })
  .catch((err) => {
    console.error("–û—à–∏–±–∫–∞:", err); // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
  });
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–¥–µ—Å—å:**

1. `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise:  
   –û–Ω –≥–æ–≤–æ—Ä–∏—Ç: "–Ø –æ—Ç–ø—Ä–∞–≤–∏–ª –∑–∞–ø—Ä–æ—Å, –ø–æ–¥–æ–∂–¥–∏ –Ω–µ–º–Ω–æ–≥–æ".
2. `.then(response => ...):`  
   –ö–æ–≥–¥–∞ Promise –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç (`response`) –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `.then`.
3. `.catch(err => ...):`  
   –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –æ–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ `.catch`.

#### –ü–æ—á–µ–º—É Promise –ø–æ–ª–µ–∑–µ–Ω?

- **–õ–∏–Ω–µ–π–Ω–æ—Å—Ç—å:**  
  –ú—ã –ø–∏—à–µ–º –∫–æ–¥ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–±—ç–∫–∏.
- **–£–¥–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**  
  `.catch` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
- **–ò–∑–±–µ–≥–∞–µ–º "callback hell":**  
  –í–º–µ—Å—Ç–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–ø–æ—á–∫–∏ `.then()`.

#### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Promise

1. **–°–æ–∑–¥–∞–Ω–∏–µ:**  
   –ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, Promise —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ **Pending**.
2. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ:**
   - –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ:  
     Promise –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ **Fulfilled** –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.
   - –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:  
     Promise –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ **Rejected** –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É.

#### –ü—Ä–∏–º–µ—Ä –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Promise:

1. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ fetch:
   ```javascript
   const request = fetch("https://restcountries.com/v3.1/name/portugal");
   ```
2. Promise –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ Pending:
   ```javascript
   console.log(request); // Promise {<Pending>}
   ```
3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   ```javascript
   request
     .then((response) => response.json()) // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ—Ç–≤–µ—Ç –≤ JSON
     .then((data) => console.log(data[0])); // –†–∞–±–æ—Ç–∞–µ–º —Å –¥–∞–Ω–Ω—ã–º–∏
   ```
4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É:
   ```javascript
   request.catch((err) => console.error("–û—à–∏–±–∫–∞:", err)); // –õ–æ–≤–∏–º –æ—à–∏–±–∫–∏
   ```

#### –ò—Ç–æ–≥

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã:

- –ò–∑—É—á–∏–ª–∏, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç fetch –∏ —á–µ–º –æ–Ω –ª—É—á—à–µ —Å—Ç–∞—Ä–æ–≥–æ –º–µ—Ç–æ–¥–∞ XMLHttpRequest.
- –£–∑–Ω–∞–ª–∏, —á—Ç–æ —Ç–∞–∫–æ–µ Promise –∏ –µ–≥–æ —Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è: Pending, Fulfilled, Rejected.
- –ù–∞—É—á–∏–ª–∏—Å—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –ø–æ–º–æ—â—å—é `.then()` –∏ –æ—à–∏–±–∫–∏ —Å –ø–æ–º–æ—â—å—é `.catch()`.  
  –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.  
  –í —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö –º—ã —É–≥–ª—É–±–∏–º—Å—è –≤ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã —Ä–∞–±–æ—Ç—ã —Å Promise!

---

// ------------------------------------------------------------------------ //

## \*–ü–û–ì–õ–û–©–ê–Æ–©–ò–ï –û–ë–ï–©–ê–ù–ò–Ø - Consuming Promises

#### –ß—Ç–æ —Ç–∞–∫–æ–µ Promise?

Promise ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏,  
–∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è:

- –£—Å–ø–µ—à–Ω–æ (Fulfilled) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- –° –æ—à–∏–±–∫–æ–π (Rejected) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞.
- –û–∂–∏–¥–∞–Ω–∏–µ (Pending) ‚Äî –ø–æ–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.  
  –° Promise –º—ã –º–æ–∂–µ–º "–ø–æ–¥–æ–∂–¥–∞—Ç—å" –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏,  
  –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

–ú—ã –±—É–¥–µ–º:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å fetch –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é Promise –∏ –µ–≥–æ –º–µ—Ç–æ–¥–æ–≤ `.then()` –∏ `.catch()`.
- –°–¥–µ–ª–∞–µ–º –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –∏–∑–±–∞–≤–∏–º—Å—è –æ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (callback hell).

#### –ü—Ä–∏–º–µ—Ä: –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—Ä–∞–Ω–µ —á–µ—Ä–µ–∑ fetch

**–ö–æ–¥:**

```javascript
function getCountryData(country) {
  fetch(`https://restcountries.com/v3.1/name/${country}`)
    .then((response) => {
      console.log(response);
      return response.json(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ JSON
    })
    .then((data) => {
      console.log(data[0]); // –†–∞–±–æ—Ç–∞–µ–º —Å –ø–µ—Ä–≤—ã–º –æ–±—ä–µ–∫—Ç–æ–º –≤ –º–∞—Å—Å–∏–≤–µ
    });
}

getCountryData("portugal");
```

#### –®–∞–≥–∏ —Ä–∞–±–æ—Ç—ã –∫–æ–¥–∞

**–®–∞–≥ 1: –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ fetch**  
–ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º fetch, –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise:

```javascript
fetch(`https://restcountries.com/v3.1/name/${country}`);
```

–≠—Ç–æ—Ç Promise –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **Pending**, –ø–æ–∫–∞ –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è.

**–®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —Å .then()**  
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ (Promise —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è **Fulfilled**) –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º  
`.then()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

```javascript
fetch(`https://restcountries.com/v3.1/name/${country}`).then((response) => {
  console.log(response);
  return response.json(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –≤ JSON
});
```

`response.json()`:

- –ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç JSON.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—â—ë –æ–¥–∏–Ω Promise, —Ç–∞–∫ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞.

**–®–∞–≥ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª–µ–¥—É—é—â–µ–º .then()**  
–ü–æ—Å–ª–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ JSON, –º—ã —Å–Ω–æ–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º `.then()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:

```javascript
fetch(`https://restcountries.com/v3.1/name/${country}`)
  .then((response) => response.json())
  .then((data) => {
    console.log(data[0]); // –†–∞–±–æ—Ç–∞–µ–º —Å –ø–µ—Ä–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º –º–∞—Å—Å–∏–≤–∞
  });
```

–ó–¥–µ—Å—å –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ, —Ç–∞–∫–∏–µ –∫–∞–∫:

- –ù–∞–∑–≤–∞–Ω–∏–µ: `data[0].name.common`
- –†–µ–≥–∏–æ–Ω: `data[0].region`
- –ù–∞—Å–µ–ª–µ–Ω–∏–µ: `data[0].population`

#### –ü–æ—á–µ–º—É fetch + Promise –ª—É—á—à–µ —Å—Ç–∞—Ä–æ–≥–æ –º–µ—Ç–æ–¥–∞?

- **–ú–µ–Ω—å—à–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏:**  
  –ú—ã –º–æ–∂–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —à–∞–≥–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å –ø–æ–º–æ—â—å—é `.then()`.  
  –ù–µ—Ç "callback hell".
- **–ü—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**  
  –í–µ—Å—å –∫–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ —Å –ø–æ–º–æ—â—å—é `.catch()`.
- **–õ–∏–Ω–µ–π–Ω–æ—Å—Ç—å:**  
  –ö–æ–¥ —á–∏—Ç–∞–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –∫–∞–∫ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

#### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

- `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise:  
  Promise –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.
- **–ú–µ—Ç–æ–¥—ã .then():**  
  –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç Promise.  
  –ö–∞–∂–¥—ã–π `.then()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π Promise.
- **–ú–µ—Ç–æ–¥ .catch():**  
  –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏.

#### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –¥–æ –∏ –ø–æ—Å–ª–µ

**–°—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ (XMLHttpRequest):**

```javascript
const request = new XMLHttpRequest();
request.open("GET", "https://restcountries.com/v3.1/name/portugal");
request.send();
request.addEventListener("load", function () {
  console.log(JSON.parse(this.responseText));
});
```

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ (Fetch + Promise):**

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => response.json())
  .then((data) => console.log(data[0]));
```

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä: –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω

**–ö–æ–¥:**

```javascript
function getCountryData(country) {
  fetch(`https://restcountries.com/v3.1/name/${country}`)
    .then((response) => {
      if (!response.ok) throw new Error("Country not found");
      return response.json();
    })
    .then((data) => {
      console.log(`–°—Ç—Ä–∞–Ω–∞: ${data[0].name.common}`);
      console.log(`–†–µ–≥–∏–æ–Ω: ${data[0].region}`);
      console.log(`–ù–∞—Å–µ–ª–µ–Ω–∏–µ: ${data[0].population}`);
      return fetch(`https://restcountries.com/v3.1/name/spain`);
    })
    .then((response) => response.json())
    .then((data) => {
      console.log(`–°–æ—Å–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∞: ${data[0].name.common}`);
    })
    .catch((err) => {
      console.error(`–û—à–∏–±–∫–∞: ${err.message}`);
    });
}

getCountryData("portugal");
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –ü–æ—Ä—Ç—É–≥–∞–ª–∏–∏.
2. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ—Å–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ò—Å–ø–∞–Ω–∏—é).
3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ–±–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.

#### –ò—Ç–æ–≥

Fetch + Promise ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º.  
–ú–µ—Ç–æ–¥—ã `.then()` –∏ `.catch()` –¥–µ–ª–∞—é—Ç –∫–æ–¥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∏ —á–∏—Ç–∞–µ–º—ã–º.

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ª—É—á—à–µ —Å—Ç–∞—Ä–æ–≥–æ –º–µ—Ç–æ–¥–∞ XMLHttpRequest:

- –ú–µ–Ω—å—à–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.
- –õ–µ–≥—á–µ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.
- –ü—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.

---

**–í–æ–ø—Ä–æ—Å:** –Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é –ø–æ—á–µ–º—É –º—ã JSON –Ω–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é JSON.Parse()? –í–æ—Ç –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:  
`return response.json(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –≤ JSON`

**–û—Ç–≤–µ—Ç:**  
–≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –≤—ã –Ω–æ–≤–∏—á–æ–∫ –∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ!

#### –ü–æ—á–µ–º—É `response.json()` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `JSON.parse()`?

–ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ –º–µ—Ç–æ–¥ `response.json()`,  
–æ–Ω —É–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–±–æ—Ç—É –ø–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é JSON (—Ñ–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏) –≤ –æ–±—ã—á–Ω—ã–π JavaScript-–æ–±—ä–µ–∫—Ç.  
–≠—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–∞ `response.json()`.

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `response.json()`?

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–≤–∞ –¥–µ–π—Å—Ç–≤–∏—è:

1. –ß–∏—Ç–∞–µ—Ç —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ (Response Body), –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ã—á–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
2. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç JSON-—Å—Ç—Ä–æ–∫—É –≤ JavaScript-–æ–±—ä–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é `JSON.parse()`.  
   `response.json()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ JSON –º–æ–∂–µ—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏).

#### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: `JSON.parse()` –∏ `response.json()`

–ï—Å–ª–∏ –±—ã `response.json()` –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ,  
–º—ã –±—ã —Å–¥–µ–ª–∞–ª–∏ —ç—Ç–æ –≤—Ä—É—á–Ω—É—é, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => {
    return response.text(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–µ–ª–æ –≤ —Ç–µ–∫—Å—Ç
  })
  .then((text) => {
    const data = JSON.parse(text); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–µ–∫—Å—Ç –≤ –æ–±—ä–µ–∫—Ç –≤—Ä—É—á–Ω—É—é
    console.log(data);
  });
```

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —ç—Ç–æ –º–µ–Ω–µ–µ —É–¥–æ–±–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –¥–æ–ª–∂–Ω—ã —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç,  
–∞ –∑–∞—Ç–µ–º –≤—Ä—É—á–Ω—É—é –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é `JSON.parse()`.

#### –ü–æ—á–µ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `response.json()`?

- –ü—Ä–æ—â–µ –∏ —á–∏—â–µ: –º–µ—Ç–æ–¥ –¥–µ–ª–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∑–∞ –Ω–∞—Å.
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å: –æ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç JSON –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –≤—Å—Ç—Ä–æ–µ–Ω –≤ Fetch API.

#### –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:

–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTML –∏–ª–∏ —Ç–µ–∫—Å—Ç),  
–≤—ã–∑–æ–≤ `response.json()` –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –æ—à–∏–±–∫–æ–π.  
–ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –≤—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –æ—Ç–≤–µ—Ç–∞, –ª—É—á—à–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ –∑–∞—Ä–∞–Ω–µ–µ:

```javascript
fetch("https://example.com/api")
  .then((response) => {
    if (response.headers.get("content-type").includes("application/json")) {
      return response.json();
    } else {
      throw new Error("–û—Ç–≤–µ—Ç –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON");
    }
  })
  .then((data) => {
    console.log(data);
  })
  .catch((err) => {
    console.error(err.message);
  });
```

#### –ò—Ç–æ–≥:

- `response.json()` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `JSON.parse()`, —á—Ç–æ–±—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å JSON-—Å—Ç—Ä–æ–∫—É –≤ JavaScript-–æ–±—ä–µ–∫—Ç.
- –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `response.json()`, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–¥ –∏ —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–º –¥–ª—è —á—Ç–µ–Ω–∏—è.
- –û–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ü–µ–ø–æ—á–∫—É —Å `.then()`.  
  –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ `response.json()` ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∑–∞ –≤–∞—Å!

---

**–í–æ–ø—Ä–æ—Å:** –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal").then((response) => {
  // response.json() —É–∂–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç JSON –≤ –æ–±—ä–µ–∫—Ç
  return response.json();
});
```

–ö–æ–≥–¥–∞ fetch –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç promise, –º–µ—Ç–æ–¥ `.then(response => {})`  
–±–µ—Ä–µ—Ç –∏–º–µ–Ω–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ —Ç–µ–ª–æ body –∏–∑ –æ–±—â–µ–≥–æ HTTP –æ—Ç–≤–µ—Ç–∞?  
–Ø –∑–∞–¥–∞–ª —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–±—ã—á–Ω–æ –∫–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º  
–ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–æ –ø–∏—à–µ–º –≤–æ—Ç —Ç–∞–∫: `response.body`

**–û—Ç–≤–µ—Ç:**  
–≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –∏ –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≥–ª—É–±–∂–µ –ø–æ–Ω—è—Ç—å,  
–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç fetch –∏ –µ–≥–æ –º–µ—Ç–æ–¥—ã.  
–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –≤–∞—à –≤–æ–ø—Ä–æ—Å —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç fetch?

–ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `fetch()`, –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Promise,  
–∫–æ—Ç–æ—Ä—ã–π, –∫–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (resolves), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç Response.  
–≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ HTTP-–æ—Ç–≤–µ—Ç–µ,  
–≤–∫–ª—é—á–∞—è:

- –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ (status), –Ω–∞–ø—Ä–∏–º–µ—Ä 200, 404.
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ (headers), –Ω–∞–ø—Ä–∏–º–µ—Ä Content-Type.
- –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ (body).

–û–¥–Ω–∞–∫–æ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ (body) –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Å—Ä–∞–∑—É –≤ —á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ.  
–≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ —Ç–µ–ª–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ –≤–∏–¥–µ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö (stream).  
–ü–æ—ç—Ç–æ–º—É –µ–≥–æ –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã,  
—Ç–∞–∫–∏–µ –∫–∞–∫:

- `response.json()` ‚Äî –µ—Å–ª–∏ —Ç–µ–ª–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
- `response.text()` ‚Äî –µ—Å–ª–∏ —Ç–µ–ª–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.
- `response.blob()` ‚Äî –µ—Å–ª–∏ —Ç–µ–ª–æ ‚Äî —Ñ–∞–π–ª, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Ç.–¥.

#### –ü–æ—á–µ–º—É `response.json()` –≤–º–µ—Å—Ç–æ `response.body`?

1. **response.body ‚Äî —ç—Ç–æ –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö**  
   –ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–µ—Ç–µ `response.body`, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ–±—ä–µ–∫—Ç `ReadableStream`,  
   –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ—Ç–æ–∫ (stream) –¥–∞–Ω–Ω—ã—Ö.  
   –≠—Ç–æ –Ω–µ –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

   **–ü—Ä–∏–º–µ—Ä:**

   ```javascript
   fetch("https://restcountries.com/v3.1/name/portugal").then((response) => {
     console.log(response.body); // ReadableStream, –∞ –Ω–µ JSON
   });
   ```

   –í—ã —É–≤–∏–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –æ–±—ä–µ–∫—Ç `ReadableStream`,  
   –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏, —á—Ç–æ–±—ã –∏–∑–≤–ª–µ—á—å –∏–∑ –Ω–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

2. **response.json() –¥–µ–ª–∞–µ—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É –∑–∞ –≤–∞—Å**  
   –ú–µ—Ç–æ–¥ `response.json()`:

   - –ß–∏—Ç–∞–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `response.body`.
   - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON-—Å—Ç—Ä–æ–∫–∏ –≤ JavaScript-–æ–±—ä–µ–∫—Ç.
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã.

   **–ü—Ä–∏–º–µ—Ä:**

   ```javascript
   fetch("https://restcountries.com/v3.1/name/portugal")
     .then((response) => {
       // .json() –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç response.body
       return response.json();
     })
     .then((data) => {
       console.log(data); // –ì–æ—Ç–æ–≤—ã–π JavaScript-–æ–±—ä–µ–∫—Ç
     });
   ```

#### –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏—Ç—å `response.body` –∫–∞–∫ JSON?

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö —Ç–µ–ª–æ HTTP-–æ—Ç–≤–µ—Ç–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –≤–∏–¥–µ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö (stream),  
—á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**

- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª, –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —á–∞—Å—Ç–∏ —Ñ–∞–π–ª–∞,  
  –ø–æ–∫–∞ –æ—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –µ—â–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è.
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö,  
  –∞ –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
- –ú–µ—Ç–æ–¥—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `response.json()`, –≤—ã–ø–æ–ª–Ω—è—é—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ä–∞–±–æ—Ç—É,  
  —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –≤ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä–µ–∫—Ç).

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `then(response => {...})`?

–ú–µ—Ç–æ–¥ `.then()` –Ω–µ "–±–µ—Ä–µ—Ç" —Å–≤–æ–π—Å—Ç–≤–æ `body` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:

- `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Response, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É HTTP-–∑–∞–ø—Ä–æ—Å–∞.
- –û–±—ä–µ–∫—Ç Response –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–æ–ª–±—ç–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ `.then(response => {...})`.
- –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–µ–ª–∞ (body), –≤—ã –¥–æ–ª–∂–Ω—ã –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä, `response.json()`.

#### –ü—Ä–∏–º–µ—Ä: –†–∞–±–æ—Ç–∞ —Å `response.body` –Ω–∞–ø—Ä—è–º—É—é

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å `ReadableStream` –Ω–∞–ø—Ä—è–º—É—é, –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å.  
–ù–æ —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —É—Å–∏–ª–∏–π. –ü—Ä–∏–º–µ—Ä:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => {
    const reader = response.body.getReader(); // –î–æ—Å—Ç–∞–µ–º –ø–æ—Ç–æ–∫
    return reader.read(); // –ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ—Ç–æ–∫–∞
  })
  .then(({ value, done }) => {
    // value ‚Äî —ç—Ç–æ Uint8Array, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –±–∞–π—Ç—ã –¥–∞–Ω–Ω—ã—Ö
    const text = new TextDecoder().decode(value); // –î–µ–∫–æ–¥–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç
    console.log(JSON.parse(text)); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º JSON –≤ –æ–±—ä–µ–∫—Ç
  });
```

–≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ —Ç–æ–º—É, —á—Ç–æ –¥–µ–ª–∞–µ—Ç `response.json()`, –Ω–æ –≤—Ä—É—á–Ω—É—é.

#### –ò—Ç–æ–≥:

- `response.body` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (stream), –∞ –Ω–µ –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.
- –ú–µ—Ç–æ–¥—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `response.json()`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ø–æ—Ç–æ–∫,  
  —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, JavaScript-–æ–±—ä–µ–∫—Ç).
- –ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `.then(response => {...})`, –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –æ–±—ä–µ–∫—Ç–æ–º Response, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å –µ–≥–æ —Ç–µ–ª–æ–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**  
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã, –∫–∞–∫ `response.json()` –∏–ª–∏ `response.text()`,  
—á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏.

---

// -------------------------------------------------------------------------------------- //

## –°–í–Ø–ó–´–í–ê–Æ–©–ò–ï –û–ë–ï–©–ê–ù–ò–Ø - Chaining Promises

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –Ω–∞—É—á–∏–º—Å—è —Ü–µ–ø–æ—á–∫–∞–º –ø—Ä–æ–º–∏—Å–æ–≤ (promise chaining)  
–∏ –ø—Ä–∏–º–µ–Ω–∏–º –∏—Ö –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–≤—É—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (Ajax calls).  
–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–± –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–µ,  
–∞ –∑–∞—Ç–µ–º –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –µ—ë —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ.

#### –ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø—Ä–æ–º–∏—Å–∞—Ö:

- `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Promise, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω (resolved) –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.
- –ú–µ—Ç–æ–¥ `.then` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞.  
  –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–ª–±—ç–∫-—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- –ú–µ—Ç–æ–¥ `.json()` –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ JSON –≤ –æ–±—ä–µ–∫—Ç.  
  –û–¥–Ω–∞–∫–æ –æ–Ω —Ç–æ–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise.

#### –ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º –≤ —ç—Ç–æ–π –∑–∞–¥–∞—á–µ?

1. –î–µ–ª–∞–µ–º –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞–Ω–µ.
2. –ü–æ–ª—É—á–∞–µ–º –∫–æ–¥ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
3. –î–µ–ª–∞–µ–º –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ.
4. –†–µ–Ω–¥–µ—Ä–∏–º –¥–∞–Ω–Ω—ã–µ –æ–±–µ–∏—Ö —Å—Ç—Ä–∞–Ω.

#### –®–∞–≥ 1. –ù–∞—á–Ω–µ–º —Å –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

–ú—ã –≤—ã–∑—ã–≤–∞–µ–º `fetch` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—Ä–∞–Ω–µ:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => response.json()) // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –≤ JSON
  .then((data) => {
    console.log(data); // –î–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ
  });
```

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—Ä–∞–Ω–µ, –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –µ—ë —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã.  
–í API –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å–µ–¥–Ω–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ `borders`.

#### –®–∞–≥ 2. –î–µ–ª–∞–µ–º –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ

–ú—ã –¥–æ–±–∞–≤–ª—è–µ–º –ª–æ–≥–∏–∫—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã.  
–ï—Å–ª–∏ —É —Å—Ç—Ä–∞–Ω—ã –µ—Å—Ç—å —Å–æ—Å–µ–¥–∏, –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => response.json()) // –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å
  .then((data) => {
    console.log(data); // –î–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ
    const neighbor = data[0].borders?.[0]; // –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π –∫–æ–¥ —Å–æ—Å–µ–¥–∞
    if (!neighbor) return; // –ï—Å–ª–∏ —Å–æ—Å–µ–¥–∞ –Ω–µ—Ç, –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å
    return fetch(`https://restcountries.com/v3.1/alpha/${neighbor}`);
  })
  .then((response) => response?.json()) // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –≤—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  .then((data) => {
    console.log(data); // –î–∞–Ω–Ω—ã–µ –æ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ
  });
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–ü–µ—Ä–≤—ã–π .then:**  
   –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏ –∏–∑–≤–ª–µ–∫–∞–µ–º –∫–æ–¥ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã –∏–∑ `borders`.
2. **–í—Ç–æ—Ä–æ–π .then:**  
   –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.  
   –ó–¥–µ—Å—å –º—ã —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–µ–º `response.json()`, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞.

#### –®–∞–≥ 3. –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

–¢–µ–ø–µ—Ä—å –≤–º–µ—Å—Ç–æ –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Å–æ–ª—å –º—ã –æ—Ç—Ä–∏—Å—É–µ–º –æ–±–µ —Å—Ç—Ä–∞–Ω—ã:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => response.json())
  .then((data) => {
    renderCountry(data[0]); // –†–µ–Ω–¥–µ—Ä–∏–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω—É
    const neighbor = data[0].borders?.[0];
    if (!neighbor) return;

    // –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å
    return fetch(`https://restcountries.com/v3.1/alpha/${neighbor}`);
  })
  .then((response) => response?.json())
  .then((data) => {
    renderCountry(data, "neighbor"); // –†–µ–Ω–¥–µ—Ä–∏–º —Å–æ—Å–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω—É
  });
```

#### –§—É–Ω–∫—Ü–∏—è renderCountry

```javascript
function renderCountry(data, className = "") {
  const html = `
    <article class="country ${className}">
      <img class="country__img" src="${data.flags.png}" alt="${
    data.name.common
  }">
      <div class="country__data">
        <h3 class="country__name">${data.name.common}</h3>
        <h4 class="country__region">${data.region}</h4>
        <p class="country__row"><span>üë´</span>${data.population.toLocaleString()} people</p>
        <p class="country__row"><span>üó£Ô∏è</span>${Object.values(
          data.languages
        ).join(", ")}</p>
        <p class="country__row"><span>üí∞</span>${
          Object.values(data.currencies)[0].name
        }</p>
      </div>
    </article>`;
  document.querySelector(".countries").insertAdjacentHTML("beforeend", html);
}
```

#### –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ü–µ–ø–æ—á–µ–∫ –ø—Ä–æ–º–∏—Å–æ–≤:

- –ü–æ—á–µ–º—É –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –≤–Ω—É—Ç—Ä–∏ —Ü–µ–ø–æ—á–∫–∏?  
  –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–≤–æ–≥–æ (–∫–æ–¥ —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã).  
  –ú—ã –º–æ–∂–µ–º –Ω–∞—á–∞—Ç—å –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ.  
  –ü–æ—ç—Ç–æ–º—É –≤—Ç–æ—Ä–æ–π `fetch` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ `.then`.
- –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ –≤ `.then`:  
  –ö–æ–≥–¥–∞ –≤—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ Promise –∏–∑ `.then`,  
  —Å–ª–µ–¥—É—é—â–∏–π `.then` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∂–¥–µ—Ç –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.  
  –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ª–∏–Ω–µ–π–Ω—ã–º –∏ –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ–º—ã–º.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
return fetch(`https://restcountries.com/v3.1/alpha/${neighbor}`);
```

–≠—Ç–æ—Ç –ø—Ä–æ–º–∏—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º `.then`.

#### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:

–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ `.then` –≤–Ω—É—Ç—Ä–∏ `.then`.  
–≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç callback hell, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º –∏–∑–±–µ–∂–∞—Ç—å.

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => response.json())
  .then((data) => {
    const neighbor = data[0].borders?.[0];
    if (!neighbor) return;

    fetch(`https://restcountries.com/v3.1/alpha/${neighbor}`)
      .then((response) => response.json())
      .then((data) => {
        console.log(data); // –≠—Ç–æ —Å–Ω–æ–≤–∞ callback hell
      });
  });
```

–ó–¥–µ—Å—å –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –≤–ª–æ–∂–µ–Ω –≤ –ø–µ—Ä–≤—ã–π,  
—á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º –∏ —Å–ª–æ–∂–Ω—ã–º –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

#### –ò—Ç–æ–≥:

- –¶–µ–ø–æ—á–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.
- –ö–∞–∂–¥—ã–π `.then` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ, –¥–µ–ª–∞—è –∫–æ–¥ –ª–∏–Ω–µ–π–Ω—ã–º.
- –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –ø—Ä–æ–º–∏—Å –∏–∑ `.then`, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ü–µ–ø–æ—á–∫—É.

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

–ï—Å–ª–∏ –±—ã –≤—ã –∑–∞—Ö–æ—Ç–µ–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ—Ç—å—é —Å—Ç—Ä–∞–Ω—É ‚Äî —Å–æ—Å–µ–¥–∞ —Å–æ—Å–µ–¥–∞,  
–≤–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ü–µ–ø–æ—á–∫—É:

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => response.json())
  .then((data) => {
    renderCountry(data[0]);
    const neighbor = data[0].borders?.[0];
    if (!neighbor) return;

    return fetch(`https://restcountries.com/v3.1/alpha/${neighbor}`);
  })
  .then((response) => response?.json())
  .then((data) => {
    renderCountry(data, "neighbor");
    const secondNeighbor = data.borders?.[0];
    if (!secondNeighbor) return;

    return fetch(`https://restcountries.com/v3.1/alpha/${secondNeighbor}`);
  })
  .then((response) => response?.json())
  .then((data) => {
    renderCountry(data, "neighbor");
  });
```

–¢–∞–∫–æ–π –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è —á–∏—Ç–∞–µ–º—ã–º –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ü–µ–ø–æ—á–µ–∫ –ø—Ä–æ–º–∏—Å–æ–≤.

---

// -------------------------------------------------------------------------------------- //

## \*–û–ë–†–ê–ë–û–¢–ö–ê –û–¢–ö–õ–û–ù–ï–ù–ù–´–• –û–ë–ï–©–ê–ù–ò–ô - Rejected Promises

#### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö –∏ Fetch API

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö,  
–æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Fetch API –≤ JavaScript.  
–†–∞–Ω–µ–µ –º—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–∏, —á—Ç–æ –≤—Å–µ –Ω–∞—à–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —É—Å–ø–µ—à–Ω–æ,  
–Ω–æ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –æ—à–∏–±–∫–∏ —Å–ª—É—á–∞—é—Ç—Å—è —á–∞—Å—Ç–æ, –∏ –≤–∞–∂–Ω–æ —É–º–µ—Ç—å –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.

#### 1. –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö

- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**  
  –ï—Å–ª–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –∏–ª–∏ –¥–∞–∂–µ —Å–ª–æ–º–∞—Ç—å—Å—è.
- **–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞:**  
  –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –∏—Ö –ø—Ä–∏—á–∏–Ω–∞—Ö –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏–π.
- **–û—Ç–ª–∞–¥–∫–∞:**  
  –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–±–ª–µ–≥—á–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤.

#### 2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –æ—à–∏–±–∫–∏ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö

–í –ø—Ä–æ–º–∏—Å–∞—Ö –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (rejection) –ø—Ä–æ–º–∏—Å–∞.  
–ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ **Rejected**, –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `.catch()`.

#### 3. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Fetch API –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫

##### 3.1. –ö–æ–≥–¥–∞ Fetch –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å

Fetch –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Rejected Promise) —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫,  
–Ω–∞–ø—Ä–∏–º–µ—Ä:

- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
- –ü—Ä–æ–±–ª–µ–º—ã —Å DNS.

Fetch **–ù–ï** –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª HTTP –æ—à–∏–±–∫—É, —Ç–∞–∫—É—é –∫–∞–∫ 404 –∏–ª–∏ 500.  
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–º–∏—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º (Fulfilled),  
–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ—à–∏–±–∫–µ –≤ –æ—Ç–≤–µ—Ç–µ.

##### 3.2. –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

–ú—ã –¥–æ–ª–∂–Ω—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É,  
–µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Å–ø–µ—à–Ω–æ–º—É (–æ–±—ã—á–Ω–æ —Å—Ç–∞—Ç—É—Å 200-299).

#### 4. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä

##### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—Ä–∞–Ω–µ

```javascript
function getCountryData(country) {
  fetch(`https://restcountries.com/v3.1/name/${country}`)
    .then((response) => {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞
      if (!response.ok) {
        throw new Error(`–°—Ç—Ä–∞–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (${response.status})`);
      }
      return response.json();
    })
    .then((data) => {
      renderCountry(data[0]);
    })
    .catch((err) => {
      console.error(`–û—à–∏–±–∫–∞: ${err.message}`);
      renderError(`–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫: ${err.message}. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!`);
    })
    .finally(() => {
      countriesContainer.style.opacity = 1;
    });
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞:**

- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–≤–µ—Ç–∞:**

  ```javascript
  if (!response.ok) {
    throw new Error(`–°—Ç—Ä–∞–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (${response.status})`);
  }
  ```

  `response.ok` ‚Äî –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —É—Å–ø–µ—à–µ–Ω –ª–∏ –æ—Ç–≤–µ—Ç (—Å—Ç–∞—Ç—É—Å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 200-299).  
  –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –Ω–µ –æ–∫, –º—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —Å –ø–æ–º–æ—â—å—é `throw new Error()`,  
  —á—Ç–æ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –±–ª–æ–∫ `.catch()`.

- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é .catch():**  
  –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
  –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∞–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å,  
  –Ω–æ –∏ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
  –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

  **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ renderError:**

  ```javascript
  function renderError(message) {
    const container = document.querySelector(".countries");
    container.insertAdjacentText("beforeend", message);
    container.style.opacity = 1; // –î–µ–ª–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–∏–º—ã–º
  }
  ```

  **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

  ```javascript
  .catch(err => {
    console.error(`–û—à–∏–±–∫–∞: ${err.message}`);
    renderError(`–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫: ${err.message}. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!`);
  })
  ```

  `.catch()` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ª—é–±—ã–µ –æ—à–∏–±–∫–∏ –≤ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ–º–∏—Å–æ–≤.  
  –ú—ã –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .finally():**
  ```javascript
  .finally(() => {
    countriesContainer.style.opacity = 1;
  });
  ```
  `.finally()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ,  
  —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è –ø—Ä–æ–º–∏—Å –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.  
  –ó–¥–µ—Å—å –º—ã –∏–∑–º–µ–Ω—è–µ–º —Å—Ç–∏–ª—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞,  
  —á—Ç–æ–±—ã –æ–Ω —Å—Ç–∞–ª –≤–∏–¥–∏–º—ã–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –æ—à–∏–±–∫–∏.

##### 4.2. –ò–º–∏—Ç–∞—Ü–∏—è —Å–µ—Ç–µ–≤–æ–π –æ—à–∏–±–∫–∏

–ß—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫,  
–º—ã –º–æ–∂–µ–º –æ—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

1. –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12).
2. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network.
3. –í —Ä–∞–∑–¥–µ–ª–µ Throttling –≤—ã–±–∏—Ä–∞–µ–º Offline.
4. –ü—ã—Ç–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∏ –Ω–∞–±–ª—é–¥–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–∫–∏.

#### 5. –†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö

##### 5.1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∫–æ–ª–±—ç–∫–∞ –≤ .then()

`.then()` –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–≤–∞ –∫–æ–ª–±—ç–∫–∞:

- –ü–µ—Ä–≤—ã–π –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- –í—Ç–æ—Ä–æ–π –¥–ª—è –æ—à–∏–±–∫–∏.

```javascript
fetch(url).then(
  (response) => {
    // –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  },
  (error) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
  }
);
```

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞:**

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∫–∞–∂–¥–æ–º `.then()` –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –≥—Ä–æ–º–æ–∑–¥–∫–æ–π.
- –ú–µ–Ω–µ–µ —É–¥–æ–±–Ω–æ, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.catch()`.

##### 5.2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .catch()

–ë–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

```javascript
fetch(url)
  .then((response) => {
    // –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  })
  .catch((error) => {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
  });
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤–æ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ–º–∏—Å–æ–≤.
- –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∏—â–µ –∏ –ø—Ä–æ—â–µ –¥–ª—è —á—Ç–µ–Ω–∏—è.

#### 6. –ü—Ä–∏–º–µ—Ä —Å –¥–≤—É–º—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

–î–æ–ø—É—Å—Ç–∏–º, –º—ã —Ö–æ—Ç–∏–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–≤–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞:  
–ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞–Ω–µ –∏ –∑–∞—Ç–µ–º –æ –µ—ë —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–µ.

**–ö–æ–¥:**

```javascript
function getCountryData(country) {
  // –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å
  fetch(`https://restcountries.com/v3.1/name/${country}`)
    .then((response) => {
      if (!response.ok)
        throw new Error(`–°—Ç—Ä–∞–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (${response.status})`);
      return response.json();
    })
    .then((data) => {
      renderCountry(data[0]);

      const neighbor = data[0].borders?.[0];
      if (!neighbor) throw new Error("–°–æ—Å–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞");

      // –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å
      return fetch(`https://restcountries.com/v3.1/alpha/${neighbor}`);
    })
    .then((response) => {
      if (!response.ok)
        throw new Error(`–°–æ—Å–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (${response.status})`);
      return response.json();
    })
    .then((data) => {
      renderCountry(data[0], "neighbor");
    })
    .catch((err) => {
      console.error(`–û—à–∏–±–∫–∞: ${err.message}`);
      renderError(`–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫: ${err.message}. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!`);
    })
    .finally(() => {
      countriesContainer.style.opacity = 1;
    });
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- **–í—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é `throw new Error()`:**  
  –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –º—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å.  
  –≠—Ç–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –±–ª–æ–∫ `.catch()`.
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–æ—Å–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω—ã:**  
  –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ü–µ–ø–æ—á–∫—É (`?.`) –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —Å–æ—Å–µ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω.

#### 7. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ .finally()

`.finally()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–º–∏—Å–∞.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ  
(–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫—Ä—ã—Ç–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏).  
**–ü—Ä–∏–º–µ—Ä:**

```javascript
.finally(() => {
  // –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞
});
```

#### 8. –í–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**  
  –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É–ª—É—á—à–∞–µ—Ç –æ–ø—ã—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**  
  –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–∞—Ö –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞:**  
  –õ–µ–≥—á–µ –Ω–∞–π—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏, –∫–æ–≥–¥–∞ –æ–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è.

#### 9. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏,  
—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å HTTP-—Å—Ç–∞—Ç—É—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404),  
–ø–æ—Å–∫–æ–ª—å–∫—É Fetch –Ω–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å –ø—Ä–∏ —Ç–∞–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö.  
–ù–∞—É—á–∏–º—Å—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

#### –ò—Ç–æ–≥:

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–¥–µ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.catch()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤–æ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ–º–∏—Å–æ–≤.
- –ú–µ—Ç–æ–¥ `.finally()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Fetch API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞  
  –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ Fetch –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö.

---

// -------------------------------------------------------------------------------------- //

## \*–£–°–¢–†–ê–ù–ï–ù–ò–ï –û–®–ò–ë–û–ö –í –†–£–ß–ù–£–Æ

#### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–∫–∏ 404 –∏ —É–ª—É—á—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏.

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —É–∑–Ω–∞–µ–º, –∫–∞–∫ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π 404 (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞)  
–∏ —É–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ —Ü–µ–ø–æ—á–∫–∞—Ö –ø—Ä–æ–º–∏—Å–æ–≤, —Å–¥–µ–ª–∞–≤ –∫–æ–¥ —á–∏—â–µ –∏ —É–¥–æ–±–Ω–µ–µ.

#### –ü—Ä–æ–±–ª–µ–º–∞ —Å fetch –∏ 404:

–ú–µ—Ç–æ–¥ `fetch` –Ω–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å (–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç `.catch`),  
–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, 404.  
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω —Å—á–∏—Ç–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω—ã–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞ (Response),  
–≥–¥–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏.

#### –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

–ï—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404, –º—ã —Ö–æ—Ç–∏–º –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–æ–º–∏—Å –≤—Ä—É—á–Ω—É—é.  
–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –≤ –±–ª–æ–∫–µ `.catch`.

#### –ü—Ä–∏–º–µ—Ä —Å –æ—à–∏–±–∫–æ–π 404:

–í–æ—Ç –ø—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞, –≥–¥–µ API –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Å—Ç—Ä–∞–Ω—É,  
–∏ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–æ–π—Å—Ç–≤–æ `response.ok`:

**–ö–æ–¥:**

```javascript
fetch("https://restcountries.com/v3.1/name/nonexistentCountry")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`Country not found (${response.status})`); // –°–æ–∑–¥–∞–µ–º –æ—à–∏–±–∫—É
    }
    return response.json(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –≤ –æ–±—ä–µ–∫—Ç
  })
  .then((data) => console.log(data))
  .catch((err) => {
    console.error("Error:", err.message); // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
  });
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ `response.ok`:**  
   –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –Ω–µ 200‚Äì299 (—É—Å–ø–µ—à–Ω—ã–µ –∫–æ–¥—ã),  
   –º—ã –≤—Ä—É—á–Ω—É—é –≤—ã–∑—ã–≤–∞–µ–º `throw` —Å –Ω–æ–≤—ã–º –æ–±—ä–µ–∫—Ç–æ–º –æ—à–∏–±–∫–∏.  
   –≠—Ç–æ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –æ—à–∏–±–∫—É –≤ –±–ª–æ–∫ `.catch`.

2. **–°–æ–∑–¥–∞–Ω–∏–µ –æ—à–∏–±–∫–∏:**  
   `new Error(message)` —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º.

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –≤ .catch:**  
   –ë–ª–æ–∫ `.catch` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è  
   (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é).

#### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

–ß–∞—Å—Ç–æ –≤–∞–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –≤—ã–≤–æ–¥–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å,  
–Ω–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏:**

```javascript
function renderError(message) {
  const container = document.querySelector(".countries");
  container.insertAdjacentText("beforeend", message); // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
  container.style.opacity = 1; // –î–µ–ª–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–∏–º—ã–º
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://restcountries.com/v3.1/name/nonexistentCountry")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`Country not found (${response.status})`);
    }
    return response.json();
  })
  .then((data) => console.log(data))
  .catch((err) => {
    renderError(`Something went wrong: ${err.message}`);
    console.error("Error:", err.message);
  });
```

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ API –Ω–µ –Ω–∞–π–¥–µ—Ç —Å—Ç—Ä–∞–Ω—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

#### –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–¥–∞ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π getJSON:

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `response.ok`  
–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é-–æ–±–µ—Ä—Ç–∫—É –¥–ª—è fetch.

**–§—É–Ω–∫—Ü–∏—è getJSON:**

```javascript
function getJSON(url, errorMessage = "Something went wrong") {
  return fetch(url).then((response) => {
    if (!response.ok) {
      throw new Error(`${errorMessage} (${response.status})`);
    }
    return response.json();
  });
}
```

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

```javascript
getJSON("https://restcountries.com/v3.1/name/portugal", "Country not found")
  .then((data) => console.log(data))
  .catch((err) => {
    renderError(`Something went wrong: ${err.message}`);
    console.error(err.message);
  });
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getJSON` –¥–ª—è –ª—é–±–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, –∏ –∫–æ–¥ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —á–∏—â–µ.

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è —Å–æ—Å–µ–¥–Ω–∏—Ö —Å—Ç—Ä–∞–Ω:

–ï—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ,  
–Ω–æ —É —Å—Ç—Ä–∞–Ω—ã –Ω–µ—Ç —Å–æ—Å–µ–¥–µ–π, –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —ç—Ç–æ–º.

**–ö–æ–¥:**

```javascript
getJSON("https://restcountries.com/v3.1/name/portugal", "Country not found")
  .then((data) => {
    renderCountry(data[0]); // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–∞–Ω—É
    const neighbor = data[0].borders?.[0]; // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Å–µ–¥
    if (!neighbor) {
      throw new Error("No neighbor found!");
    }
    return getJSON(
      `https://restcountries.com/v3.1/alpha/${neighbor}`,
      "Neighbor not found"
    );
  })
  .then((data) => renderCountry(data, "neighbor")) // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–æ—Å–µ–¥–Ω—é—é —Å—Ç—Ä–∞–Ω—É
  .catch((err) => {
    renderError(`Something went wrong: ${err.message}`);
    console.error(err.message);
  });
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å–µ–¥–µ–π:**  
   –ï—Å–ª–∏ —É —Å—Ç—Ä–∞–Ω—ã –Ω–µ—Ç —Å–æ—Å–µ–¥–µ–π, –≤—ã–∑—ã–≤–∞–µ–º `throw new Error('No neighbor found!')`.  
   –≠—Ç–æ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ `.catch`.
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏:**  
   `.catch` –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω-–æ—Å—Ç—Ä–æ–≤–æ–≤:

–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –≤–≤–æ–¥–∏–º "Australia", —É –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç —Å–æ—Å–µ–¥–µ–π,  
—Å–æ–æ–±—â–µ–Ω–∏–µ –±—É–¥–µ—Ç:  
`Something went wrong: No neighbor found!`

#### –ü–æ—á–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–∂–Ω–∞?

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:**  
  –ë–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–æ–ª–∫–Ω–µ—Ç—Å—è —Å –Ω–µ–æ–±—ä—è—Å–Ω–∏–º—ã–º–∏ —Å–±–æ—è–º–∏.
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –æ—Ç–ª–∞–¥–∫–∏:**  
  –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**  
  –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –≤ —É—Å–ª–æ–≤–∏—è—Ö —Å–±–æ–µ–≤.

#### –ò—Ç–æ–≥:

- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —Å –ø–æ–º–æ—â—å—é `.catch`.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `response.ok`, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞.
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å `throw new Error()`.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ `getJSON`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ—Å–µ–¥–µ–π —É —Å—Ç—Ä–∞–Ω.  
  –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Å—Ç–∞–ª –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º, –ø–æ–Ω—è—Ç–Ω—ã–º –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è.

---

**–í–æ–ø—Ä–æ—Å:** –Ø —Ö–æ—á—É –ø–æ–Ω—è—Ç—å –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç `throw new Error(Country not found (${response.status}))`;  
–ò –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ—à–∏–±–∫–∞ `throw new Error` –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ `catch {err.message}`

**–û—Ç–≤–µ—Ç:**  
–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –ø–æ–¥—Ä–æ–±–Ω–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `throw new Error()`  
–∏ –ø–æ—á–µ–º—É –æ—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –±–ª–æ–∫ `.catch`.

#### 1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `throw new Error()`?

–ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `throw new Error()`, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç,  
—á—Ç–æ –≤—ã –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Å–æ–∑–¥–∞–µ—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (–æ—à–∏–±–∫—É) –≤ –≤–∞—à–µ–º –∫–æ–¥–µ.

**–°–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ:**

- `throw`:  
  –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ –≤ JavaScript, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.  
  –ö–∞–∫ —Ç–æ–ª—å–∫–æ `throw` –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –∫–æ–¥–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è,  
  –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –±–ª–∏–∂–∞–π—à–∏–π –±–ª–æ–∫ `catch`.
- `new Error(message)`:  
  –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ (Error).  
  –£ –æ–±—ä–µ–∫—Ç–∞ –µ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ `message` (—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏)  
  –∏ `name` (–∏–º—è –æ—à–∏–±–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, "Error").

**–ü—Ä–∏–º–µ—Ä:**

```javascript
throw new Error("This is an error!");
```

–ö–æ–≥–¥–∞ JavaScript –≤—Å—Ç—Ä–µ—á–∞–µ—Ç `throw`, –æ–Ω —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "This is an error!"  
–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏.

#### 2. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ `throw new Error()`?

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–º–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –º–µ—Ç–æ–¥–µ `.then()`),  
–ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (reject), –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –±–ª–æ–∫ `.catch()`.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://restcountries.com/v3.1/name/invalidCountry")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`Country not found (${response.status})`); // –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
    }
    return response.json();
  })
  .catch((err) => {
    console.error(err.message); // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
  });
```

–ï—Å–ª–∏ `response.ok` —Ä–∞–≤–Ω–æ `false` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–∞—Ç—É—Å 404), –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `throw new Error()`.  
–û–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `.catch`.  
–í `.catch(err)` –∞—Ä–≥—É–º–µ–Ω—Ç `err` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ `new Error`.

#### 3. –ö–∞–∫ `throw new Error` –∏ `.catch` —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ?

**–ü—Ä–∏–º–µ—Ä —Å –ø—Ä–æ–º–∏—Å–∞–º–∏:**

```javascript
new Promise((resolve, reject) => {
  // –ù–∞–º–µ—Ä–µ–Ω–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
  throw new Error("Something went wrong!");
}).catch((err) => {
  console.log(err.message); // "Something went wrong!"
});
```

- **–°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:**  
  `throw new Error("Something went wrong!")` –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤ –ø—Ä–æ–º–∏—Å–µ.  
  –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—é (reject) –ø—Ä–æ–º–∏—Å–∞.
- **–ü–µ—Ä–µ–¥–∞—á–∞ –≤ .catch:**  
  –ö–æ–≥–¥–∞ –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –±–ª–∏–∂–∞–π—à–∏–π `.catch`.  
  –ê—Ä–≥—É–º–µ–Ω—Ç `err` –≤ `.catch(err)` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ (Error), —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ.

#### 4. –ö–∞–∫ –æ—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ .catch?

–ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `throw new Error()` –≤–Ω—É—Ç—Ä–∏ `.then()`:

- –û—à–∏–±–∫–∞ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞ `.then()`.
- –ü—Ä–æ–º–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–º (rejected).
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –±–ª–∏–∂–∞–π—à–∏–π `.catch`.

**–ü—Ä–∏–º–µ—Ä —Å —Ü–µ–ø–æ—á–∫–æ–π .then() –∏ .catch:**

```javascript
fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`Country not found (${response.status})`);
    }
    return response.json();
  })
  .then((data) => {
    console.log(data);
    throw new Error("This is another error!");
  })
  .catch((err) => {
    console.error(err.message); // –°–Ω–∞—á–∞–ª–∞ –ø–æ–π–º–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–æ "Country not found",
    // –∑–∞—Ç–µ–º –æ—à–∏–±–∫—É "This is another error!"
  });
```

–ï—Å–ª–∏ `response.ok` ‚Äî `false`, –≤ –ø–µ—Ä–≤–æ–º `.then()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `throw new Error`.  
–ü—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `.catch`.  
–ï—Å–ª–∏ –ø–µ—Ä–≤–∞—è –æ—à–∏–±–∫–∞ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞, —Å–ª–µ–¥—É—é—â–∏–π `.then()` –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è.  
–ï—Å–ª–∏ –≤ –Ω–µ–º —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `throw new Error`, —ç—Ç–∞ –æ—à–∏–±–∫–∞ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `.catch`.

#### 5. –ü–æ—á–µ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `new Error`?

–û–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ (Error) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞, —Ç–∞–∫–∏–µ –∫–∞–∫:

- `message` ‚Äî —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏.
- `name` ‚Äî —Ç–∏–ø –æ—à–∏–±–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "Error").
- `stack` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–∑–æ–≤–∞—Ö, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
try {
  throw new Error("Custom error message");
} catch (err) {
  console.log(err.message); // "Custom error message"
  console.log(err.name); // "Error"
  console.log(err.stack); // –ü–æ–∫–∞–∂–µ—Ç —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤
}
```

#### 6. –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å API

–î–æ–ø—É—Å—Ç–∏–º, –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É "—Å—Ç—Ä–∞–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞".

**–ö–æ–¥:**

```javascript
fetch("https://restcountries.com/v3.1/name/nonexistentCountry")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`Country not found (${response.status})`);
    }
    return response.json();
  })
  .then((data) => {
    console.log(data);
  })
  .catch((err) => {
    console.error("Error:", err.message); // –ü–æ–∫–∞–∂–µ—Ç "Country not found (404)"
  });
```

#### 7. –û—à–∏–±–∫–∞ –∏ –µ–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞: —à–∞–≥–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ –æ—à–∏–±–∫–∏:**  
   `throw new Error(...)` –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
2. **–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞:**  
   –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å –≤ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–π (rejected).
3. **–ü–µ—Ä–µ–¥–∞—á–∞ –≤ .catch:**  
   –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `.catch`, –≥–¥–µ –æ–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è.
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `err.message`:**  
   `err.message` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ `new Error()`.

#### 8. –í—ã–≤–æ–¥:

`throw new Error` ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å –∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.  
–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤, –æ–Ω–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `.catch`,  
–≥–¥–µ –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ–µ –∏ –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ.  
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ —Å–±–æ–µ–≤.

---

// -------------------------------------------------------------------------------------- //

## \*–ê–°–ò–ù–•–†–û–ù–ù–´–ô –ó–ê–ö–£–õ–ò–°–ù–´–ô –¶–ò–ö–õ –û–ë–†–ê–ë–û–¢–ö–ò –°–û–ë–´–¢–ò–ô

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π JavaScript –∑–∞ –∫—É–ª–∏—Å–∞–º–∏: –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤.

–ê–≤—Ç–æ—Ä —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π JavaScript "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º".  
–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —ç—Ç–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ:

- JavaScript-–¥–≤–∏–∂–æ–∫
- Web APIs
- –æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (Callback Queue)
- –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ (Microtasks Queue)
- —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π (Event Loop)

–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –≤—Å–µ —ç—Ç–∏ –ø–æ–Ω—è—Ç–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ –¥–∞–∂–µ –Ω–æ–≤–∏—á–∫—É.

#### 1. –û—Å–Ω–æ–≤—ã JavaScript-–¥–≤–∏–∂–∫–∞ –∏ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å

JavaScript ‚Äî —ç—Ç–æ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π —è–∑—ã–∫, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç,  
—á—Ç–æ –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∑–∞–¥–∞—á—É –∑–∞ —Ä–∞–∑.

–í–Ω—É—Ç—Ä–∏ –¥–≤–∏–∂–∫–∞ –µ—Å—Ç—å –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —á–∞—Å—Ç–∏:

- **Call Stack (—Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤):**  
  –ó–¥–µ—Å—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –∫–æ–¥.  
  –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Å—Ç–µ–∫, –∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–¥–∞–ª—è–µ—Ç—Å—è.
- **Heap (–∫—É—á–∞):**  
  –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
function greet() {
  console.log("Hello");
}
greet();
```

- –í—ã–∑–æ–≤ `greet()` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç–µ–∫.
- –í–Ω—É—Ç—Ä–∏ `greet` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `console.log`, –∏ –æ–Ω —Ç–æ–∂–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç–µ–∫.
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —Å—Ç–µ–∫ –æ—á–∏—â–∞–µ—Ç—Å—è.

#### 2. –ß—Ç–æ —Ç–∞–∫–æ–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ Web APIs

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞, —Ç–∞–π–º–µ—Ä—ã)  
–Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ (Call Stack).  
–û–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ, –Ω–∞–∑—ã–≤–∞–µ–º–æ–π **Web APIs**.

**–ü—Ä–∏–º–µ—Ä—ã Web APIs:**

- –¢–∞–π–º–µ—Ä—ã (`setTimeout`)
- HTTP-–∑–∞–ø—Ä–æ—Å—ã (`fetch`)
- –†–∞–±–æ—Ç–∞ —Å DOM (`addEventListener`)
- Geolocation API

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç–µ–∫.
- –û–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ Web APIs.
- –ö–æ–≥–¥–∞ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ **Callback Queue** (–æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤)  
  –∏–ª–∏ **Microtasks Queue** (–æ—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á).

#### 3. Callback Queue –∏ Event Loop

- **Callback Queue:**  
  –°–æ–¥–µ—Ä–∂–∏—Ç –æ–±—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã (–∫–æ–ª–ª–±–µ–∫–∏), –≥–æ—Ç–æ–≤—ã–µ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é.
- **Event Loop:**  
  –°–ª–µ–¥–∏—Ç –∑–∞ —Ç–µ–º, –ø—É—Å—Ç –ª–∏ Call Stack. –ï—Å–ª–∏ —Å—Ç–µ–∫ –ø—É—Å—Ç,  
  Event Loop –±–µ—Ä–µ—Ç –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É –∏–∑ Callback Queue –∏ –ø–æ–º–µ—â–∞–µ—Ç –µ–µ –≤ Call Stack.

**–ü—Ä–∏–º–µ—Ä —Å setTimeout:**

```javascript
console.log("Start");

setTimeout(() => {
  console.log("Timeout");
}, 1000);

console.log("End");
```

**–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. `console.log('Start')` –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Å—Ç–µ–∫ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.
2. `setTimeout` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Web APIs, –∞ —Ñ—É–Ω–∫—Ü–∏—è  
   –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ (`()=>{console.log('Timeout')}`) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Callback Queue –ø–æ—Å–ª–µ 1 —Å–µ–∫—É–Ω–¥—ã.
3. `console.log('End')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.
4. –ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É Event Loop –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –∫–æ–ª–ª–±–µ–∫ –∏–∑ Callback Queue –≤ Call Stack, –≥–¥–µ –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```
Start
End
Timeout
```

#### 4. –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ (Microtasks Queue)

–ö–æ–ª–ª–±–µ–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ–º–∏—Å–∞–º–∏ –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏,  
–ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ **Microtasks Queue**, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ Callback Queue.

**–ü—Ä–∏–º–µ—Ä —Å –ø—Ä–æ–º–∏—Å–æ–º:**

```javascript
console.log("Start");

setTimeout(() => {
  console.log("Timeout");
}, 0);

Promise.resolve().then(() => {
  console.log("Promise");
});

console.log("End");
```

**–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. `console.log('Start')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.
2. `setTimeout` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Web APIs, –∞ –µ–≥–æ –∫–æ–ª–ª–±–µ–∫ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ Callback Queue.
3. `Promise.resolve().then(...)` –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ Microtasks Queue.
4. `console.log('End')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

Event Loop –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç Microtasks Queue –ø–µ—Ä–µ–¥ Callback Queue,  
–ø–æ—ç—Ç–æ–º—É —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `console.log('Promise')`.  
–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ–∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `console.log('Timeout')`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```
Start
End
Promise
Timeout
```

#### 5. –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á: Microtasks vs Callback Queue

–ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–æ –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∏–∑ Callback Queue,  
–¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–∑–∂–µ.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
setTimeout(() => {
  console.log("Timeout");
}, 0);

Promise.resolve()
  .then(() => {
    console.log("Promise 1");
  })
  .then(() => {
    console.log("Promise 2");
  });
```

- `setTimeout` –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É –≤ Callback Queue.
- `Promise.resolve().then(...)` –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É –≤ Microtasks Queue.
- Event Loop —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ Microtasks Queue:  
  `Promise 1`  
  `Promise 2`
- –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `Timeout` –∏–∑ Callback Queue.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```
Promise 1
Promise 2
Timeout
```

#### 6. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä —Å Fetch

```javascript
console.log("Start");

fetch("https://restcountries.com/v3.1/name/portugal")
  .then((response) => response.json())
  .then((data) => {
    console.log("Country data:", data);
  });

console.log("End");
```

**–ü—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. `console.log('Start')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.
2. `fetch` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å –≤ Web APIs,  
   –∞ –∫–æ–ª–ª–±–µ–∫ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ Microtasks Queue, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç.
3. `console.log('End')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

–ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ API –ø—Ä–∏—Ö–æ–¥—è—Ç, –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–æ–º–∏—Å—ã:

- `response.json()` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è.
- –ö–æ–ª–ª–±–µ–∫ —Å `console.log('Country data')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

```
Start
End
Country data: { ...–¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ... }
```

#### 7. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–∏–∫—Ä–æ–∑–∞–¥–∞—á: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "–≥–æ–ª–æ–¥–∞–Ω–∏—è" Callback Queue

–ï—Å–ª–∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—é—Ç –Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏,  
–æ–Ω–∏ –º–æ–≥—É—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é "–∑–∞–≥–ª—É—à–∏—Ç—å" Callback Queue.  
–≠—Ç–æ —Ä–µ–¥–∫–æ —Å–ª—É—á–∞–µ—Ç—Å—è, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
setTimeout(() => {
  console.log("Timeout");
}, 0);

Promise.resolve().then(function task() {
  console.log("Promise");
  Promise.resolve().then(task);
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**  
`Promise` –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ,  
—Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –º–∏–∫—Ä–æ–∑–∞–¥–∞—á—É.  
`Timeout` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è.

#### 8. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤ JavaScript –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç:

- Web APIs: –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
- Callback Queue –∏ Microtasks Queue: –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏.
- Event Loop: –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω–æ–π –≤—ã–≤–æ–¥:**

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.
- Microtasks –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ Callback Queue.
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ Event Loop –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –∫–æ–¥.

---

**–í–æ–ø—Ä–æ—Å:** –¢—ã –Ω–µ —Ä–∞—Å—Å–∫–∞–∑–∞–ª –ø—Ä–∏–º–µ—Ä —Å DOM API, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ—Ä –æ–±—ä—è—Å–Ω—è–ª –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏

**–û—Ç–≤–µ—Ç:**  
–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –ø—Ä–∏–º–µ—Ä —Å DOM API, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ—Ä —É–ø–æ–º–∏–Ω–∞–ª –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏,  
—á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Å–æ–±—ã—Ç–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å Web APIs, Callback Queue –∏ Event Loop.

#### –ü—Ä–∏–º–µ—Ä —Å DOM API –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é:

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ DOM API.

```javascript
const img = document.createElement("img");
img.src = "https://example.com/image.jpg";

img.addEventListener("load", () => {
  console.log("Image loaded!");
});

document.body.append(img);
console.log("Image added to DOM");
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —à–∞–≥–∞–º:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**  
   `document.createElement('img')` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç `<img>` –≤ –ø–∞–º—è—Ç–∏.

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**  
   –ö–æ–≥–¥–∞ –º—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º `img.src`, –±—Ä–∞—É–∑–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å  
   –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Web API.  
   –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ,  
   —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª—è —Å–æ–±—ã—Ç–∏—è `load`:**  
   –ú—ã –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `load` –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `addEventListener`.  
   –≠—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Web APIs.  
   –û–Ω –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ DOM:**  
   –ú–µ—Ç–æ–¥ `document.body.append(img)` –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –¥–µ—Ä–µ–≤–æ DOM.  
   `console.log('Image added to DOM')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –∂–µ,  
   –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ.

5. **–ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:**  
   –°–æ–±—ã—Ç–∏–µ `load` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤ Web APIs,  
   –∏ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫–æ–ª–ª–±–µ–∫ (`() => { console.log('Image loaded!') }`)  
   –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ Callback Queue.

6. **Event Loop –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ª–ª–±–µ–∫–∞:**  
   Event Loop –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—É—Å—Ç –ª–∏ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (Call Stack).  
   –ö–æ–≥–¥–∞ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –ø—É—Å—Ç, Event Loop –±–µ—Ä–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è `load`  
   –∏–∑ Callback Queue –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç `console.log('Image loaded!')`.

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. –°–æ–∑–¥–∞–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `src` –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞).
3. –°–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è `load` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Web APIs.
4. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ DOM, –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è:  
   `Image added to DOM`
5. –ß–µ—Ä–µ–∑ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è,  
   —Å–æ–±—ã—Ç–∏–µ `load` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è:  
   `Image loaded!`

**–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**  
  –ö–æ–≥–¥–∞ –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º `src`, –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Web APIs  
  –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ (Call Stack).
- **Callback Queue:**  
  –ö–æ–ª–ª–±–µ–∫ —Å–æ–±—ã—Ç–∏—è `load` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É,  
  –∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –∏ –∂–¥–µ—Ç, –ø–æ–∫–∞ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è.
- **Event Loop:**  
  Event Loop —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º, –∫–æ–≥–¥–∞ –∫–æ–ª–ª–±–µ–∫ –∏–∑ Callback Queue –ø–æ–ø–∞–¥–µ—Ç –≤ Call Stack.

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –æ—à–∏–±–∫–æ–π:

–ï—Å–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–≤–µ—Ä–Ω—ã–π URL),  
–≤–º–µ—Å—Ç–æ —Å–æ–±—ã—Ç–∏—è `load` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `error`.

```javascript
const img = document.createElement("img");
img.src = "https://example.com/invalid-image.jpg";

img.addEventListener("load", () => {
  console.log("Image loaded!");
});

img.addEventListener("error", () => {
  console.error("Failed to load image.");
});

document.body.append(img);
console.log("Image added to DOM");
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**

- –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å, —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `error`, –∞ –Ω–µ `load`.
- –ö–æ–ª–ª–±–µ–∫ –∏–∑ `addEventListener('error')` –±—É–¥–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ Web APIs –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ Event Loop.

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:**

```
Image added to DOM
Failed to load image.
```

#### –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è:

- –ü–æ—á–µ–º—É `console.log('Image added to DOM')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ,  
  —á–µ–º `console.log('Image loaded!')`?  
   –ü–æ—Ç–æ–º—É —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ DOM ‚Äî —ç—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è,  
   –∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è.
- –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –≤ –º–æ–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ?  
  –°–æ–±—ã—Ç–∏–µ `error` —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `addEventListener('error')` –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω.

#### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –≤ DOM API –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏,  
—Ç–∞–∫–∏–º–∏ –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

–≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è:

- Web APIs: –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è).
- Callback Queue –∏ Event Loop: –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–ª–ª–±–µ–∫–æ–≤.  
  –≠—Ç–∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ, —á—Ç–æ–±—ã –∫–æ–¥ JavaScript –æ—Å—Ç–∞–≤–∞–ª—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º –∏ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º.

---

**–í–æ–ø—Ä–æ—Å:** –ß—Ç–æ –∑–Ω–∞—á–∏—Ç "Event Loop –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—É—Å—Ç –ª–∏ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (Call Stack)"?  
–û—Ç —á–µ–≥–æ –ø—É—Å—Ç?

**–û—Ç–≤–µ—Ç:**  
–ö–æ–≥–¥–∞ –º—ã –≥–æ–≤–æ—Ä–∏–º, —á—Ç–æ Event Loop –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—É—Å—Ç –ª–∏ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (Call Stack),  
—ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Event Loop –∂–¥–µ—Ç, –ø–æ–∫–∞ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è  
–≤—Å–µ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ JavaScript.  
–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º—Å—è, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –∏ –ø–æ—á–µ–º—É —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å "–ø—É—Å—Ç—ã–º".

#### –ß—Ç–æ —Ç–∞–∫–æ–µ Call Stack (–°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤)?

Call Stack ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö,  
–∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –≤ JavaScript.  
–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è, –æ–Ω–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤.  
–ö–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –æ–Ω–∞ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
function greet() {
  console.log("Hello");
}

greet();
console.log("Done");
```

- –í –Ω–∞—á–∞–ª–µ Call Stack –ø—É—Å—Ç.
- –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `greet()`, —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç–µ–∫.
- –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `console.log('Hello')` –≤–Ω—É—Ç—Ä–∏ `greet()`, —ç—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç–µ–∫.
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `console.log` –æ–Ω–æ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞, –∑–∞—Ç–µ–º —É–¥–∞–ª—è–µ—Ç—Å—è `greet`.
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `console.log('Done')`, –ø–æ—Å–ª–µ —á–µ–≥–æ –∏ –æ–Ω–æ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞.
- –ò—Ç–æ–≥: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π Call Stack —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º.

#### –ö–æ–≥–¥–∞ Call Stack –ø—É—Å—Ç?

Call Stack —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º, –∫–æ–≥–¥–∞:

- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
- –í—Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –∏ –≤ —Å—Ç–µ–∫–µ –≤—ã–∑–æ–≤–æ–≤ –Ω–∏—á–µ–≥–æ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
console.log("Start");
setTimeout(() => console.log("Timeout"), 1000);
console.log("End");
```

- `console.log('Start')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞.
- `setTimeout` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ç–∞–π–º–µ—Ä –≤ Web API (—Ç–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ),  
  –Ω–æ —Å–∞–º –≤—ã–∑–æ–≤ `setTimeout` –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞.
- `console.log('End')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞.
- Call Stack –ø—É—Å—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –±–æ–ª—å—à–µ –Ω–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- –¢–µ–ø–µ—Ä—å, Event Loop –∂–¥–µ—Ç, –ø–æ–∫–∞ –∏—Å—Ç–µ—á–µ—Ç —Ç–∞–π–º–µ—Ä,  
  –∏ –∫–æ–ª–ª–±–µ–∫ `console.log('Timeout')` –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ Callback Queue.

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Event Loop, –∫–æ–≥–¥–∞ —Å—Ç–µ–∫ –ø—É—Å—Ç?

Event Loop –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

- –ï—Å—Ç—å –ª–∏ —á—Ç–æ-—Ç–æ –≤ Callback Queue (–æ—á–µ—Ä–µ–¥–∏ –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤).
- –ï—Å–ª–∏ —Å—Ç–µ–∫ –ø—É—Å—Ç, –æ–Ω –±–µ—Ä–µ—Ç –ø–µ—Ä–≤—ã–π –∫–æ–ª–ª–±–µ–∫ –∏–∑ Callback Queue  
  –∏ –ø–æ–º–µ—â–∞–µ—Ç –µ–≥–æ –≤ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

#### –ü–æ—á–µ–º—É —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å "–Ω–µ –ø—É—Å—Ç—ã–º"?

–ï—Å–ª–∏ JavaScript –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ü–∏–∫–ª –∏–ª–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤),  
—Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –±—É–¥–µ—Ç "–∑–∞–ø–æ–ª–Ω–µ–Ω". –ü—Ä–∏–º–µ—Ä:

```javascript
function recursive() {
  recursive();
}

recursive(); // –í—ã–∑–æ–≤–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞ (Stack Overflow)
```

- –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `recursive` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤.
- –°—Ç–µ–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∞–º—É —Å–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤ (Stack Overflow).

#### –ö–∞–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—É—Å—Ç–æ–≥–æ —Å—Ç–µ–∫–∞?

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `setTimeout`) –∂–¥–µ—Ç,  
–ø–æ–∫–∞ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–ª–ª–±–µ–∫.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
console.log("Start");
setTimeout(() => console.log("Timeout"), 0);
console.log("End");
```

- `console.log('Start')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.
- `setTimeout` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–ª–ª–±–µ–∫ –≤ Web API —Å –Ω—É–ª–µ–≤–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π,  
  –Ω–æ —Å–∞–º `setTimeout` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É.
- `console.log('End')` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.
- Call Stack –ø—É—Å—Ç.
- Event Loop –±–µ—Ä–µ—Ç –∫–æ–ª–ª–±–µ–∫ `console.log('Timeout')` –∏–∑ Callback Queue  
  –∏ –ø–æ–º–µ—â–∞–µ—Ç –µ–≥–æ –≤ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:**

```
Start
End
Timeout
```

#### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

–ö–æ–≥–¥–∞ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ Event Loop –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –ø—É—Å—Ç –ª–∏ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:

- Call Stack –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω –æ—Ç –≤—Å–µ—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
- –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ Event Loop –º–æ–∂–µ—Ç –≤–∑—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–ª–ª–±–µ–∫  
   –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.  
  –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç JavaScript –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∏ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º,  
  –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

// -------------------------------------------------------------------------------------- //

## \*–¶–ò–ö–õ –û–ë–†–ê–ë–û–¢–ö–ò –°–û–ë–´–¢–ò–ô –ù–ê –ü–†–ê–ö–¢–ò–ö–ï

#### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:

–í–æ—Ç –±–∞–∑–æ–≤—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ—Ä —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç:

```javascript
console.log("Test Start");

setTimeout(() => console.log("0 sec timer"), 0);

Promise.resolve("Resolved promise 1").then((res) => console.log(res));

console.log("Test End");
```

#### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ–º –∫–æ–¥–µ?

**–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥:**  
–°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è `console.log('Test Start')` –∏ `console.log('Test End')`,  
–ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥. –û–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É –∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ (Call Stack).

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Å setTimeout:**  
`setTimeout` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ç–∞–π–º–µ—Ä –Ω–∞ 0 —Å–µ–∫—É–Ω–¥ –≤ Web API.  
–ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ (0 —Å–µ–∫—É–Ω–¥), –∫–æ–ª–±—ç–∫ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ Callback Queue (–æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤).

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Å Promise:**  
`Promise.resolve` —Å–æ–∑–¥–∞–µ—Ç —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ (resolved) –æ–±–µ—â–∞–Ω–∏–µ.  
–ö–æ–ª–ª–±–µ–∫ –¥–ª—è `.then` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á (Microtasks Queue).

#### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

JavaScript –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–µ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥,  
–ø—Ä–µ–∂–¥–µ —á–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–µ–π.  
–û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á (Microtasks Queue) –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç  
–Ω–∞–¥ –æ—á–µ—Ä–µ–¥—å—é –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (Callback Queue).

#### –û–∂–∏–¥–∞–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫:

1. Test Start (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥)
2. Test End (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥)
3. Resolved promise 1 (–º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∞)
4. 0 sec timer (–∫–æ–ª–±—ç–∫ –∏–∑ —Ç–∞–π–º–µ—Ä–∞)

#### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –∫—É–ª–∏—Å–∞–º–∏?

1. **–°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥:**  
   `console.log('Test Start')`;  
   –°–æ–æ–±—â–µ–Ω–∏–µ `Test Start` —Å—Ä–∞–∑—É –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

2. **setTimeout:**  
   `setTimeout(() => console.log('0 sec timer'), 0)`;  
   –¢–∞–π–º–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Web API (–±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ä–µ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è).  
   –ï–≥–æ –∫–æ–ª–ª–±–µ–∫ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ Callback Queue —á–µ—Ä–µ–∑ 0 —Å–µ–∫—É–Ω–¥.

3. **–û–±–µ—â–∞–Ω–∏–µ (Promise):**  
   `Promise.resolve('Resolved promise 1').then(res => console.log(res))`;  
   –û–±–µ—â–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É, –∞ –µ–≥–æ `.then` –∫–æ–ª–ª–±–µ–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ Microtasks Queue.

4. **–°–ª–µ–¥—É—é—â–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥:**  
   `console.log('Test End')`;  
   –°–æ–æ–±—â–µ–Ω–∏–µ `Test End` –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

5. **–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:**
   - Event Loop –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Call Stack –∏ –≤–∏–¥–∏—Ç, —á—Ç–æ –æ–Ω –ø—É—Å—Ç.
   - Event Loop —Å–Ω–∞—á–∞–ª–∞ –±–µ—Ä–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ Microtasks Queue.  
     –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–ª–ª–±–µ–∫ –∏–∑ `.then`, –≤—ã–≤–æ–¥—è `Resolved promise 1`.
   - –ó–∞—Ç–µ–º Event Loop –±–µ—Ä–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ Callback Queue:  
     –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–ª–ª–±–µ–∫ —Ç–∞–π–º–µ—Ä–∞, –≤—ã–≤–æ–¥—è `0 sec timer`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:**

```
Test Start
Test End
Resolved promise 1
0 sec timer
```

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–∏–º –µ—â–µ –æ–¥–Ω–æ –æ–±–µ—â–∞–Ω–∏–µ –∏ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:

```javascript
console.log("Test Start");

setTimeout(() => console.log("0 sec timer"), 0);

Promise.resolve("Resolved promise 1")
  .then((res) => {
    console.log(res);
    return Promise.resolve("Resolved promise 2");
  })
  .then((res) => console.log(res));

console.log("Test End");
```

**–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–µ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥:**

1. `Test Start` ‚Üí –≤ –∫–æ–Ω—Å–æ–ª—å.
2. `setTimeout` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è.
3. –°–æ–∑–¥–∞–µ—Ç—Å—è –∏ —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–µ –æ–±–µ—â–∞–Ω–∏–µ `Promise.resolve('Resolved promise 1')`.
4. `Test End` ‚Üí –≤ –∫–æ–Ω—Å–æ–ª—å.

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:**

1. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π `.then` –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –æ–±–µ—â–∞–Ω–∏—è. –í—ã–≤–æ–¥–∏—Ç—Å—è `Resolved promise 1`.
2. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ –æ–±–µ—â–∞–Ω–∏–µ `Promise.resolve('Resolved promise 2')`, –∏ –µ–≥–æ `.then` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ Microtasks Queue.
3. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π `.then` –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –æ–±–µ—â–∞–Ω–∏—è:  
   –í—ã–≤–æ–¥–∏—Ç—Å—è `Resolved promise 2`.

–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ–∑–∞–¥–∞—á:  
–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–ª–ª–±–µ–∫ —Ç–∞–π–º–µ—Ä–∞, –≤—ã–≤–æ–¥—è `0 sec timer`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:**

```
Test Start
Test End
Resolved promise 1
Resolved promise 2
0 sec timer
```

#### –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏?

–î–æ–±–∞–≤–∏–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –≤–Ω—É—Ç—Ä–∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:

```javascript
console.log("Test Start");

setTimeout(() => console.log("0 sec timer"), 0);

Promise.resolve("Resolved promise 1")
  .then((res) => {
    console.log(res);

    // –°–∏–º—É–ª—è—Ü–∏—è –¥–æ–ª–≥–æ–π –∑–∞–¥–∞—á–∏
    let start = Date.now();
    while (Date.now() - start < 3000) {
      // –ü—É—Å—Ç–æ–π —Ü–∏–∫–ª –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏
    }

    return Promise.resolve("Resolved promise 2");
  })
  .then((res) => console.log(res));

console.log("Test End");
```

**–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥:** `Test Start`, `Test End`.

**–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π .then:**

- `Resolved promise 1` –≤—ã–≤–æ–¥–∏—Ç—Å—è.
- –ü—É—Å—Ç–æ–π —Ü–∏–∫–ª –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ 3 —Å–µ–∫—É–Ω–¥—ã.

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–æ–ª–≥–æ–π –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏:**

- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π `.then`, –≤—ã–≤–æ–¥—è `Resolved promise 2`.
- –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ–∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä.

**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:**

```
Test Start
Test End
Resolved promise 1
(3 —Å–µ–∫—É–Ω–¥—ã –∑–∞–¥–µ—Ä–∂–∫–∏)
Resolved promise 2
0 sec timer
```

#### –í—ã–≤–æ–¥—ã:

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –≤ JavaScript —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥–∏:
  - Microtask Queue (–¥–ª—è –º–∏–∫—Ä–æ–∑–∞–¥–∞—á, –∫–∞–∫ Promise).
  - Callback Queue (–¥–ª—è –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –∫–∞–∫ —Ç–∞–π–º–µ—Ä—ã –∏–ª–∏ —Å–æ–±—ã—Ç–∏—è DOM).
- –ú–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –æ–±—Ä–∞—Ç–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ –∏–∑ —Ç–∞–π–º–µ—Ä–æ–≤.
- –ï—Å–ª–∏ –º–∏–∫—Ä–æ–∑–∞–¥–∞—á–∏ –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏,  
  –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á –∏–∑ Callback Queue –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è.
- –ö–æ–¥ JavaScript –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ,  
  –Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è Event Loop –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

---

// -------------------------------------------------------------------------------------- //

## \*–°–û–ó–î–ê–ù–ò–ï –ü–†–û–°–¢–û–ì–û PROMISE

#### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏:

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –Ω–∞—É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã  
–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–±—ç–∫–æ–≤ –≤ –ø—Ä–æ–º–∏—Å—ã.  
–ü—Ä–∏–º–µ—Ä —Å –ª–æ—Ç–µ—Ä–µ–µ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –ø—Ä–æ–º–∏—Å—ã —É–ø—Ä–æ—â–∞—é—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º.

#### –ß–∞—Å—Ç—å 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞

**–í—Å–ø–æ–º–Ω–∏–º –ø—Ä–∏–º–µ—Ä –ª–æ—Ç–µ—Ä–µ–∏:**

- –ï—Å–ª–∏ –º—ã –≤—ã–∏–≥—Ä—ã–≤–∞–µ–º, –ø—Ä–æ–º–∏—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º (fulfilled).
- –ï—Å–ª–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ–º, –ø—Ä–æ–º–∏—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–º (rejected).

**–ö–æ–¥:**

```javascript
const lotteryPromise = new Promise((resolve, reject) => {
  console.log("Lottery draw is happening... üé≤");

  setTimeout(() => {
    const randomNumber = Math.random(); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1
    if (randomNumber >= 0.5) {
      resolve("You WON the lottery! üéâ");
    } else {
      reject(new Error("You LOST the lottery! üí©"));
    }
  }, 2000); // –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–∏—Å–∞
lotteryPromise
  .then((result) => console.log(result)) // –ï—Å–ª–∏ –≤—ã–∏–≥—Ä–∞–ª–∏
  .catch((err) => console.error(err.message)); // –ï—Å–ª–∏ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞:**  
   `new Promise` ‚Äî —ç—Ç–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞.  
   –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç executor-—Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç.  
   –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–º–∏—Å–∞.

2. **–ê—Ä–≥—É–º–µ–Ω—Ç—ã `resolve` –∏ `reject`:**  
   –≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ executor. –í—ã–∑—ã–≤–∞—è –∏—Ö:

   - `resolve(value)` ‚Äî –æ—Ç–º–µ—á–∞–µ–º –ø—Ä–æ–º–∏—Å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π (fulfilled) —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `value`.
   - `reject(error)` ‚Äî –æ—Ç–º–µ—á–∞–µ–º –ø—Ä–æ–º–∏—Å –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–π (rejected) —Å –æ—à–∏–±–∫–æ–π `error`.

3. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞:**  
   –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `setTimeout`, —á—Ç–æ–±—ã –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è,  
   –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ª–æ—Ç–µ—Ä–µ–∏.  
   –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `resolve` –∏–ª–∏ `reject` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á–∏—Å–ª–∞.

4. **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞:**
   - `then` ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (fulfillment).
   - `catch` ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

#### –ß–∞—Å—Ç—å 2: –û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (–ø—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)

–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–ª–±—ç–∫–æ–≤:

```javascript
setTimeout(() => {
  console.log("Timeout finished");
}, 2000);
```

–ú—ã –º–æ–∂–µ–º –æ–±–µ—Ä–Ω—É—Ç—å –µ—ë –≤ –ø—Ä–æ–º–∏—Å:

```javascript
const wait = (seconds) => {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve();
    }, seconds * 1000); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å–µ–∫—É–Ω–¥—ã –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã
  });
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
wait(2)
  .then(() => {
    console.log("Waited for 2 seconds");
    return wait(1); // –ñ–¥–µ–º –µ—â–µ 1 —Å–µ–∫—É–Ω–¥—É
  })
  .then(() => console.log("Waited for 1 second"));
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**

1. **–°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é `wait`:**  
   –û–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å.  
   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ (`setTimeout`) —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `resolve`.

2. **–í–æ–∑–≤—Ä–∞—Ç –ø—Ä–æ–º–∏—Å–∞:**  
   –ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ (2 —Å–µ–∫—É–Ω–¥—ã) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `resolve`.  
   –í–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `then`.

3. **–¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ–º–∏—Å–æ–≤:**
   - –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ `wait(2)` –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã.
   - –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å `wait(1)`,  
     –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞–µ—Ç –µ—â–µ 1 —Å–µ–∫—É–Ω–¥—É.

#### –ß–∞—Å—Ç—å 3: –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–æ–º–∏—Å–æ–≤

**–ò–∑–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç "Callback Hell":**  
–°—Ä–∞–≤–Ω–∏—Ç–µ:

```javascript
// –ö–æ–ª–±—ç–∫–∏: –Ω–µ—É–¥–æ–±–Ω–æ –∏ —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å
setTimeout(() => {
  console.log("1 second passed");
  setTimeout(() => {
    console.log("2 seconds passed");
    setTimeout(() => {
      console.log("3 seconds passed");
    }, 1000);
  }, 1000);
}, 1000);

// –ü—Ä–æ–º–∏—Å—ã: —á–∏—Ç–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ
wait(1)
  .then(() => {
    console.log("1 second passed");
    return wait(1);
  })
  .then(() => {
    console.log("2 seconds passed");
    return wait(1);
  })
  .then(() => console.log("3 seconds passed"));
```

**–ì–∏–±–∫–æ—Å—Ç—å:**  
–ü—Ä–æ–º–∏—Å—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ü–µ–ø–æ—á–µ–∫ `then`, `catch` –∏ `finally`.

#### –ß–∞—Å—Ç—å 4: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–æ–≤

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã `Promise.resolve` –∏ `Promise.reject`  
–ø–æ–∑–≤–æ–ª—è—é—Ç —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã:

**–ö–æ–¥:**

```javascript
Promise.resolve("Immediate success").then((res) => console.log(res));

Promise.reject(new Error("Immediate failure")).catch((err) =>
  console.error(err.message)
);
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**

- **Promise.resolve:**  
  –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ "fulfilled".  
  –ï–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ ('Immediate success') –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `then`.
- **Promise.reject:**  
  –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ "rejected".  
  –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `catch`.

#### –ß–∞—Å—Ç—å 5: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–î–æ–ø—É—Å—Ç–∏–º, –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–º–∏—Å:

**–ö–æ–¥:**

```javascript
const fetchData = (url) => {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", url);
    xhr.onload = () => {
      if (xhr.status === 200) {
        resolve(JSON.parse(xhr.responseText)); // –£—Å–ø–µ—Ö
      } else {
        reject(new Error(`Failed to load: ${xhr.status}`)); // –û—à–∏–±–∫–∞
      }
    };
    xhr.onerror = () => reject(new Error("Network error"));
    xhr.send();
  });
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
fetchData("https://jsonplaceholder.typicode.com/posts/1")
  .then((data) => console.log(data))
  .catch((err) => console.error(err.message));
```

#### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

- **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–æ–≤:**  
  –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `new Promise` –¥–ª—è –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è.  
  –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–π–º–µ—Ä—ã) –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ `resolve` –∏ `reject`.
- **–ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è:**  
  –°—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∫–æ–ª–±—ç–∫–∞–º–∏ –º–æ–∂–Ω–æ "–ø—Ä–æ–º–∏—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
- **–¶–µ–ø–æ—á–∫–∏ –ø—Ä–æ–º–∏—Å–æ–≤:**  
   –ü—Ä–æ–º–∏—Å—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ  
   –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –±–µ–∑ –∫–æ–ª–±—ç–∫-–∞–¥–∞.  
  –≠—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–º–æ–≥—É—Ç –≤–∞–º –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å  
  –ø—Ä–æ–º–∏—Å—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –≤ JavaScript.

---

**–ü–†–ò–ú–ï–† —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è "—Å–∞–º–æ–¥–µ–ª—å–Ω–æ–≥–æ" –ø—Ä–æ–º–∏—Å–∞:**

```javascript
class MyPromise {
  constructor(executor) {
    this.state = "pending";
    this.value = undefined;

    const resolve = (value) => {
      if (this.state === "pending") {
        this.state = "fulfilled";
        this.value = value;
      }
    };

    const reject = (reason) => {
      if (this.state === "pending") {
        this.state = "rejected";
        this.value = reason;
      }
    };

    try {
      executor(resolve, reject);
    } catch (err) {
      reject(err);
    }
  }

  then(onFulfilled, onRejected) {
    if (this.state === "fulfilled" && onFulfilled) {
      onFulfilled(this.value);
    } else if (this.state === "rejected" && onRejected) {
      onRejected(this.value);
    }
  }

  catch(onRejected) {
    return this.then(null, onRejected);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const promise = new MyPromise((resolve, reject) => {
  setTimeout(() => {
    resolve("Success!");
  }, 1000);
});

promise
  .then((result) => console.log(result)) // –í—ã–≤–æ–¥–∏—Ç "Success!" —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
  .catch((err) => console.error(err));
```

**–†–∞–∑–±–µ—Ä—ë–º –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –∏ –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –∫–æ–¥–∞ –ø–æ–¥—Ä–æ–±–Ω–æ:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ MyPromise**  
   `class MyPromise { ... }` ‚Äî –°–æ–∑–¥–∞—ë–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å `MyPromise`.

2. **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**  
   `constructor(executor) { ... }` ‚Äî –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `executor`,  
   –∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–º–∏—Å–∞.

3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∑–Ω–∞—á–µ–Ω–∏—è**  
   `this.state = 'pending';` ‚Äî –í–≤–æ–¥–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞:  
   `pending` ‚Äî –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞).  
   `this.value = undefined;` ‚Äî –•—Ä–∞–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–º–∏—Å–∞) –∏–ª–∏ –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏.

4. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è resolve –∏ reject**

   - `resolve = value => { ... }` ‚Äî –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é `resolve`:  
     –û–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ–º–∏—Å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π (`fulfilled`).  
     `if (this.state === 'pending')` ‚Äî –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø—Ä–æ–º–∏—Å –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω.  
     `this.state = 'fulfilled';` ‚Äî –ú–µ–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ –Ω–∞ `fulfilled`.  
     `this.value = value;` ‚Äî –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–º–∏—Å–∞.

   - `reject = reason => { ... }` ‚Äî –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é `reject`:  
     –û–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ–º–∏—Å –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–π (`rejected`).  
     `if (this.state === 'pending')` ‚Äî –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø—Ä–æ–º–∏—Å –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω.  
     `this.state = 'rejected';` ‚Äî –ú–µ–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ –Ω–∞ `rejected`.  
     `this.value = reason;` ‚Äî –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏.

5. **–í—ã–∑–æ–≤ executor**  
   `executor(resolve, reject)` ‚Äî –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é `executor`,  
   –ø–µ—Ä–µ–¥–∞–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–∏ `resolve` –∏ `reject`:  
   –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–∑—ã–≤–∞—Ç—å `resolve` –∏–ª–∏ `reject` –≤–Ω—É—Ç—Ä–∏ `executor`.

   `try { ... } catch (err) { ... }` ‚Äî –ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ `executor` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:  
   –û–Ω–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `reject`.

6. **–ú–µ—Ç–æ–¥ then**  
   `then(onFulfilled, onRejected)` ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏–∏  
   –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ (`onFulfilled`) –∏–ª–∏ –Ω–µ—É—Å–ø–µ—à–Ω–æ–≥–æ (`onRejected`) —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

   - `onFulfilled` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–µ–Ω (`fulfilled`).
   - `onRejected` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω (`rejected`).

   `if (this.state === 'fulfilled' && onFulfilled)` ‚Äî –ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–µ–Ω:  
   –í—ã–∑—ã–≤–∞–µ–º `onFulfilled`, –ø–µ—Ä–µ–¥–∞–≤–∞—è `this.value` (–∑–Ω–∞—á–µ–Ω–∏–µ `resolve`).

   `else if (this.state === 'rejected' && onRejected)` ‚Äî –ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω:  
   –í—ã–∑—ã–≤–∞–µ–º `onRejected`, –ø–µ—Ä–µ–¥–∞–≤–∞—è `this.value` (–∑–Ω–∞—á–µ–Ω–∏–µ `reject`).

7. **–ú–µ—Ç–æ–¥ catch**  
   `catch(onRejected)` ‚Äî –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ (–æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã).  
   `return this.then(null, onRejected);` ‚Äî –î–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `then`.

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–°–æ–∑–¥–∞—ë–º –ø—Ä–æ–º–∏—Å:**

   ```javascript
   const promise = new MyPromise((resolve, reject) => {
     setTimeout(() => {
       resolve("Success!");
     }, 1000);
   });
   ```

   - `new MyPromise(...)` ‚Äî –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `MyPromise`.
   - –ü–µ—Ä–µ–¥–∞—ë–º `executor` (—Ñ—É–Ω–∫—Ü–∏—é):  
     `resolve` ‚Äî –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ–º–∏—Å —É—Å–ø–µ—à–Ω–æ.  
     `reject` ‚Äî –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ–º–∏—Å —Å –æ—à–∏–±–∫–æ–π.
   - `setTimeout(..., 1000)` ‚Äî –≠–º—É–ª–∏—Ä—É–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:  
     –ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `resolve('Success!')`.

2. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```javascript
   promise.then((result) => console.log(result));
   ```
   `then(result => console.log(result))`:
   - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onFulfilled`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–µ–¥–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–º–∏—Å–∞.
   - –ö–æ–≥–¥–∞ `resolve('Success!')` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:
     - `this.state` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `fulfilled`.
     - –ó–Ω–∞—á–µ–Ω–∏–µ `'Success!'` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `this.value`.
     - `onFulfilled` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `'Success!'`.

**–í—ã–≤–æ–¥:**  
`Success!`

3. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏:**
   ```javascript
   .catch(err => console.error(err));
   ```
   `catch(err => console.error(err))`:
   - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ `onRejected`.
   - –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `reject`), `onRejected` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—ë.
   - –í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –æ—à–∏–±–∫–∏ –Ω–µ—Ç, –ø–æ—ç—Ç–æ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `catch` –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

#### –ò—Ç–æ–≥:

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ setTimeout:**  
  –≠–º—É–ª–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É 1 —Å–µ–∫—É–Ω–¥—É.
- **–ü–µ—Ä–µ—Ö–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞:**  
  –ò–∑ `pending` ‚Üí `fulfilled` (—á–µ—Ä–µ–∑ `resolve`).
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**  
  `then` –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç `'Success!'`.

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤:**  
`new MyPromise(executor)` ‚Üí –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç `executor(resolve, reject)`.  
–ß–µ—Ä–µ–∑ `setTimeout` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `resolve('Success!')`.  
`resolve` –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ `fulfilled` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.  
–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ `then` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å `'Success!'`.

---

**–í–æ–ø—Ä–æ—Å:** –Ø –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª —á—Ç–æ –∑–¥–µ—Å—å –¥–µ–ª–∞–µ—Ç `onFulfilled` –≤–æ—Ç –≤ —ç—Ç–æ–º –∫–æ–¥–µ:  
`if (this.state === 'fulfilled' && onFulfilled)`  
–ï—Å–ª–∏ `onFulfilled` —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è,  
—Ç–æ –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ–≥–æ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º?

**–û—Ç–≤–µ—Ç:**  
–í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –∫–æ–¥–µ:  
`if (this.state === 'fulfilled' && onFulfilled)`  
`onFulfilled` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.  
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π,  
–∫–æ—Ç–æ—Ä—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ –º–µ—Ç–æ–¥ `then` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞.

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `onFulfilled`?

`onFulfilled` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è –≤ –º–µ—Ç–æ–¥ `then`.  
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ `resolve`.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**

```javascript
promise.then((result) => {
  console.log(result); // –≠—Ç–æ –∏ –µ—Å—Ç—å onFulfilled
});
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:  
–§—É–Ω–∫—Ü–∏—è `(result) => console.log(result)` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `then`.  
–í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `then` –æ–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `onFulfilled`.

#### –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: `this.state === 'fulfilled' && onFulfilled`

1. `this.state === 'fulfilled'`  
   –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `fulfilled`.  
   –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `resolve` —É–∂–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–º–∏—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.
2. `onFulfilled`  
   –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ–¥–∞–Ω–∞ –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è `onFulfilled` (—Ç–æ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–∑–≤–∞–ª `then` –∏ —É–∫–∞–∑–∞–ª —Ñ—É–Ω–∫—Ü–∏—é).
3. **–ö–æ–º–±–∏–Ω–∞—Ü–∏—è —É—Å–ª–æ–≤–∏–π**  
   –ï—Å–ª–∏:
   - –ü—Ä–æ–º–∏—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `fulfilled`.
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞–ª —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (`onFulfilled`).  
     –¢–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ–º —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –∏ –ø–µ—Ä–µ–¥–∞—ë–º –µ–π –∑–Ω–∞—á–µ–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ –≤ `this.value`.

#### –ö–∞–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `onFulfilled`?

```javascript
if (this.state === "fulfilled" && onFulfilled) {
  onFulfilled(this.value);
}
```

`onFulfilled(this.value)` ‚Äî –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é `onFulfilled`, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–º–∏—Å–∞ (`this.value`).  
–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ `this.value = 'Success!'`, —Ç–æ –≤—ã–∑–æ–≤ –±—É–¥–µ—Ç:  
`onFulfilled('Success!');`

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:  
`onFulfilled` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞.  
–ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî –¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º (`this.value`).

#### –ü—Ä–∏–º–µ—Ä —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä:

```javascript
const promise = new MyPromise((resolve, reject) => {
  resolve("Success!");
});

promise.then((result) => {
  console.log(result); // –≠—Ç–æ onFulfilled
});
```

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞:**  
   `resolve('Success!')` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –º–µ–Ω—è—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ `fulfilled`.  
   `this.value = 'Success!'`.
2. **–í—ã–∑–æ–≤ then:**  
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é `(result) => console.log(result)` –∫–∞–∫ `onFulfilled`.
3. **–í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ then:**  
   –£—Å–ª–æ–≤–∏–µ `this.state === 'fulfilled' && onFulfilled` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `true`.  
   –í—ã–∑—ã–≤–∞–µ–º `onFulfilled(this.value)`:  
   `console.log('Success!')`;

**–û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å:**  
`onFulfilled` —Å–∞–º –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:

- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º `this.state === 'fulfilled'` (—á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `resolve` —É–∂–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω).
- –ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–µ–Ω, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `onFulfilled`, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

#### –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä —Å –æ—à–∏–±–∫–æ–π:

```javascript
const promise = new MyPromise((resolve, reject) => {
  throw new Error("Critical failure!");
});

promise
  .then(
    (result) => console.log(result), // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—Ö–∞
    (error) => console.error("Handled in then:", error.message) // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
  )
  .catch((err) => console.error("Handled in catch:", err.message)); // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞:**  
   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `executor(resolve, reject)` –≤–Ω—É—Ç—Ä–∏ `try...catch`.  
   –ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ `executor` –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É: `throw new Error('Critical failure!')`.  
   –û—à–∏–±–∫–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ `catch`-–±–ª–æ–∫–µ.  
   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `reject(err)`, –ø–µ—Ä–µ–≤–æ–¥—è –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `rejected`.
2. **–í—ã–∑–æ–≤ then:**  
   `this.state === 'rejected'`, –ø–æ—ç—Ç–æ–º—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `onRejected` –∏–∑ `then`.  
   –í—ã–≤–æ–¥–∏—Ç: `Handled in then: Critical failure!`.
3. **–í—ã–∑–æ–≤ catch:**  
   `catch` –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ `then(null, onRejected)`.  
   –ü–æ—Å–∫–æ–ª—å–∫—É –æ—à–∏–±–∫–∞ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ `then`, `catch` –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç.

–ï—Å–ª–∏ —É–±—Ä–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–∫–∏ –≤ `then`:

```javascript
promise.catch((err) => console.error("Handled in catch:", err.message));
```

–¢–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ `catch`, –≤—ã–≤–æ–¥—è: `Handled in catch: Critical failure!`.

#### –ò—Ç–æ–≥:

- `try...catch` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤–Ω—É—Ç—Ä–∏ `executor`.
- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `reject`, –ø–µ—Ä–µ–≤–æ–¥—è –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `rejected`.
- `then` –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∫ —É—Å–ø–µ—Ö (`onFulfilled`), —Ç–∞–∫ –∏ –æ—à–∏–±–∫–∏ (`onRejected`).
- `catch` ‚Äî —ç—Ç–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫, –∏ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ `then(null, onRejected)`.

---

**–í–æ–ø—Ä–æ—Å:** –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:

```javascript
promise.catch((err) => console.error("Error:", err));
```

–∏

```javascript
then(onFulfilled, onRejected) {
    if (this.state === 'fulfilled' && onFulfilled) {
      onFulfilled(this.value); // –£—Å–ø–µ—Ö
    } else if (this.state === 'rejected' && onRejected) {
      onRejected(this.value); // –û—à–∏–±–∫–∞
    }
  }

  catch(onRejected) {
    return this.then(null, onRejected);
  }
}
```

–ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º `catch` –≤–æ—Ç —Ç–∞–∫ `promise.catch(err => console.error('Error:', err))`,  
–ø–∞—Ä–∞–º–µ—Ç—Ä –≤–Ω—É—Ç—Ä–∏ `catch(onRejected)`  
–ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é `catch(err => console.error('Error:', err))` –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç.

–ü–æ—Å–ª–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `catch(onRejected) { return this.then(null, onRejected); }`  
—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥ `catch()` —ç—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `return`,  
—Ç–æ –µ—Å—Ç—å —ç—Ç–æ `onRejected(this.value);` –∏ –ø–æ—Ç–æ–º `value` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞  
`catch(err => console.error('Error:', err))`.

–ù–æ —è –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª –≤–æ—Ç —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç:  
`else if (this.state === 'rejected' && onRejected)`  
–°–≤–æ–π—Å—Ç–≤–æ `state` —Å—Ç—Ä–æ–≥–æ —Ä–æ–≤–Ω–æ `'rejected'` —ç—Ç–æ –ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –≤—ã–∑–≤–∞–ª–∏ –º–µ—Ç–æ–¥ `reject()`.  
–ù–æ –º–Ω–µ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫ –≤—Ç–æ—Ä–æ–µ —É—Å–ª–æ–≤–∏—è —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º,  
–µ—Å–ª–∏ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç —ç—Ç–æ –º–µ—Ç–æ–¥ `onRejected` –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `then()`  
–Ω–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω –≤–æ—Ç –∑–¥–µ—Å—å `return this.then(null, onRejected)`?

–î–∞ —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ –∫–æ–¥–∞  
`catch(err => console.error('Error:', err))` –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `catch(onRejected)`,  
–Ω–æ –¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –±—ã–ª–∞ –∂–µ –≤—ã–∑–≤–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞:  
`catch(onRejected) { return this.then(null, onRejected); }`

**–û—Ç–≤–µ—Ç:**  
–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º –≤–∞—à –≤–æ–ø—Ä–æ—Å —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.

#### 1. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–∑–æ–≤ `promise.catch(err => console.error('Error:', err))`?

–ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `catch(err => console.error('Error:', err))`,  
–≤—ã –ø–µ—Ä–µ–¥–∞—ë—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `err => console.error('Error:', err)`  
–∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `onRejected` –º–µ—Ç–æ–¥–∞ `catch`.

–í–Ω—É—Ç—Ä–∏ `catch` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤:

```javascript
return this.then(null, onRejected);
```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:  
–ú–µ—Ç–æ–¥ `then` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –¥–≤—É–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:

- `null` (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è).
- `onRejected` (—Ñ—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è –≤ `catch`).

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è `else if (this.state === 'rejected' && onRejected)`

–†–∞–∑–±–µ—Ä–µ–º —ç—Ç–æ—Ç –∫–æ–¥ –∏–∑ –º–µ—Ç–æ–¥–∞ `then`:

```javascript
else if (this.state === 'rejected' && onRejected) {
  onRejected(this.value); // –û—à–∏–±–∫–∞
}
```

**–£—Å–ª–æ–≤–∏–µ `this.state === 'rejected'`:**  
–ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –ø—Ä–æ–º–∏—Å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `rejected`.  
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `reject` —É–∂–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–º–∏—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

**–£—Å–ª–æ–≤–∏–µ `onRejected`:**  
–ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ–¥–∞–Ω–∞ –ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–∫–∏.  
–ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `catch(err => console.error('Error:', err))`,  
`onRejected` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π `err => console.error('Error:', err)`.  
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, `onRejected` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω–µ `null` –∏ –Ω–µ `undefined`),  
–∏ –≤—Ç–æ—Ä–æ–µ —É—Å–ª–æ–≤–∏–µ —Ç–∞–∫–∂–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º.

**–í—ã–∑–æ–≤ `onRejected(this.value)`:**  
–ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–±–∞ —É—Å–ª–æ–≤–∏—è –∏—Å—Ç–∏–Ω–Ω—ã, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `onRejected`, —Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.  
–í —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è `this.value`, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è  
(–∑–Ω–∞—á–µ–Ω–∏–µ, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –≤ `reject`).

#### 3. –í–∞—à –≤–æ–ø—Ä–æ—Å: –ö–∞–∫ `onRejected` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏—Å—Ç–∏–Ω–Ω—ã–º, –µ—Å–ª–∏ –Ω–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω?

–ó–¥–µ—Å—å –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É **–ø–µ—Ä–µ–¥–∞—á–µ–π —Ñ—É–Ω–∫—Ü–∏–∏** –∏ –µ—ë **–≤—ã–∑–æ–≤–æ–º**.

–ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–µ—Ç–µ:

```javascript
promise.catch((err) => console.error("Error:", err));
```

–í—ã **–ø–µ—Ä–µ–¥–∞—ë—Ç–µ** —Ñ—É–Ω–∫—Ü–∏—é `err => console.error('Error:', err)` –≤ –º–µ—Ç–æ–¥ `catch`.  
–≠—Ç–æ –Ω–µ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –µ—ë –ø–µ—Ä–µ–¥–∞—á–∞.

–í–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `catch` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–ø–µ—Ä–µ–¥–∞—á–∞** —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–∞–ª—å—à–µ –≤ `then`:

```javascript
return this.then(null, onRejected);
```

–¢–µ–ø–µ—Ä—å `onRejected` (—Ñ—É–Ω–∫—Ü–∏—è `err => console.error('Error:', err)`)  
**–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è** –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –º–µ—Ç–æ–¥ `then`.

–í –º–µ—Ç–æ–¥–µ `then`, –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ `this.state === 'rejected'` –∏—Å—Ç–∏–Ω–Ω–æ, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏**:

```javascript
onRejected(this.value);
```

–ó–¥–µ—Å—å `onRejected` **–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è** —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `this.value` (–ø—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è).

#### –ü—Ä–∏–º–µ—Ä —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º

–í–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:

```javascript
const promise = new MyPromise((resolve, reject) => {
  reject("Something went wrong!");
});

promise.catch((err) => console.log("Error caught:", err));
```

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `MyPromise`.**  
   –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ:

   - –°–æ–∑–¥–∞—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ `resolve` –∏ `reject`.
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `executor`, –≥–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `reject('Something went wrong!')`.
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `'rejected'`, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ `this.value` —Ä–∞–≤–Ω–æ `'Something went wrong!'`.

2. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è `catch`:**  
   `promise.catch(err => console.log('Error caught:', err))`;  
   –§—É–Ω–∫—Ü–∏—è `err => console.log('Error caught:', err)` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `onRejected` –º–µ—Ç–æ–¥–∞ `catch`.

3. **–í–Ω—É—Ç—Ä–∏ `catch` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**  
   `return this.then(null, onRejected)`;  
   –ê—Ä–≥—É–º–µ–Ω—Ç `onRejected` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –º–µ—Ç–æ–¥ `then`.

4. **–í –º–µ—Ç–æ–¥–µ `then` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**  
   `else if (this.state === 'rejected' && onRejected) { ... }`  
   –°–æ—Å—Ç–æ—è–Ω–∏–µ `'rejected'`, –∞ `onRejected` ‚Äî –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è. –£—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.  
   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `onRejected(this.value)`:  
   `console.log('Error caught:', 'Something went wrong!')`;

**–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:**  
`Error caught: Something went wrong!`

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

- `onRejected` **–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è** –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è, –Ω–æ **–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è** —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞ `then`, –∫–æ–≥–¥–∞ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

---

// -------------------------------------------------------------------------------------- //

## \*–ú–ù–û–ì–û–û–ë–ï–©–ê–Æ–©–ò–ô API –ì–ï–û–õ–û–ö–ê–¶–ò–ò

#### –û–±–∑–æ—Ä –∑–∞–¥–∞—á–∏

–ú—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º API (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —Å `geolocation`) —É–¥–æ–±–Ω–µ–µ,  
–∑–∞–º–µ–Ω–∏–≤ –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–ª–±—ç–∫–æ–≤ (callback-based API) –Ω–∞ –ø—Ä–æ–º–∏—Å—ã (promise-based API).  
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–π –∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–æ–¥, –∏–∑–±–µ–≥–∞—è "callback hell".

#### –†–∞–∑–±–æ—Ä –∫–æ–¥–∞

##### –®–∞–≥ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `navigator.geolocation.getCurrentPosition`

```javascript
navigator.geolocation.getCurrentPosition(
  (position) => console.log(position),
  (error) => console.error(error)
);
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥:**

- `navigator.geolocation.getCurrentPosition` ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π API,  
  –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
- –ú–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∫–æ–ª–±—ç–∫–∞:
  - –ü–µ—Ä–≤—ã–π (—É—Å–ø–µ—à–Ω—ã–π) –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç `position`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –¥–∞–Ω–Ω—ã–µ –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏.
  - –í—Ç–æ—Ä–æ–π (–æ—à–∏–±–æ—á–Ω—ã–π) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Ä–∞–∑—Ä–µ—à–∏–ª –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:**  
API –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫.  
–û–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è) –≤ —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å (Web API).  
–ö–∞–∫ —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–ª–±—ç–∫.

##### –®–∞–≥ 2: –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º `getCurrentPosition` –≤ –ø—Ä–æ–º–∏—Å

```javascript
function getPosition() {
  return new Promise((resolve, reject) => {
    navigator.geolocation.getCurrentPosition(resolve, reject);
  });
}
```

**–ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏:**

- –°–æ–∑–¥–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é `getPosition`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –ø—Ä–æ–º–∏—Å–∞.
- –ü–µ—Ä–µ–¥–∞–ª–∏ `resolve` –∏ `reject` –≤ `getCurrentPosition` –∫–∞–∫ –∫–æ–ª–±—ç–∫–∏:
  - `resolve` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞.
  - `reject` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.

**–ü–æ—á–µ–º—É —ç—Ç–æ —É–¥–æ–±–Ω–æ:**  
–¢–µ–ø–µ—Ä—å –≤–º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–±—ç–∫–∞–º–∏ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `then` –∏ `catch`,  
—á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º.

##### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞

```javascript
getPosition()
  .then((position) => console.log(position))
  .catch((error) => console.error(error));
```

**–õ–æ–≥–∏–∫–∞:**

- `getPosition()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
- –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `then`, –∏ –≤ –Ω–µ–≥–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç `position`.
- –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `catch`, –∫—É–¥–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏.

##### –®–∞–≥ 4: –ü–æ–ª—É—á–∞–µ–º —à–∏—Ä–æ—Ç—É –∏ –¥–æ–ª–≥–æ—Ç—É

```javascript
const { latitude, longitude } = position.coords;
console.log(latitude, longitude);
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –û–±—ä–µ–∫—Ç `position.coords` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö.
- –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—é, —á—Ç–æ–±—ã –∏–∑–≤–ª–µ—á—å `latitude` (—à–∏—Ä–æ—Ç–∞) –∏ `longitude` (–¥–æ–ª–≥–æ—Ç–∞).

##### –®–∞–≥ 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω—ã

–ú—ã –ø–æ–¥–∫–ª—é—á–∞–µ–º —Ä–∞–Ω–µ–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API  
–¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω—ã –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º:

```javascript
function whereAmI() {
  getPosition()
    .then((position) => {
      const { latitude, longitude } = position.coords;
      return fetch(
        `https://api.example.com/country?lat=${latitude}&lng=${longitude}`
      );
    })
    .then((response) => response.json())
    .then((data) => console.log(data.country))
    .catch((error) => console.error("Error:", error));
}

whereAmI();
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `getPosition`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
2. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (`then`) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `fetch` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞–Ω–µ.
3. –†–µ–∑—É–ª—å—Ç–∞—Ç `fetch` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ JSON (`response.json()`).
4. –ò–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–µ.
5. –õ—é–±—ã–µ –æ—à–∏–±–∫–∏ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ `catch`.

##### –®–∞–≥ 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–Ω–æ–ø–∫–æ–π

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º, –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π:

```javascript
document.querySelector(".btn").addEventListener("click", whereAmI);
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `whereAmI`.
- –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  
  –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞–Ω–µ.

#### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –∫–æ–¥–∞:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É.
2. –ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.
3. **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∞–µ—Ç:**
   - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (—à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞).
   - –≠—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω—ã —á–µ—Ä–µ–∑ API.
   - –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.
4. **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–µ—â–∞–µ—Ç:**
   - –í `catch` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –º—ã –¥–µ–ª–∞–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:

```javascript
function fakeGetPosition() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const success = Math.random() > 0.5;
      if (success) {
        resolve({ coords: { latitude: 51.5074, longitude: 0.1278 } }); // –õ–æ–Ω–¥–æ–Ω
      } else {
        reject("Geolocation failed");
      }
    }, 1000);
  });
}

fakeGetPosition()
  .then((position) => {
    console.log("Latitude:", position.coords.latitude);
    console.log("Longitude:", position.coords.longitude);
  })
  .catch((error) => console.error("Error:", error));
```

**–ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏:**

- –°–æ–∑–¥–∞–ª–∏ —Ñ–µ–π–∫–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é `fakeGetPosition`, –∫–æ—Ç–æ—Ä–∞—è —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.
- –° –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 50% –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ª–∏–±–æ —É—Å–ø–µ—Ö, –ª–∏–±–æ –æ—à–∏–±–∫–∞.
- –£—Å–ø–µ—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ `then`, –∞ –æ—à–∏–±–∫–∞ –≤ `catch`.

---

**–í–æ–ø—Ä–æ—Å:** `return fetch(https://api.example.com/country?lat=${latitude}&lng=${longitude});`  
`fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `promise resolve`, `reject`?

**–û—Ç–≤–µ—Ç:**  
–î–∞, –º–µ—Ç–æ–¥ `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `Promise`,  
–∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–±–æ —Ä–µ–∑–æ–ª–≤–Ω—É—Ç—ã–º (`resolve`), –ª–∏–±–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–º (`reject`)  
–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å—Ö–æ–¥–∞ HTTP-–∑–∞–ø—Ä–æ—Å–∞.

#### –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `fetch`?

- **–†–µ–∑–æ–ª–≤–Ω—É—Ç—ã–π –ø—Ä–æ–º–∏—Å (`resolve`):**  
  –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ, `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º `Response`.  
  –≠—Ç–æ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–∞–º HTTP-–∑–∞–ø—Ä–æ—Å –±—ã–ª —É—Å–ø–µ—à–Ω—ã–º  
  (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ç—É—Å 404 –∏–ª–∏ 500).  
  –£—Å–ø–µ—Ö –ø—Ä–æ–º–∏—Å–∞ –æ–∑–Ω–∞—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ —Å–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

  **–ü—Ä–∏–º–µ—Ä:**

  ```javascript
  fetch("https://api.example.com/success")
    .then((response) => {
      if (response.ok) {
        console.log("HTTP Status OK:", response.status);
      } else {
        console.error("HTTP Error:", response.status);
      }
    })
    .catch((err) => console.error("Network error:", err));
  ```

  `response.ok` ‚Äî —Å–≤–æ–π—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –±—ã–ª –ª–∏ —Å—Ç–∞—Ç—É—Å HTTP —É—Å–ø–µ—à–Ω—ã–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 200‚Äì299).  
  `response.status` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ç—É—Å HTTP-–∑–∞–ø—Ä–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404, 500, 200 –∏ —Ç.–¥.).

- **–û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å (`reject`):**  
  –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º,  
  DNS –Ω–µ –Ω–∞–π–¥–µ–Ω, –∑–∞–ø—Ä–æ—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω), —Ç–æ –ø—Ä–æ–º–∏—Å –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω.  
  –û—à–∏–±–∫–∏ HTTP (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404, 500) –Ω–µ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—é –ø—Ä–æ–º–∏—Å–∞.  
  –û–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –Ω–æ —Å –æ—à–∏–±–æ—á–Ω—ã–º —Å—Ç–∞—Ç—É—Å–æ–º.

  **–ü—Ä–∏–º–µ—Ä:**

  ```javascript
  fetch("https://api.example.com/invalid-url")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP Error: ${response.status}`);
      }
    })
    .catch((err) => console.error("Error:", err.message));
  ```

#### –†–∞–∑–±–æ—Ä —Ä–∞–±–æ—Ç—ã `fetch`:

1. **–£—Å–ø–µ—à–Ω—ã–π HTTP-–∑–∞–ø—Ä–æ—Å**

   ```javascript
   fetch("https://api.example.com/success")
     .then((response) => response.json()) // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞ –≤ JSON
     .then((data) => console.log("Data:", data)) // –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
     .catch((err) => console.error("Error:", err)); // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   ```

   - `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º `Response`.
   - `response.json()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (body) –≤ JSON –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

2. **–û—à–∏–±–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–∞**

   ```javascript
   fetch("https://api.example.com/404")
     .then((response) => {
       if (!response.ok) {
         throw new Error(`HTTP Error: ${response.status}`);
       }
       return response.json();
     })
     .then((data) => console.log("Data:", data))
     .catch((err) => console.error("Error:", err));
   ```

   - –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å HTTP-–∑–∞–ø—Ä–æ—Å–∞ –Ω–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 200‚Äì299, `response.ok` –±—É–¥–µ—Ç `false`.
   - –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —è–≤–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (`throw`).

3. **–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞**
   ```javascript
   fetch("https://invalid-url")
     .then((response) => response.json())
     .catch((err) => console.error("Network Error:", err));
   ```
   –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞, –ø—Ä–æ–º–∏—Å –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω, –∏ –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ `catch`.

#### –í—ã–≤–æ–¥

–ú–µ—Ç–æ–¥ `fetch` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `Promise`:

- –†–µ–∑–æ–ª–≤–Ω—É—Ç—ã–π –ø—Ä–æ–º–∏—Å —Å –æ–±—ä–µ–∫—Ç–æ–º `Response`, –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω.
- –û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞.

---

**–£—Ç–æ—á–Ω–µ–Ω–∏–µ:**  
–ú–µ—Ç–æ–¥ `fetch` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑–æ–ª–≤–Ω—É—Ç—ã–π (resolved) –ø—Ä–æ–º–∏—Å,  
–µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±—ã–ª–æ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç HTTP-—Å—Ç–∞—Ç—É—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404 –∏–ª–∏ 500).  
–û—à–∏–±–∫–∏ HTTP —Å—á–∏—Ç–∞—é—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ `fetch`.  
–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞, —Ç–æ–≥–¥–∞ –ø—Ä–æ–º–∏—Å –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω (rejected).

#### –ü–æ—á–µ–º—É `fetch` —Ç—Ä–µ–±—É–µ—Ç `throw new Error`?

–ú–µ—Ç–æ–¥ `fetch` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º `resolve`,  
–¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP-—Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404 –∏–ª–∏ 500).  
–≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ `fetch` —Å—á–∏—Ç–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–º —Å–∞–º —Ñ–∞–∫—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://api.example.com/invalid-url") // –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω
  .then((response) => {
    console.log("–£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω fetch!", response.status); // –£—Å–ø–µ—à–Ω–æ –¥–∞–∂–µ –ø—Ä–∏ 404
  })
  .catch((error) => {
    console.error("–û—à–∏–±–∫–∞ fetch:", error); // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è, –µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
  });
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—Ç–≤–µ—Ç —Å HTTP-—Å—Ç–∞—Ç—É—Å–æ–º 404, –ø—Ä–æ–º–∏—Å —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è (`resolve`), –∞ –Ω–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (`reject`).
- –ú–µ—Ç–æ–¥ `catch` –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ `fetch` –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `reject`.

#### –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏?

–ß—Ç–æ–±—ã –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å HTTP-—Å—Ç–∞—Ç—É—Å–∞–º–∏ (404, 500), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –≤ `catch`,  
–Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `throw new Error`.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://api.example.com/invalid-url")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`HTTP Error: ${response.status}`); // –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
    }
    return response.json(); // –ï—Å–ª–∏ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –ø–∞—Ä—Å–∏–º JSON
  })
  .then((data) => {
    console.log("–î–∞–Ω–Ω—ã–µ:", data);
  })
  .catch((error) => {
    console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:", error.message);
  });
```

**–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä:**

1. `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `resolve`, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å HTTP ‚Äî –æ—à–∏–±–∫–∞.
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º `response.ok`, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, —É—Å–ø–µ—à–µ–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å.
3. –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –ø–ª–æ—Ö–æ–π, –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `throw new Error`.
4. –ú–µ—Ç–æ–¥ `catch` –ª–æ–≤–∏—Ç –æ—à–∏–±–∫—É, —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å –ø–æ–º–æ—â—å—é `throw`.

#### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `throw new Error`?

–ï—Å–ª–∏ –≤—ã –Ω–µ –¥–æ–±–∞–≤–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ `response.ok`, –∫–æ–¥ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å –æ—à–∏–±–æ—á–Ω—ã–π  
HTTP-—Å—Ç–∞—Ç—É—Å (404 –∏–ª–∏ 500) —É—Å–ø–µ—à–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://api.example.com/invalid-url")
  .then((response) => {
    console.log("–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:", response.status); // –ë—É–¥–µ—Ç 404
    return response.json(); // –ü–æ–ø—ã—Ç–∫–∞ –ø–∞—Ä—Å–∏—Ç—å JSON –¥–∞–∂–µ –ø—Ä–∏ 404
  })
  .then((data) => {
    console.log("–î–∞–Ω–Ω—ã–µ:", data); // –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–æ–≤—É—é –æ—à–∏–±–∫—É
  })
  .catch((error) => {
    console.error("–û—à–∏–±–∫–∞:", error.message); // –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –ø–æ–ø–∞–¥—É—Ç —Å—é–¥–∞
  });
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª 404, –ø–æ–ø—ã—Ç–∫–∞ `response.json()` –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ,  
  –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø—É—Å—Ç–æ–µ.
- –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ `catch` –ø–æ–π–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞, –∞ –Ω–µ —Å–∞–º —Ñ–∞–∫—Ç HTTP-–æ—à–∏–±–∫–∏.

#### –ò—Ç–∞–∫, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:

- –ë–µ–∑ `throw new Error` HTTP-–æ—à–∏–±–∫–∏ (404, 500) –Ω–µ –ø–µ—Ä–µ–π–¥—É—Ç –≤ `catch`, —Ç–∞–∫ –∫–∞–∫ `fetch` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `resolve`.
- –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–æ—à–∏–±–æ–∫ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `response.ok` –∏ –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ `throw new Error`.

–û—à–∏–±–∫–∏ –≤ `catch` –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ:

- –û—Ç–∫–ª–æ–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞ (`reject`).
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è (`throw`) –≤ –ª—é–±–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `then`.

#### –§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

```javascript
async function fetchData() {
  try {
    const response = await fetch("https://api.example.com/invalid-url");
    if (!response.ok) {
      throw new Error(`HTTP Error: ${response.status}`);
    }
    const data = await response.json();
    console.log("–î–∞–Ω–Ω—ã–µ:", data);
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:", error.message);
  }
}

fetchData();
```

–≠—Ç–æ—Ç –∫–æ–¥:

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `response.ok` –ø–æ—Å–ª–µ `fetch`.
- –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤—Ä—É—á–Ω—É—é, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –ø–ª–æ—Ö–æ–π.
- –õ–æ–≤–∏—Ç –æ—à–∏–±–∫—É –≤ `catch` –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—ë.

---

// -------------------------------------------------------------------------------------- //

## \*–ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –û–ë–ï–©–ê–ù–ò–ô –° –ü–û–ú–û–©–¨–Æ ASYNC AWAIT

#### 1. Async/Await ‚Äî —á—Ç–æ —ç—Ç–æ?

Async/Await ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º –≤ JavaScript,  
–∫–æ—Ç–æ—Ä—ã–π –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–æ–º–∏—Å–∞—Ö.  
–û–Ω –¥–µ–ª–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –ø–æ—Ö–æ–∂–∏–º –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π.

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

- `async` –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
- `await` –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ `async`-—Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä,  
  –ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è (–Ω–µ –±—É–¥–µ—Ç resolved –∏–ª–∏ rejected).

#### 2. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç: —à–∞–≥ –∑–∞ —à–∞–≥–æ–º

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchData() {
  console.log("–ù–∞—á–∞–ª–æ"); // 1. –õ–æ–≥–∏—Ä—É–µ–º –Ω–∞—á–∞–ª–æ
  const response = await fetch("https://api.example.com/data");
  console.log("–û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω"); // 3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è fetch
  const data = await response.json();
  console.log("–î–∞–Ω–Ω—ã–µ:", data); // 4. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è .json()
}

fetchData();
console.log("–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ fetchData"); // 2. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ await
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `fetchData()`,  
  JavaScript –≤–∏–¥–∏—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `async`.  
  –≠—Ç–æ –∑–Ω–∞—á–∏—Ç:
  - –§—É–Ω–∫—Ü–∏—è `fetchData` —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
  - –ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è.
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ `fetchData`:  
  `console.log("–ù–∞—á–∞–ª–æ")` ‚Äî —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.
- –ó–∞—Ç–µ–º –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è `await fetch(...)`:
  - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `fetchData` –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.
  - –ü—Ä–æ–º–∏—Å –æ—Ç `fetch` –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ  
    (–≤–µ–±-API –±—Ä–∞—É–∑–µ—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–µ—Ç–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å).
  - –ö–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∞–ª—å—à–µ, –≤—ã–≤–æ–¥—è "–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ fetchData".
- –ö–æ–≥–¥–∞ `fetch` –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è (–ø—Ä–æ–º–∏—Å —Å—Ç–∞–Ω–µ—Ç resolved):
  - –§—É–Ω–∫—Ü–∏—è `fetchData` "–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∂–∏–∑–Ω–∏" –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
  - –†–µ–∑—É–ª—å—Ç–∞—Ç `fetch` (–æ–±—ä–µ–∫—Ç `Response`) –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `response`.
- –°–ª–µ–¥—É—é—â–∏–π `await response.json()`:
  - –ü–∞—Ä—Å–∏–Ω–≥ JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
  - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `data`.

#### 3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `async`

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `async` –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π.  
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:

- –§—É–Ω–∫—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
- –ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è `return`, –∑–Ω–∞—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–º–∏—Å.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function simpleFunction() {
  return "Hello, Async!";
}

simpleFunction().then((result) => console.log(result)); // "Hello, Async!"
```

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

- `return "Hello, Async!"` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ `Promise.resolve("Hello, Async!")`.
- –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å `.then`, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

#### 4. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `await`

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `await` –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç JavaScript –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞,  
–ø—Ä–µ–∂–¥–µ —á–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.  
–ù–æ —ç—Ç–æ –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö `async`-—Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî  
–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ—Å—Ç–∞—ë—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function demoAwait() {
  console.log("–ü–µ—Ä–µ–¥ –æ–∂–∏–¥–∞–Ω–∏–µ–º");
  const result = await new Promise((resolve) =>
    setTimeout(() => resolve("–ì–æ—Ç–æ–≤–æ!"), 2000)
  );
  console.log("–ü–æ—Å–ª–µ –æ–∂–∏–¥–∞–Ω–∏—è:", result);
}

demoAwait();
console.log("–≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∫–∞ –º—ã –∂–¥—ë–º!");
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- `await` –∂–¥—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞ (`setTimeout` –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ).
- –ö–æ–¥ –ø–æ—Å–ª–µ `await` –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –Ω–æ –æ—Å—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è.
- –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∏ `result` –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ "–ì–æ—Ç–æ–≤–æ!".

#### 5. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º"?

–ö–æ–≥–¥–∞ JavaScript –≤—Å—Ç—Ä–µ—á–∞–µ—Ç `await`, –æ–Ω:

1. –°—Ç–∞–≤–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –ø–∞—É–∑—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ø–æ—Ç–æ–∫—É.
2. –ñ–¥—ë—Ç, –ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è (–∏–ª–∏ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω—ë–Ω).
3. –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø—Ä–æ–º–∏—Å–∞.

**–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π –∫–æ–¥ –±–µ–∑ async/await:**

```javascript
function demoAwait() {
  console.log("–ü–µ—Ä–µ–¥ –æ–∂–∏–¥–∞–Ω–∏–µ–º");
  new Promise((resolve) => setTimeout(() => resolve("–ì–æ—Ç–æ–≤–æ!"), 2000)).then(
    (result) => {
      console.log("–ü–æ—Å–ª–µ –æ–∂–∏–¥–∞–Ω–∏—è:", result);
    }
  );
}

demoAwait();
console.log("–≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∫–∞ –º—ã –∂–¥—ë–º!");
```

#### 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–° `async/await` –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `try/catch`.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchData() {
  try {
    const response = await fetch("https://api.invalid.url");
    if (!response.ok) throw new Error(`HTTP Error: ${response.status}`);
    const data = await response.json();
    console.log("–î–∞–Ω–Ω—ã–µ:", data);
  } catch (error) {
    console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:", error.message);
  }
}

fetchData();
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ï—Å–ª–∏ `fetch` –Ω–µ —Å–º–æ–∂–µ—Ç —Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞), –æ–Ω –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –ø—Ä–æ–º–∏—Å (reject).
- `await` –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç —ç—Ç–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∫–∞–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
- `try/catch` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –∞–≤–∞—Ä–∏–π–Ω–æ.

#### 7. –ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

–í–æ—Ç –∫–∞–∫ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å—ë –≤–º–µ—Å—Ç–µ:

```javascript
async function whereAmI() {
  try {
    const position = await getPosition(); // –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    const { latitude, longitude } = position.coords;
    console.log(`–®–∏—Ä–æ—Ç–∞: ${latitude}, –î–æ–ª–≥–æ—Ç–∞: ${longitude}`);

    const geoResponse = await fetch(
      `https://api.example.com/reverse-geocode?lat=${latitude}&lng=${longitude}`
    );
    if (!geoResponse.ok) throw new Error("–û—à–∏–±–∫–∞ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è");
    const geoData = await geoResponse.json();
    console.log("–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:", geoData);

    const countryResponse = await fetch(
      `https://api.example.com/country?name=${geoData.country}`
    );
    const countryData = await countryResponse.json();
    console.log("–î–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ:", countryData);
  } catch (error) {
    console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:", error.message);
  }
}

whereAmI();
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é `getPosition`.
2. –ù–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏.
3. –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞–Ω–µ, —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
4. –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `try/catch`.

---

**–í–æ–ø—Ä–æ—Å:** –í–æ—Ç –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:

```javascript
async function fetchData() {
  const response = await fetch("https://jsonplaceholder.typicode.com/todos/1");
  const data = await response.json();
  console.log(data);
}

fetchData();
// Output: { userId: 1, id: 1, title: "delectus aut autem", completed: false }
```

–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ `fetchData()` `async` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç promise —Å `resolve(data)`?  
–ü—Ä–∞–≤–∏–ª—å–Ω–æ —è –ø–æ–Ω—è–ª?

**–û—Ç–≤–µ—Ç:**  
–ù–µ —Å–æ–≤—Å–µ–º. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è —à–∞–≥ –∑–∞ —à–∞–≥–æ–º, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ,  
—á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è `fetchData()` –∏ –∫–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å `async` –∏ `await`.

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `async function fetchData()`?

–õ—é–±–∞—è `async` —Ñ—É–Ω–∫—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã –Ω–µ —Å–æ–∑–¥–∞—ë—Ç–µ —è–≤–Ω—ã–π –ø—Ä–æ–º–∏—Å.  
–≠—Ç–æ—Ç –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è `fetchData` –∑–∞–∫–æ–Ω—á–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.  
–ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ `fetchData` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `return`, —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ,  
—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞ (—Ç.–µ. `resolve` –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø—Ä–æ–º–∏—Å–∞).

#### –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `fetchData`?

**–ö–æ–¥:**

```javascript
async function fetchData() {
  const response = await fetch("https://jsonplaceholder.typicode.com/todos/1");
  const data = await response.json();
  console.log(data);
}
```

- **–®–∞–≥ 1:** `fetchData` ‚Äî —ç—Ç–æ `async` —Ñ—É–Ω–∫—Ü–∏—è, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
- **–®–∞–≥ 2:** –í–Ω—É—Ç—Ä–∏ `fetchData`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ `fetch` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `response` (—ç—Ç–æ –æ–±—ä–µ–∫—Ç `Response`).
- **–®–∞–≥ 3:** –ó–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `response.json()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.  
  `await` –¥–æ–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞,  
  —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–±—ä–µ–∫—Ç JavaScript).
- **–®–∞–≥ 4:** `console.log(data)` –≤—ã–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ.

#### –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏ `fetchData` `resolve(data)`?

–ù–µ—Ç, –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ `fetchData` –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `resolve(data)`,  
–ø–æ—Ç–æ–º—É —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë –Ω–µ—Ç —è–≤–Ω–æ–≥–æ `return`.  
–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ –±—ã –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ `return data`, —Ç–æ–≥–¥–∞ `fetchData` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ  
–≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ –±—ã –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º `data`.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchData() {
  const response = await fetch("https://jsonplaceholder.typicode.com/todos/1");
  const data = await response.json();
  return data; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
}

const promise = fetchData(); // fetchData –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å
promise.then((data) => console.log(data)); // –í—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –¢–µ–ø–µ—Ä—å `fetchData()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å `resolve(data)`.
- –ö–æ–≥–¥–∞ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∑–Ω–∞—á–µ–Ω–∏–µ `data` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `.then`.

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∞—à –ø—Ä–∏–º–µ—Ä?

–í–∞—à –∫–æ–¥:

```javascript
async function fetchData() {
  const response = await fetch("https://jsonplaceholder.typicode.com/todos/1");
  const data = await response.json();
  console.log(data); // –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
}

fetchData();
```

- `fetchData()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
- –ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `return` –≤–Ω—É—Ç—Ä–∏ `fetchData`,  
  —ç—Ç–æ—Ç –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å `resolve(undefined)`,  
  –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç.
- –ù–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `fetchData` –Ω–∏–∫–∞–∫ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è,  
  –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –∫–æ–¥–µ –≤—ã –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å —Å –ø–æ–º–æ—â—å—é `.then()`.

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**  
`fetchData();`  
// fetchData –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏.  
// –ü—Ä–æ–º–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å `resolve(undefined)`, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ—Ç return.

#### –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å `return`, —á—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è?

```javascript
async function fetchData() {
  const response = await fetch("https://jsonplaceholder.typicode.com/todos/1");
  const data = await response.json();
  return data; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ
}

const promise = fetchData();
console.log(promise); // Promise { <pending> }

promise.then((result) => {
  console.log(result); // –û–±—ä–µ–∫—Ç –∏–∑ JSON
});
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**  
–¢–µ–ø–µ—Ä—å `fetchData()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å `resolve(data)`.  
–ö–æ–≥–¥–∞ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∑–Ω–∞—á–µ–Ω–∏–µ `data` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `.then`.

---

// -------------------------------------------------------------------------------------- //

## \*–û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö –° –ü–û–ú–û–©–¨–Æ TRY CATCH

#### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ `try/catch` –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

`try/catch` ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –≤ JavaScript, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.  
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç "–ø–æ–π–º–∞—Ç—å" –æ—à–∏–±–∫—É, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ `try`, –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë –≤ –±–ª–æ–∫–µ `catch`.

**–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:**

```javascript
try {
  console.log("–ù–∞—á–∞–ª–æ");
  let result = 10 / 0; // –≠—Ç–æ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É
  const constant = 5;
  constant = 10; // –û—à–∏–±–∫–∞: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
} catch (error) {
  console.error("–û—à–∏–±–∫–∞ –ø–æ–π–º–∞–Ω–∞:", error.message);
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ `try` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ –∑–∞ —Å—Ç—Ä–æ–∫–æ–π.
- –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å `const`), –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –±–ª–æ–∫ `catch`.
- –í –±–ª–æ–∫–µ `catch` –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –æ—à–∏–±–∫–∏ `error` –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ).

#### 2. –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `try/catch` —Å `async/await`

–í —Å–ª—É—á–∞–µ —Å `async/await`, `try/catch` –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- –û—à–∏–±–∫–∏ –≤ –ø—Ä–æ–º–∏—Å–∞—Ö, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö —á–µ—Ä–µ–∑ `await`,  
  –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ (–∫–∞–∫ `throw`).
- `try/catch` –ø–æ–∑–≤–æ–ª—è–µ—Ç "–ø–æ–π–º–∞—Ç—å" –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–∏ –æ—à–∏–±–∫–∏.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchData() {
  try {
    const response = await fetch("https://api.invalid.url");
    if (!response.ok) throw new Error(`HTTP Error: ${response.status}`);
    const data = await response.json();
    console.log("–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã:", data);
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:", error.message);
  }
}

fetchData();
```

**–ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- –ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ `try` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø–æ–∫–∞ –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—Å—è –æ—à–∏–±–∫–∞.
- –ï—Å–ª–∏ `fetch` –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É, –æ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É (`throw`), –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `catch`.
- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å HTTP 404 –∏–ª–∏ 500, –º—ã –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—ë–º –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `throw new Error(...)`.
- `catch` –ª–æ–≤–∏—Ç –ª—é–±—É—é –∏–∑ —ç—Ç–∏—Ö –æ—à–∏–±–æ–∫ –∏ –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

#### 3. –ü—Ä–∏–º–µ—Ä –∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `try/catch` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å `async/await`.  
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç—Ç–æ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–æ—à–∞–≥–æ–≤–æ.

**–ö–æ–¥:**

```javascript
async function whereAmI() {
  try {
    const response = await fetch("https://api.example.com/location");
    if (!response.ok)
      throw new Error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏");

    const data = await response.json();
    console.log("–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:", data);
  } catch (error) {
    console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:", error.message);
  }
}

whereAmI();
```

**–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä:**

1. `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
2. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `await`, —á—Ç–æ–±—ã –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `fetch`.
3. –ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º –Ω–µ —É–¥–∞–ª–æ—Å—å, –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞).
4. `response.ok` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å HTTP.
5. –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å 404 –∏–ª–∏ 500, –º—ã –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `throw`.
6. `await response.json()` –ø–∞—Ä—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ.
7. –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ø–∞–¥—ë—Ç –≤ `catch`.
8. –ë–ª–æ–∫ `catch` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏.
9. –ú—ã –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç `error` –∏ –≤—ã–≤–æ–¥–∏–º –µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `console.error`.

#### 4. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

–í `catch` –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø–æ-—Ä–∞–∑–Ω–æ–º—É, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è –æ–±—ä–µ–∫—Ç `error`.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchData() {
  try {
    const response = await fetch("https://api.example.com/data");
    if (!response.ok) throw new Error(`HTTP Error: ${response.status}`);
    const data = await response.json();
    console.log("–î–∞–Ω–Ω—ã–µ:", data);
  } catch (error) {
    if (error.message.includes("HTTP Error")) {
      console.error("–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:", error.message);
    } else {
      console.error("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞:", error.message);
    }
  }
}

fetchData();
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–≤—è–∑–∞–Ω–∞ —Å HTTP, –≤—ã–≤–æ–¥–∏–º –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ.
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –¥—Ä—É–≥–∞—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞), –≤—ã–≤–æ–¥–∏–º –¥—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

#### 5. –ö–∞–∫ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤—Ä—É—á–Ω—É—é

–ò–Ω–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–∞–º–∏ "—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å" –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë –≤ `catch`.

**–ü—Ä–∏–º–µ—Ä –∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:**

```javascript
const response = await fetch("https://api.example.com/data");
if (!response.ok) {
  throw new Error("–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö"); // –í—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**

- `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç resolved –ø—Ä–æ–º–∏—Å –¥–∞–∂–µ –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ HTTP 404.
- –ú—ã –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä—è–µ–º `response.ok` –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë –≤ `catch`.

#### 6. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

–î–∞–≤–∞–π—Ç–µ –æ–±—ä–µ–¥–∏–Ω–∏–º –≤—Å–µ —á–∞—Å—Ç–∏:

```javascript
async function whereAmI() {
  try {
    console.log("–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ...");

    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
    const position = await getPosition();
    const { latitude, longitude } = position.coords;

    console.log(`–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: —à–∏—Ä–æ—Ç–∞ ${latitude}, –¥–æ–ª–≥–æ—Ç–∞ ${longitude}`);

    // –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—Ä–∞–Ω–µ
    const geoResponse = await fetch(
      `https://api.example.com/reverse-geocode?lat=${latitude}&lng=${longitude}`
    );
    if (!geoResponse.ok) throw new Error("–û—à–∏–±–∫–∞ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è");

    const geoData = await geoResponse.json();
    console.log("–°—Ç—Ä–∞–Ω–∞:", geoData.country);

    // –ó–∞–ø—Ä–æ—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞–Ω–µ
    const countryResponse = await fetch(
      `https://api.example.com/country?name=${geoData.country}`
    );
    if (!countryResponse.ok)
      throw new Error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Å—Ç—Ä–∞–Ω–µ");

    const countryData = await countryResponse.json();
    console.log("–î–∞–Ω–Ω—ã–µ –æ —Å—Ç—Ä–∞–Ω–µ:", countryData);
  } catch (error) {
    console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:", error.message);
  }
}

whereAmI();
```

**–ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

1. –ü–æ–ª—É—á–∞–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –ø–æ–º–æ—â—å—é `getPosition` (–æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ –ø—Ä–æ–º–∏—Å).
2. –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä–∞–Ω–µ.
3. –ï—Å–ª–∏ –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404), –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `throw`.
4. –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –±–ª–æ–∫–µ `catch`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–∞–¥–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

---

**–í–æ–ø—Ä–æ—Å:** –ë–µ–∑ `throw new Error` –æ—à–∏–±–∫–∏ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –≤ `catch` –µ—Å–ª–∏ promise `resolve`?

**–û—Ç–≤–µ—Ç:**  
–ù–µ—Ç, –µ—Å–ª–∏ –ø—Ä–æ–º–∏—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `resolve` (—É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω),  
–æ—à–∏–±–∫–∞ –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ `catch`.  
–ß—Ç–æ–±—ã –æ—à–∏–±–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞—Å—å –≤ `catch`, –ø—Ä–æ–º–∏—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `reject`.  
–≠—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `fetch`.

#### –ü–æ—á–µ–º—É `fetch` —Ç—Ä–µ–±—É–µ—Ç `throw new Error`?

–ú–µ—Ç–æ–¥ `fetch` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º `resolve`,  
–¥–∞–∂–µ –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP-—Å—Ç–∞—Ç—É—Å –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 404 –∏–ª–∏ 500).  
–≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ `fetch` —Å—á–∏—Ç–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–º —Å–∞–º —Ñ–∞–∫—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://api.example.com/invalid-url")
  .then((response) => {
    console.log("–£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω fetch!", response.status); // –£—Å–ø–µ—à–Ω–æ –¥–∞–∂–µ –ø—Ä–∏ 404
  })
  .catch((error) => {
    console.error("–û—à–∏–±–∫–∞ fetch:", error); // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è, –µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
  });
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—Ç–≤–µ—Ç —Å HTTP-—Å—Ç–∞—Ç—É—Å–æ–º 404, –ø—Ä–æ–º–∏—Å —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è (`resolve`), –∞ –Ω–µ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (`reject`).
- –ú–µ—Ç–æ–¥ `catch` –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ `fetch` –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `reject`.

#### –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏?

–ß—Ç–æ–±—ã –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å HTTP-—Å—Ç–∞—Ç—É—Å–∞–º–∏ (404, 500), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –≤ `catch`,  
–Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `throw new Error`.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://api.example.com/invalid-url")
  .then((response) => {
    if (!response.ok) {
      throw new Error(`HTTP Error: ${response.status}`); // –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
    }
    return response.json(); // –ï—Å–ª–∏ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –ø–∞—Ä—Å–∏–º JSON
  })
  .then((data) => {
    console.log("–î–∞–Ω–Ω—ã–µ:", data);
  })
  .catch((error) => {
    console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:", error.message);
  });
```

**–ü–æ—à–∞–≥–æ–≤—ã–π —Ä–∞–∑–±–æ—Ä:**

1. `fetch` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `resolve`, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å HTTP ‚Äî –æ—à–∏–±–∫–∞.
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º `response.ok`, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, —É—Å–ø–µ—à–µ–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å.
3. –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –ø–ª–æ—Ö–æ–π, –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ `throw new Error`.
4. –ú–µ—Ç–æ–¥ `catch` –ª–æ–≤–∏—Ç –æ—à–∏–±–∫—É, —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å –ø–æ–º–æ—â—å—é `throw`.

#### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `throw new Error`?

–ï—Å–ª–∏ –≤—ã –Ω–µ –¥–æ–±–∞–≤–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ `response.ok`, –∫–æ–¥ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å –æ—à–∏–±–æ—á–Ω—ã–π  
HTTP-—Å—Ç–∞—Ç—É—Å (404 –∏–ª–∏ 500) —É—Å–ø–µ—à–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

**–ù–∞–ø—Ä–∏–º–µ—Ä:**

```javascript
fetch("https://api.example.com/invalid-url")
  .then((response) => {
    console.log("–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:", response.status); // –ë—É–¥–µ—Ç 404
    return response.json(); // –ü–æ–ø—ã—Ç–∫–∞ –ø–∞—Ä—Å–∏—Ç—å JSON –¥–∞–∂–µ –ø—Ä–∏ 404
  })
  .then((data) => {
    console.log("–î–∞–Ω–Ω—ã–µ:", data); // –≠—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –Ω–æ–≤—É—é –æ—à–∏–±–∫—É
  })
  .catch((error) => {
    console.error("–û—à–∏–±–∫–∞:", error.message); // –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –ø–æ–ø–∞–¥—É—Ç —Å—é–¥–∞
  });
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª 404, –ø–æ–ø—ã—Ç–∫–∞ `response.json()` –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ,  
  –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –ø—É—Å—Ç–æ–µ.
- –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ `catch` –ø–æ–π–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞, –∞ –Ω–µ —Å–∞–º —Ñ–∞–∫—Ç HTTP-–æ—à–∏–±–∫–∏.

#### –ò—Ç–∞–∫, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:

- –ë–µ–∑ `throw new Error` HTTP-–æ—à–∏–±–∫–∏ (404, 500) –Ω–µ –ø–µ—Ä–µ–π–¥—É—Ç –≤ `catch`, —Ç–∞–∫ –∫–∞–∫ `fetch` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `resolve`.
- –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–æ—à–∏–±–æ–∫ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `response.ok` –∏ –≤—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ `throw new Error`.

–û—à–∏–±–∫–∏ –≤ `catch` –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ:

- –û—Ç–∫–ª–æ–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞ (`reject`).
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è (`throw`) –≤ –ª—é–±–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `then`.

#### –§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä:

```javascript
async function fetchData() {
  try {
    const response = await fetch("https://api.example.com/invalid-url");
    if (!response.ok) {
      throw new Error(`HTTP Error: ${response.status}`);
    }
    const data = await response.json();
    console.log("–î–∞–Ω–Ω—ã–µ:", data);
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:", error.message);
  }
}

fetchData();
```

–≠—Ç–æ—Ç –∫–æ–¥:

- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `response.ok` –ø–æ—Å–ª–µ `fetch`.
- –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤—Ä—É—á–Ω—É—é, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –ø–ª–æ—Ö–æ–π.
- –õ–æ–≤–∏—Ç –æ—à–∏–±–∫—É –≤ `catch` –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—ë.

---

// -------------------------------------------------------------------------------------- //

## \*–í–û–ó–í–†–ê–©–ê–Æ–©–ò–ï –ó–ù–ê–ß–ï–ù–ò–Ø –ò–ó –ê–°–ò–ù–•–†–û–ù–ù–´–• –§–£–ù–ö–¶–ò–ô

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º:

- –ß—Ç–æ —Ç–∞–∫–æ–µ `async` —Ñ—É–Ω–∫—Ü–∏—è –∏ —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç.
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `await` –≤–Ω—É—Ç—Ä–∏ `async` —Ñ—É–Ω–∫—Ü–∏–∏.
- –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –≤ `async` —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞.
- –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å –ø–æ–º–æ—â—å—é `try/catch`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `async/await` –¥–ª—è –≤—ã–∑–æ–≤–∞ –¥—Ä—É–≥–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–º–µ—à–µ–Ω–∏–µ–º `async/await` –∏ `.then()/.catch()`.
- –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ "–ø–µ—Ä–µ–±—Ä–æ—Å–∫–∏" (rethrowing) –æ—à–∏–±–æ–∫.

#### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ `async` —Ñ—É–Ω–∫—Ü–∏—è?

`async` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º —Ç–∞–∫,  
–∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.  
–ö–æ–≥–¥–∞ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `async` –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π,  
–æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function exampleFunction() {
  return "Hello, Async!";
}

console.log(exampleFunction());
// Output: Promise { "Hello, Async!" }
```

–ö–∞–∫ –≤–∏–¥–Ω–æ, —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞.  
–ï—Å–ª–∏ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, —Ç–æ –µ–≥–æ resolved –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–≤–Ω–æ "Hello, Async!".

#### 2. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `await`?

`await` –ø–æ–∑–≤–æ–ª—è–µ—Ç "–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ `async` —Ñ—É–Ω–∫—Ü–∏–∏,  
–ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è (—É—Å–ø–µ—à–Ω–æ –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π).  
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞ `await` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ resolved –∑–Ω–∞—á–µ–Ω–∏–µ.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchData() {
  const response = await fetch("https://jsonplaceholder.typicode.com/todos/1");
  const data = await response.json();
  console.log(data);
}

fetchData();
// Output: { userId: 1, id: 1, title: "delectus aut autem", completed: false }
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?**

- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `fetch`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
- `await` "–∂–¥—ë—Ç", –ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –∏ –ø–æ–ª—É—á–∞–µ—Ç –µ–≥–æ resolved –∑–Ω–∞—á–µ–Ω–∏–µ (`response`).
- `await response.json()` —Å–Ω–æ–≤–∞ "–∂–¥—ë—Ç", –ø–æ–∫–∞ –º–µ—Ç–æ–¥ `json()` –∑–∞–≤–µ—Ä—à–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

#### 3. –û—à–∏–±–∫–∏ –≤ `async` —Ñ—É–Ω–∫—Ü–∏—è—Ö

–ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ `async` —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞, –ø—Ä–æ–º–∏—Å,  
–∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è rejected.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchWithError() {
  const response = await fetch("https://invalid-url");
  return response.json(); // –û—à–∏–±–∫–∞, —Ç–∞–∫ –∫–∞–∫ URL –Ω–µ–≤–µ—Ä–Ω—ã–π
}

fetchWithError().catch((err) => console.error("Error:", err));
// Output: Error: TypeError: Failed to fetch
```

#### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é `try/catch`

–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–Ω—É—Ç—Ä–∏ `async` —Ñ—É–Ω–∫—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `try/catch`.

- `try` –±–ª–æ–∫: –°–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É.
- `catch` –±–ª–æ–∫: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤ `try`.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function safeFetch() {
  try {
    const response = await fetch("https://invalid-url");
    const data = await response.json();
    console.log(data); // –≠—Ç–æ—Ç –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
  } catch (err) {
    console.error("Caught an error:", err.message);
  }
}

safeFetch();
// Output: Caught an error: Failed to fetch
```

–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Å `fetch` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –±–ª–æ–∫ `catch`,  
–≥–¥–µ –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É.

#### 5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `async/await` –¥–ª—è –≤—ã–∑–æ–≤–∞ –¥—Ä—É–≥–∏—Ö `async` —Ñ—É–Ω–∫—Ü–∏–π

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function getCountryName() {
  const response = await fetch("https://restcountries.com/v3.1/name/portugal");
  const data = await response.json();
  return data[0].name.common; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è —Å—Ç—Ä–∞–Ω—ã
}

async function displayCountry() {
  try {
    const country = await getCountryName();
    console.log(`Country: ${country}`);
  } catch (err) {
    console.error("Error fetching country:", err);
  }
}

displayCountry();
// Output: Country: Portugal
```

–í —Ñ—É–Ω–∫—Ü–∏–∏ `displayCountry` –º—ã –≤—ã–∑—ã–≤–∞–µ–º –¥—Ä—É–≥—É—é `async` —Ñ—É–Ω–∫—Ü–∏—é `getCountryName`  
–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ `try/catch`.

#### 6. –ü—Ä–æ–±–ª–µ–º—ã —Å–º–µ—à–µ–Ω–∏—è `async/await` –∏ `.then()/.catch()`

–•–æ—Ç—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.then()` —Å `async` —Ñ—É–Ω–∫—Ü–∏—è–º–∏, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ.

**–ü—Ä–∏–º–µ—Ä –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**

```javascript
async function fetchData() {
  return await fetch("https://jsonplaceholder.typicode.com/todos/1");
}

fetchData()
  .then((res) => res.json())
  .then((data) => console.log(data));
// Output: { userId: 1, id: 1, title: "delectus aut autem", completed: false }
```

–ó–¥–µ—Å—å –º—ã —Å–º–µ—à–∏–≤–∞–µ–º `async/await` –∏ `.then()`.  
–õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ `async/await` –∏–ª–∏ —Ç–æ–ª—å–∫–æ `.then()`.

#### 7. –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –ø–µ—Ä–µ–±—Ä–æ—Å–∫–∏ (rethrowing) –æ—à–∏–±–æ–∫

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ "–ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å" –æ—à–∏–±–∫—É –∏–∑ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –≤ –¥—Ä—É–≥—É—é.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchData() {
  try {
    const response = await fetch("https://invalid-url");
    if (!response.ok) {
      throw new Error(`HTTP Error: ${response.status}`);
    }
    return await response.json();
  } catch (err) {
    console.error("Error in fetchData:", err.message);
    throw err; // –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
  }
}

async function main() {
  try {
    const data = await fetchData();
    console.log(data);
  } catch (err) {
    console.error("Caught in main:", err.message);
  }
}

main();

// Output:
// Error in fetchData: Failed to fetch
// Caught in main: Failed to fetch
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**

1. –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –≤ `fetchData`.
2. –û–Ω–∞ —Å–Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ `fetchData`, –Ω–æ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è (`throw`).
3. –í `main` —Ñ—É–Ω–∫—Ü–∏—è —Å–Ω–æ–≤–∞ –ª–æ–≤–∏—Ç —ç—Ç—É –æ—à–∏–±–∫—É.

#### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å `async/await`, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ "–ø–µ—Ä–µ–±—Ä–æ—Å–∫–æ–π"

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function getUserData(userId) {
  try {
    const response = await fetch(
      `https://jsonplaceholder.typicode.com/users/${userId}`
    );
    if (!response.ok) {
      throw new Error(`User not found: ${response.status}`);
    }
    const user = await response.json();
    return user;
  } catch (err) {
    console.error("Error in getUserData:", err.message);
    throw err; // –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
  }
}

async function displayUserData() {
  try {
    const user = await getUserData(1);
    console.log(`User Name: ${user.name}`);
  } catch (err) {
    console.error("Error in displayUserData:", err.message);
  }
}

displayUserData();
// Output:
// User Name: Leanne Graham
```

#### –ò—Ç–æ–≥

- `async` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.
- `await` "–∂–¥—ë—Ç" –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- –û—à–∏–±–∫–∏ –≤ `async` —Ñ—É–Ω–∫—Ü–∏—è—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `try/catch`.
- –õ—É—á—à–µ –∏–∑–±–µ–≥–∞—Ç—å —Å–º–µ—à–µ–Ω–∏—è `async/await` –∏ `.then()/.catch()`.
- –û—à–∏–±–∫–∏ –º–æ–∂–Ω–æ "–ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞—Ç—å" –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ.

---

// -------------------------------------------------------------------------------------- //

## \*–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï PROMISE

#### –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–º–µ—Ä –∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

–í–æ—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ—Ä –æ–±—ä—è—Å–Ω—è–µ—Ç:

```javascript
function getJSON(url, errorMessage = "Something went wrong") {
  return fetch(url).then((response) => {
    if (!response.ok) {
      throw new Error(`${errorMessage} (${response.status})`);
    }
    return response.json();
  });
}

async function getThreeCountries(c1, c2, c3) {
  try {
    const data1 = await getJSON(`https://restcountries.com/v3.1/name/${c1}`);
    const data2 = await getJSON(`https://restcountries.com/v3.1/name/${c2}`);
    const data3 = await getJSON(`https://restcountries.com/v3.1/name/${c3}`);

    console.log([data1[0].capital, data2[0].capital, data3[0].capital]);
  } catch (err) {
    console.error(err.message);
  }
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è?**

- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç—Ä—ë—Ö —Å—Ç—Ä–∞–Ω–∞—Ö:  
  –ú—ã –ø–µ—Ä–µ–¥–∞—ë–º —Ç—Ä–∏ —Å—Ç—Ä–∞–Ω—ã –≤ —Ñ—É–Ω–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Portugal", "Canada", "Tanzania").
- –§—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç —Ç—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–æ–º–æ—â—å—é `getJSON`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞–Ω–∞—Ö.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `async/await`:  
  –ó–∞–ø—Ä–æ—Å—ã –∫ API –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º).
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —Å –ø–æ–º–æ—â—å—é `try/catch`:  
  –ï—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å –Ω–µ —É–¥–∞–ª—Å—è), –æ–Ω–∞ –ª–æ–≤–∏—Ç—Å—è –≤ –±–ª–æ–∫–µ `catch`.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç–æ–ª–∏—Ü —Ç—Ä—ë—Ö —Å—Ç—Ä–∞–Ω:  
  –° –ø–æ–º–æ—â—å—é `console.log` –≤—ã–≤–æ–¥–∏—Ç –º–∞—Å—Å–∏–≤ —Å—Ç–æ–ª–∏—Ü.

#### –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º:

–ö–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º, —ç—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –æ–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.  
**–ù–∞–ø—Ä–∏–º–µ—Ä:**

- –ó–∞–ø—Ä–æ—Å –¥–ª—è "Portugal" –∑–∞–Ω–∏–º–∞–µ—Ç 500 –º—Å.
- –ó–∞–ø—Ä–æ—Å –¥–ª—è "Canada" –∑–∞–Ω–∏–º–∞–µ—Ç –µ—â—ë 500 –º—Å.
- –ó–∞–ø—Ä–æ—Å –¥–ª—è "Tanzania" –∑–∞–Ω–∏–º–∞–µ—Ç –µ—â—ë 500 –º—Å.
- –ò—Ç–æ–≥–æ–≤–æ–µ –≤—Ä–µ–º—è: 1500 –º—Å (–ø–æ–ª—Ç–æ—Ä—ã —Å–µ–∫—É–Ω–¥—ã).

–û–¥–Ω–∞–∫–æ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞,  
–∏ –∏—Ö –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –≠—Ç–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è.

#### –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ–º `Promise.all` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

```javascript
async function getThreeCountries(c1, c2, c3) {
  try {
    const data = await Promise.all([
      getJSON(`https://restcountries.com/v3.1/name/${c1}`),
      getJSON(`https://restcountries.com/v3.1/name/${c2}`),
      getJSON(`https://restcountries.com/v3.1/name/${c3}`),
    ]);

    console.log(data.map((d) => d[0].capital)); // –ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Ç–æ–ª–∏—Ü—ã
  } catch (err) {
    console.error("Error:", err.message);
  }
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `Promise.all`?**

- –ë–µ—Ä—ë—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤:  
  –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `getJSON(...)`) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å.  
  `Promise.all` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ç–∞–∫–∏—Ö –ø—Ä–æ–º–∏—Å–æ–≤.
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:  
  –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.  
  –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ: –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, —á—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –æ–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- –û–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤:  
  `Promise.all` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è,  
  –∫–æ–≥–¥–∞ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ –∑–∞–≤–µ—Ä—à–µ–Ω—ã.
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç:  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç  
  —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–º–∏—Å–∞.

**–ü—Ä–∏–º–µ—Ä —Å –ª–æ–≥–∏–∫–æ–π `Promise.all`:**

1. **–ù–∞—á–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
   ```javascript
   const promise1 = getJSON(`https://restcountries.com/v3.1/name/Portugal`);
   const promise2 = getJSON(`https://restcountries.com/v3.1/name/Canada`);
   const promise3 = getJSON(`https://restcountries.com/v3.1/name/Tanzania`);
   ```
   –≠—Ç–∏ –ø—Ä–æ–º–∏—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.
2. **–ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º –ø—Ä–æ–º–∏—Å—ã:**
   ```javascript
   const allPromises = Promise.all([promise1, promise2, promise3]);
   ```
   –ó–¥–µ—Å—å —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —Ç—Ä—ë—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
3. **–û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
   ```javascript
   const results = await allPromises;
   ```
   –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—Å–µ —Ç—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è, –º—ã –ø–æ–ª—É—á–∏–º –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
   ```javascript
   [
     [ { capital: 'Lisbon', ... } ], // –î–∞–Ω–Ω—ã–µ –¥–ª—è –ü–æ—Ä—Ç—É–≥–∞–ª–∏–∏
     [ { capital: 'Ottawa', ... } ], // –î–∞–Ω–Ω—ã–µ –¥–ª—è –ö–∞–Ω–∞–¥—ã
     [ { capital: 'Dodoma', ... } ]  // –î–∞–Ω–Ω—ã–µ –¥–ª—è –¢–∞–Ω–∑–∞–Ω–∏–∏
   ]
   ```
4. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç–æ–ª–∏—Ü:**
   ```javascript
   const capitals = results.map((d) => d[0].capital);
   console.log(capitals); // ['Lisbon', 'Ottawa', 'Dodoma']
   ```

#### –ü—Ä–∏–º–µ—Ä –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:

–î–æ–ø—É—Å—Ç–∏–º, –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å —Å—Ç–æ–ª–∏—Ü—ã —Ç—Ä—ë—Ö —Å—Ç—Ä–∞–Ω:

```javascript
getThreeCountries("Portugal", "Canada", "Tanzania");
// Output: ['Lisbon', 'Ottawa', 'Dodoma']
```

–ï—Å–ª–∏ –≤—ã –æ—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É, —Ç–∞–∫ –∫–∞–∫ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Å–º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è:

```javascript
getThreeCountries("Portugal", "Canada", "InvalidCountry");
// Output: Error: Cannot fetch data for country InvalidCountry
```

#### –ö–∞–∫ `Promise.all` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏?

–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –≤ `Promise.all` –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (rejected),  
–≤–µ—Å—å `Promise.all` —Å—Ä–∞–∑—É –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function example() {
  try {
    const data = await Promise.all([
      getJSON("https://valid-url.com"),
      getJSON("https://invalid-url.com"), // –≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É
      getJSON("https://another-valid-url.com"),
    ]);
    console.log(data);
  } catch (err) {
    console.error("One of the promises failed:", err.message);
  }
}

example();
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**  
–û—à–∏–±–∫–∞ –≤–æ –≤—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–µ (`invalid-url.com`) –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Ç–æ–º—É,  
—á—Ç–æ –≤–µ—Å—å `Promise.all` –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω—ë–Ω.  
–û—à–∏–±–∫–∞ –ø–æ–ø–∞–¥—ë—Ç –≤ `catch` –±–ª–æ–∫.

#### –í—ã–≤–æ–¥:

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Promise.all` ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞—Ç—å  
–Ω–µ—Å–∫–æ–ª—å–∫–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ).
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –æ–¥–Ω–æ–º –º–∞—Å—Å–∏–≤–µ).

**–ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:**

- –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –≤–µ—Å—å `Promise.all` –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try/catch`, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏.  
  –≠—Ç–æ –ø–æ–¥—Ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã  
  —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

---

// -------------------------------------------------------------------------------------- //

## \*–î–†–£–ì–ò–ï PROMISE –ö–û–ú–ë–ò–ù–ê–¢–û–†–´ RACE, ALLSETTLED, ANY

#### 1. Promise.all

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç Promise.all?**

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
  - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ.
  - –û—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (reject), –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–º–∏—Å–æ–≤ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchAllCountries() {
  try {
    const results = await Promise.all([
      fetch("https://restcountries.com/v3.1/name/Portugal").then((res) =>
        res.json()
      ),
      fetch("https://restcountries.com/v3.1/name/Canada").then((res) =>
        res.json()
      ),
      fetch("https://restcountries.com/v3.1/name/Tanzania").then((res) =>
        res.json()
      ),
    ]);

    console.log(
      "Capitals:",
      results.map((data) => data[0].capital)
    );
  } catch (err) {
    console.error("Error occurred:", err.message);
  }
}

fetchAllCountries();
// Output (–µ—Å–ª–∏ –≤—Å—ë –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ): ['Lisbon', 'Ottawa', 'Dodoma']
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**

- –í—Å–µ —Ç—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
- –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –Ω–µ —É–¥–∞–ª—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL),  
  `Promise.all` –æ—Ç–∫–ª–æ–Ω–∏—Ç—Å—è –∏ –≤—ã–∑–æ–≤–µ—Ç –±–ª–æ–∫ `catch`.

#### 2. Promise.race

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç Promise.race?**

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
  - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è  
    (–Ω–µ–≤–∞–∂–Ω–æ, —Å —É—Å–ø–µ—Ö–æ–º –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π).

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchFastestCountry() {
  try {
    const result = await Promise.race([
      fetch("https://restcountries.com/v3.1/name/Portugal").then((res) =>
        res.json()
      ),
      fetch("https://restcountries.com/v3.1/name/Canada").then((res) =>
        res.json()
      ),
      fetch("https://restcountries.com/v3.1/name/Tanzania").then((res) =>
        res.json()
      ),
    ]);

    console.log("Fastest country data:", result[0].name.common);
  } catch (err) {
    console.error("Error:", err.message);
  }
}

fetchFastestCountry();
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
- –ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è (—É—Å–ø–µ—à–Ω–æ –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π), `Promise.race` –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.
- –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω (reject), `Promise.race` –≤—ã–∑–æ–≤–µ—Ç –±–ª–æ–∫ `catch`.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Promise.race: —Ç–∞–π–º-–∞—É—Ç—ã**  
–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–∏–π –∑–∞–ø—Ä–æ—Å.  
`Promise.race` –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —ç—Ç–æ–≥–æ.

```javascript
function timeout(seconds) {
  return new Promise((_, reject) =>
    setTimeout(() => reject(new Error("Request timed out")), seconds * 1000)
  );
}

async function fetchWithTimeout() {
  try {
    const data = await Promise.race([
      fetch("https://restcountries.com/v3.1/name/Tanzania").then((res) =>
        res.json()
      ),
      timeout(1), // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º-–∞—É—Ç –≤ 1 —Å–µ–∫—É–Ω–¥—É
    ]);
    console.log("Data received:", data[0].name.common);
  } catch (err) {
    console.error(err.message);
  }
}

fetchWithTimeout();
// Output: 'Request timed out', –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –∑–∞–π–º—ë—Ç –±–æ–ª—å—à–µ 1 —Å–µ–∫—É–Ω–¥—ã.
```

#### 3. Promise.allSettled

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç Promise.allSettled?**

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
  - –í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (resolve), –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–º–∏—Å–æ–≤ –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–∞–∂–¥–æ–º –ø—Ä–æ–º–∏—Å–µ:
  - `{ status: 'fulfilled', value: ... }` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö.
  - `{ status: 'rejected', reason: ... }` –¥–ª—è –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchAllSettled() {
  const results = await Promise.allSettled([
    fetch("https://restcountries.com/v3.1/name/Portugal").then((res) =>
      res.json()
    ),
    fetch("https://restcountries.com/v3.1/name/InvalidCountry").then((res) =>
      res.json()
    ),
    fetch("https://restcountries.com/v3.1/name/Canada").then((res) =>
      res.json()
    ),
  ]);

  console.log("Results:", results);
}

fetchAllSettled();
// Output:
// [
//   { status: 'fulfilled', value: [...] },
//   { status: 'rejected', reason: Error: Failed to fetch },
//   { status: 'fulfilled', value: [...] },
// ]
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã.
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–±–æ—Ä–∞ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–∞—Ö.

#### 4. Promise.any

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç Promise.any?**

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –ø—Ä–æ–º–∏—Å–æ–≤.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π:
  - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ª—é–±–æ–π –ø—Ä–æ–º–∏—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è (resolve).
  - –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã.
  - –û—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã.

**–ü—Ä–∏–º–µ—Ä:**

```javascript
async function fetchAnySuccess() {
  try {
    const result = await Promise.any([
      fetch("https://invalid-url.com").then((res) => res.json()),
      fetch("https://restcountries.com/v3.1/name/Canada").then((res) =>
        res.json()
      ),
      fetch("https://invalid-url-again.com").then((res) => res.json()),
    ]);

    console.log("First successful result:", result[0].name.common);
  } catch (err) {
    console.error("All promises failed:", err.message);
  }
}

fetchAnySuccess();
// Output: 'First successful result: Canada'
// –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã: 'All promises failed: AggregateError'
```

#### –ò—Ç–æ–≥–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Promise.all` –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π, –≥–¥–µ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –≤–∞–∂–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤).
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Promise.race` –¥–ª—è —Ç–∞–π–º-–∞—É—Ç–æ–≤ –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Promise.allSettled`, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥—ã–π –ø—Ä–æ–º–∏—Å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—à–∏–±–æ–∫.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Promise.any`, –µ—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

#### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Promise Combinators ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏.  
–ü–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ –∏ –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö, —Å–¥–µ–ª–∞–µ—Ç –≤–∞—à –∫–æ–¥ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –∏ –Ω–∞–¥—ë–∂–Ω—ã–º.

```

```
