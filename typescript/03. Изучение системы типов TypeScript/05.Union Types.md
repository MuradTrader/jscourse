### Общее введение

Автор представляет **типы-объединения (union types)** — мощный механизм TypeScript, позволяющий создавать типы, которые могут принимать значения из нескольких разных типов. Название "union" (объединение) хорошо отражает суть — это объединение двух или более типов в один.

---

### 1. Что такое типы-объединения?

**Базовое определение:**

```typescript
type StringOrNumber = string | number;
```

**Разбор синтаксиса:**

- `|` (pipe operator) — оператор объединения типов
- `string | number` означает "либо строка, либо число"
- Переменная такого типа может содержать значение любого из объединенных типов

**Простая аналогия:**
Если представить типы как множества, то union type — это объединение этих множеств.

---

### 2. Синтаксис и объявление union types

#### Базовые объединения примитивов:

```typescript
// Объединение двух типов
type StringOrNumber = string | number;

// Объединение трех типов
type StringNumberOrUndefined = string | number | undefined;

// Объединение с JavaScript типами
type DateOrUndefined = Date | undefined;
```

**Ключевой момент:** Union types создаются через **псевдонимы типов (type aliases)**, поскольку это пользовательские типы, а не встроенные в TypeScript.

---

### 3. Использование union types

#### Объявление переменных:

```typescript
let stringOrNumber: StringOrNumber;

stringOrNumber = "hello"; // ✅ OK - строка
stringOrNumber = 42; // ✅ OK - число
stringOrNumber = true; // ❌ ОШИБКА - boolean не входит в объединение
```

#### Параметры функций:

```typescript
function print(input: string | undefined) {
  // ...
}
```

---

### 4. Практический пример: функция с optional параметром

Автор создает функцию `print`, которая демонстрирует практическое применение union types:

**Задача функции:**

- Принимает строку и выводит ее
- Если ничего не передано, выводит вежливое сообщение

**Реализация:**

```typescript
function print(input: string | undefined) {
  if (input) {
    console.log(input);
  } else {
    console.log("Please input something to print");
  }
}
```

**Использование:**

```typescript
print(); // Выведет: "Please input something to print"
print("Hello World"); // Выведет: "Hello World"
```

**Разбор логики:**

- `input: string | undefined` — параметр может быть строкой или undefined
- Проверка `if (input)` — сужение типа (type narrowing)
- В блоке `if` TypeScript знает, что `input` — строка
- В блоке `else` TypeScript знает, что `input` — undefined

---

### 5. Важные особенности union types

#### A. Неограниченное количество типов:

```typescript
type ManyTypes = string | number | boolean | null | undefined | Date;
```

#### B. Совместимость с любыми типами:

```typescript
type MixedUnion = string | number[] | Date | { name: string };
```

#### C. Type Narrowing (сужение типов):

TypeScript автоматически сужает тип внутри условных блоков:

```typescript
function process(value: string | number) {
  if (typeof value === "string") {
    // Здесь TypeScript знает, что value - строка
    console.log(value.toUpperCase());
  } else {
    // Здесь TypeScript знает, что value - число
    console.log(value.toFixed(2));
  }
}
```

---

### 6. Замечание об опциональных параметрах

Автор упоминает важный момент:

> "Мы увидим гораздо лучший способ сделать параметры функций опциональными позже в курсе, когда будем говорить о функциях"

**Текущий подход (через union):**

```typescript
function print(input: string | undefined) { ... }
```

**Будущий подход (опциональные параметры):**

```typescript
function print(input?: string) { ... } // Эквивалентно string | undefined
```

---

### 7. Где можно использовать union types?

1. **В объявлениях type aliases** (как в примерах выше)
2. **В аннотациях** (inline объединения):

```typescript
let value: string | number;
function greet(name: string | null) { ... }
```

---

### Итог от автора

Автор подчеркивает:

1. **Union types** — это объединение двух или более типов
2. **Синтаксис** — через оператор `|`
3. **Использование** — через type aliases или прямые аннотации
4. **Практическая ценность** — обработка значений, которые могут быть разных типов
5. **Перспектива** — будут рассмотрены более сложные объединения объектов

### Мой итог как разработчика

Вы изучили мощный инструмент TypeScript, который значительно расширяет возможности типизации:

1. **Основная идея:** Создание типов, которые могут принимать значения из нескольких различных типов.

2. **Практические применения:**

   - **Обработка опциональных значений:** `string | undefined`
   - **Работа с разными форматами данных:** `number | string` (когда число может приходить как строка)
   - **Состояния загрузки:** `Data | Loading | Error`
   - **Различные варианты конфигурации**

3. **Type Safety:** Union types обеспечивают безопасность типов, заставляя проверять конкретный тип перед операциями:

```typescript
function getLength(value: string | string[]) {
  if (typeof value === "string") {
    return value.length; // Строка
  } else {
    return value.length; // Массив строк
  }
}
```

4. **Подготовка к продвинутым темам:**

   - **Discriminated Unions** (размеченные объединения)
   - **Type Guards** (защитники типов)
   - **Exhaustiveness Checking** (проверка полноты)

5. **Производительность:** Union types существуют только на этапе компиляции и не влияют на runtime-производительность.

**Резюме:** Типы-объединения — это фундаментальный строительный блок для создания гибких, но типобезопасных систем в TypeScript. Они позволяют точно моделировать реальные сценарии, когда значение может быть одного из нескольких типов, и обеспечивают проверку этих сценариев на этапе компиляции.
