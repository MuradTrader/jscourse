–†–∞–∑–±–∏—Ä–∞—é —É—Ä–æ–∫ –æ field decorators (–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞—Ö –ø–æ–ª–µ–π) –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ, –∫–∞–∫ –≤—ã –ø—Ä–æ—Å–∏–ª–∏.

## 1. –í–≤–µ–¥–µ–Ω–∏–µ –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø–æ–ª–µ–π

–ê–≤—Ç–æ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç —Å —Ç–æ–≥–æ, —á—Ç–æ –º—ã —É–∂–µ –∏–∑—É—á–∏–ª–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –∏ –∏—Ö —Ç–∏–ø–∏–∑–∞—Ü–∏—é. –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ **–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º –ø–æ–ª–µ–π** (field decorators).

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** Field decorators - —ç—Ç–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ **—Å–≤–æ–π—Å—Ç–≤–∞–º (–ø–æ–ª—è–º) –∫–ª–∞—Å—Å–∞**, –∞ –Ω–µ –∫ –º–µ—Ç–æ–¥–∞–º.

## 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–∏–º–µ—Ä–∞: –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –±–ª–æ–≥–æ–≤

–ê–≤—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä - —Å–∏—Å—Ç–µ–º—É –¥–ª—è –±–ª–æ–≥–æ–≤ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –ø–æ—Å—Ç–∞–º–∏.

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–∞ Post:

```typescript
type Post = {
  title: string;
  content: string;
};
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- `type` - —Å–æ–∑–¥–∞—ë—Ç –ø—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
- `Post` - –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ—Å—Ç–∞ –≤ –±–ª–æ–≥–µ
- –ö–∞–∂–¥—ã–π –ø–æ—Å—Ç –∏–º–µ–µ—Ç `title` (–∑–∞–≥–æ–ª–æ–≤–æ–∫) –∏ `content` (—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ Author:

```typescript
class Author {
  constructor(public name: string) {}

  public posts: Post[] = [];
}
```

**–†–∞–∑–±–æ—Ä –∫–ª–∞—Å—Å–∞:**

- `Author` - –∫–ª–∞—Å—Å –∞–≤—Ç–æ—Ä–∞ –±–ª–æ–≥–∞
- `name` - –∏–º—è –∞–≤—Ç–æ—Ä–∞ (–ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞)
- `posts: Post[] = []` - –º–∞—Å—Å–∏–≤ –ø–æ—Å—Ç–æ–≤, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º

## 3. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ê–≤—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–µ–π—á–∞—Å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

```typescript
const author = new Author("Mark");
console.log(author.posts); // [] - –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
```

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –ø–æ—Å—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –º–∞—Å—Å–∏–≤ `posts`.

## 4. –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –ø–æ–ª—è `addDefaultPost`

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```typescript
function addDefaultPost(
  target: undefined,
  context: ClassFieldDecoratorContext
) {
  // –ª–æ–≥–∏–∫–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞
}
```

**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–æ–ª–µ–π:** –ü–∞—Ä–∞–º–µ—Ç—Ä `target` –≤—Å–µ–≥–¥–∞ `undefined`!

### –ü–æ—á–µ–º—É `target` –≤—Å–µ–≥–¥–∞ undefined?

- –î–ª—è –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞ –Ω–µ—Ç "–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è" –∫–∞–∫ —É –º–µ—Ç–æ–¥–æ–≤
- –ü–æ–ª—è - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–∞–Ω–Ω—ã–µ, –Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏
- TypeScript –ø–µ—Ä–µ–¥–∞—ë—Ç `undefined` –∫–∞–∫ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—å

## 5. –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –ø–æ–ª–µ–π

–ê–≤—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—è:

```typescript
function addDefaultPost<This, Value extends Post[]>(
  target: undefined,
  context: ClassFieldDecoratorContext<This, Value>
) {
  // –ª–æ–≥–∏–∫–∞
}
```

**–†–∞–∑–±–æ—Ä –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤:**

#### `This`

- –¢–∏–ø —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `Author`)

#### `Value extends Post[]`

- `Value` - —Ç–∏–ø –ø–æ–ª—è, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
- `extends Post[]` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º –ø–æ—Å—Ç–æ–≤

## 6. –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –ø–æ–ª–µ–π

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—è –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

```typescript
return function (initialValue: Value): Value {
  // –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è initialValue
  return modifiedValue;
};
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä `initialValue`:**

- –≠—Ç–æ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `[]` - –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)
- –¢–∏–ø `Value` (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `Post[]`)

## 7. –õ–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```typescript
return function (initialValue: Value): Value {
  initialValue.push({
    title: "Default Title",
    content: "Default Content",
  });
  return initialValue;
};
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –ü–æ–ª—É—á–∞–µ–º `initialValue` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `[]`)
2. –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç –ø–æ—Å—Ç–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤

## 8. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –∫ –ø–æ–ª—é

```typescript
class Author {
  @addDefaultPost
  public posts: Post[] = [];
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≤—Ç–æ—Ä–∞ –≤ –µ–≥–æ `posts` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## 9. –ò–∑—É—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `ClassFieldDecoratorContext`

–ê–≤—Ç–æ—Ä –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å –∏–∑—É—á–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ TypeScript.

### –ö–∞–∫ –∏–∑—É—á–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

#### –°–ø–æ—Å–æ–± 1: Hover (–Ω–∞–≤–µ–¥–µ–Ω–∏–µ)

- –ù–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ `ClassFieldDecoratorContext`
- –£–≤–∏–¥–∏—Ç–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### –°–ø–æ—Å–æ–± 2: Peek Definition (–ü—Ä–æ—Å–º–æ—Ç—Ä –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)

- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + Alt+F12 (–∏–ª–∏ –ü–ö–ú ‚Üí Peek Definition)
- –£–≤–∏–¥–∏—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–º –æ–∫–Ω–µ

#### –°–ø–æ—Å–æ–± 3: Go to Definition (–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é)

- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + F12
- –ü–µ—Ä–µ–π–¥—ë—Ç–µ –∫ —Ñ–∞–π–ª—É —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º

### –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:

```typescript
interface ClassFieldDecoratorContext<This, Value> {
  readonly kind: "field";
  readonly name: string | symbol;
  readonly static: boolean;
  readonly private: boolean;
  readonly access: { get: () => Value; set: (value: Value) => void };
  addInitializer(initializer: (this: This) => void): void;
}
```

**–°–≤–æ–π—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**

- `kind: "field"` - —Ç–∏–ø –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ (–ø–æ–ª–µ)
- `name` - –∏–º—è –ø–æ–ª—è
- `static` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º
- `private` - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º
- `access` - –º–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ–ª—è

## 10. –ü–æ–ª–Ω—ã–π –∫–æ–¥ —Å —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π

```typescript
function addDefaultPost<This, Value extends Post[]>(
  target: undefined,
  context: ClassFieldDecoratorContext<This, Value>
) {
  return function (initialValue: Value): Value {
    // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    initialValue.push({
      title: "Default Title",
      content: "Default Content",
    });

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤
    return initialValue;
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —è–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏:
class Author {
  @(addDefaultPost<Author, Post[]>)
  public posts: Post[] = [];
}
```

## 11. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞

```typescript
const author = new Author("Mark");
console.log(author.posts);
// Output: [{ title: "Default Title", content: "Default Content" }]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –ø–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ —Å –æ–¥–Ω–∏–º –ø–æ—Å—Ç–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## 12. –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞?

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–æ–ª–µ–π:

1. **–ù–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é** (–ø–æ—ç—Ç–æ–º—É `target = undefined`)
2. **–ü–æ–ª—É—á–∞—é—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é**
3. **–î–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è**

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏ –º–µ—Ç–æ–¥–æ–≤:

```typescript
// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–µ—Ç–æ–¥–∞
function methodDecorator(target: Function, context: any) {
  return function (...args: any[]) {
    /* –ª–æ–≥–∏–∫–∞ */
  };
}

// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—è
function fieldDecorator(target: undefined, context: any) {
  return function (initialValue: any) {
    return newValue;
  };
}
```

## 13. –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `Value extends Post[]`

**–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

```typescript
function addDefaultPost<This, Value>(...)
```

- –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –õ–Æ–ë–û–ú–£ –ø–æ–ª—é
- `initialValue.push()` –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –ø–æ–ª–µ –Ω–µ –º–∞—Å—Å–∏–≤

**–° –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º:**

```typescript
function addDefaultPost<This, Value extends Post[]>(...)
```

- –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –¢–û–õ–¨–ö–û –∫ –º–∞—Å—Å–∏–≤–∞–º –ø–æ—Å—Ç–æ–≤
- TypeScript –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ `initialValue` –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ `push`
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤

## 14. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–ê–≤—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ —Ç–∞–∫–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø–æ–ª–µ–∑–Ω—ã:

- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ** —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–µ–π

## 15. –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–æ–ª–µ–π

1. **`target` –≤—Å–µ–≥–¥–∞ `undefined`** - –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ "–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É" –∑–Ω–∞—á–µ–Ω–∏—é
2. **–í–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏—é-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä** –∞ –Ω–µ —Ñ—É–Ω–∫—Ü–∏—é-–∑–∞–º–µ–Ω—É
3. **–†–∞–±–æ—Ç–∞—é—Ç —Å –¥–∞–Ω–Ω—ã–º–∏**, –∞ –Ω–µ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º (–∫–∞–∫ –º–µ—Ç–æ–¥—ã)
4. **–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞**, –∞ –Ω–µ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## 16. –ò—Ç–æ–≥–æ–≤—ã–π –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```typescript
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ—Å—Ç–∞
type Post = {
  title: string;
  content: string;
};

// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
function addDefaultPost<This, Value extends Post[]>(
  target: undefined,
  context: ClassFieldDecoratorContext<This, Value>
) {
  return function (initialValue: Value): Value {
    console.log(`Adding default post to field: ${String(context.name)}`);

    initialValue.push({
      title: "Default Title",
      content: "Default Content",
    });

    return initialValue;
  };
}

// –ö–ª–∞—Å—Å –∞–≤—Ç–æ—Ä–∞ —Å –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º
class Author {
  constructor(public name: string) {}

  @(addDefaultPost<Author, Post[]>)
  public posts: Post[] = [];
}

// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
const author = new Author("Mark");
console.log(author.posts);
// Output:
// Adding default post to field: posts
// [{ title: "Default Title", content: "Default Content" }]
```

## –ú–æ–∏ –≤–æ–ø—Ä–æ—Å—ã –∫ –ò–ò

# 1 - –í–æ–ø—Ä–æ—Å

`–ê –¥–ª—è –¥–µ–∫–∞—Ä–æ—Ç–æ—Ä–æ–≤ –ø–æ–ª–µ–π, —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–¥ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ ?`
–†–∞–∑–±–µ—Ä—ë–º **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ**, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä _–ø–æ–ª—è_ –∫–ª–∞—Å—Å–∞ –≤ TypeScript ‚Äî —ç—Ç–æ —Å–æ–≤—Å–µ–º –Ω–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–µ—Ç–æ–¥–æ–≤.

–¢—ã –ø–æ–π–º—ë—à—å:

- –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä (–ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏?)
- –∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- —á—Ç–æ —Ç–∞–∫–æ–µ `initialValue`
- –ø–æ—á–µ–º—É default post –ø–æ—è–≤–ª—è–µ—Ç—Å—è –í –ú–û–ú–ï–ù–¢ –°–û–ó–î–ê–ù–ò–Ø –æ–±—ä–µ–∫—Ç–∞ (`new Author()`)

---

# ‚úÖ –ö–û–†–û–¢–ö–ò–ô –û–¢–í–ï–¢

- **–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ ‚Äî –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∞—Å—Å–∞ (–≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞).**
- –û–Ω **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –ø–æ–ª—è**.
- –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞**, –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `new Author("Mark")`.
- –í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è (`initialValue`) –∏ –º–æ–∂–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å.

–ü–æ—ç—Ç–æ–º—É –ª–æ–≥:

```
Adding default post to field: posts
```

–ø–æ—è–≤–ª—è–µ—Ç—Å—è **–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞**, –Ω–µ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –Ω–æ _–¥–æ_ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª—è.

---

# üß† –¢–ï–ü–ï–†–¨ –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó (–¥–æ –º–æ–ª–µ–∫—É–ª)

---

# 1Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—è –∫–ª–∞—Å—Å–∞?

–¢—ã –Ω–∞–ø–∏—Å–∞–ª:

```ts
@addDefaultPost
public posts: Post[] = [];
```

TypeScript –≤–∏–¥–∏—Ç —ç—Ç–æ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç:

```ts
addDefaultPost(undefined, context);
```

–ó–¥–µ—Å—å:

- `undefined` ‚Äî —ç—Ç–æ `target`, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ **–ø—É–±–ª–∏—á–Ω–æ–µ –ø–æ–ª–µ**
- `context` ‚Äî –æ–±—ä–µ–∫—Ç `ClassFieldDecoratorContext`

–ò —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è** ‚Äî —Ç–æ –µ—Å—Ç—å –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ JS-—Ñ–∞–π–ª–∞, –∞ –ù–ï –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

---

# 2Ô∏è‚É£ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—è?

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å **—Ñ—É–Ω–∫—Ü–∏—é-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –ø–æ–ª—è**:

```ts
return function (initialValue: Value): Value {
  console.log(`Adding default post to field: ${String(context.name)}`);

  initialValue.push({
    title: "Default Title",
    content: "Default Content",
  });

  return initialValue;
};
```

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è:

- –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ù–ï —Å–µ–π—á–∞—Å
- –æ–Ω–∞ –≤—ã–∑–æ–≤–µ—Ç—Å—è –ü–û–ó–ñ–ï, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞

–¢–æ –µ—Å—Ç—å:

üëâ –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
üëâ –í–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π function(initialValue) –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω **–∫–∞–∂–¥—ã–π —Ä–∞–∑**, –∫–æ–≥–¥–∞ –º—ã –¥–µ–ª–∞–µ–º `new Author()`.

---

# 3Ô∏è‚É£ –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä?

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ù–ï –º–µ–Ω—è–µ—Ç —Å–∞–º –∫–ª–∞—Å—Å –Ω–∞–ø—Ä—è–º—É—é.

–û–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—Å—Ç—Ä–æ–∏—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JS-–∫–æ–¥–∞.

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ):

```ts
class Author {
  posts = initializer([]);
}
```

–ì–¥–µ `initializer` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤–µ—Ä–Ω—É–ª –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.

---

# 4Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ initialValue?

–≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –Ω–∞–ø–∏—Å–∞–ª –≤ –∫–ª–∞—Å—Å–µ:

```ts
public posts: Post[] = [];
```

–ó–Ω–∞—á–∏—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:

```
initialValue === []
```

–¢–æ –µ—Å—Ç—å –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤.

---

# 5Ô∏è‚É£ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç initializer?

```ts
console.log(`Adding default post to field: posts`);

initialValue.push({
  title: "Default Title",
  content: "Default Content",
});
```

–û–Ω:

1. –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥
2. –∫–ª–∞–¥—ë—Ç default post –≤ –º–∞—Å—Å–∏–≤
3. –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ (–≤ —Ç–æ–º –∂–µ –æ–±—ä–µ–∫—Ç–µ)

–ò –∏–º–µ–Ω–Ω–æ –≠–¢–û –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –≤:

```ts
author.posts;
```

---

# 6Ô∏è‚É£ –ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

## üìå 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

```ts
@addDefaultPost
public posts = [];
```

–í—ã–∑—ã–≤–∞–µ—Ç:

- addDefaultPost(undefined, context)
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç initializer

–ù–æ **initializer –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–¥–µ—Å—å**

## üìå 2. new Author("Mark") ‚Äî —Å–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç

JS –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è:

```ts
posts = initializer([]);
```

–ò —Ç–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è initializer:

```
Adding default post to field: posts
```

posts —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è:

```ts
[{ title: "Default Title", content: "Default Content" }];
```

---

# 7Ô∏è‚É£ –ü–æ—ç—Ç–æ–º—É –≤—ã–≤–æ–¥ ‚Äî —Å—Ç—Ä–æ–≥–æ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:

```
Adding default post to field: posts
[{ title: "Default Title", content: "Default Content" }]
```

---

# üéØ –ò—Ç–æ–≥–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø–æ–ª—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –∫–ª–∞—Å—Å–∞.
- –û–Ω **–Ω–µ –º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ä–∞–∑—É**, –æ–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä.
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞**.
- `initialValue` ‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è (`[]`).
- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–æ –ø–æ–ø–∞–¥—ë—Ç –≤ –æ–±—ä–µ–∫—Ç.

---
