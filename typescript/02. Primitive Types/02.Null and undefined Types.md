### Общее введение

Автор начинает с напоминания: в JavaScript есть два примитивных типа, которые представляют "отсутствие значения" — `null` и `undefined`. Многие разработчики используют их взаимозаменяемо, но TypeScript проводит между ними четкую границу и рассматривает их как **два отдельных типа**.

---

### 1. Тип `undefined`

**Что такое `undefined`?**
В JavaScript переменная имеет значение `undefined`, когда она была объявлена, но ей не было присвоено значение.

**Пример от автора:**

```typescript
let user;
console.log(user); // Выведет: undefined
```

Когда автор запускает этот код, в консоли появляется `undefined`. Это стандартное поведение JavaScript.

**Явная аннотация типа `undefined`:**

```typescript
let user: undefined;
```

Теперь TypeScript знает, что переменная `user` может _только_ быть `undefined`. Попытка присвоить ей любое другое значение (например, `null` или `"John"`) вызовет ошибку.

---

### 2. Тип `null`

**Что такое `null`?**
`null` — это явное указание на "отсутствие значения" или "пустое значение". Это не то же самое, что `undefined`. Разработчик сам явно присваивает значение `null`.

**Ключевое различие, которое демонстрирует автор:**

```typescript
let userRole: null; // ОШИБКА! Переменная не инициализирована.
console.log(userRole);
```

TypeScript сразу выдаст ошибку: **`Variable 'userRole' is used before being assigned.`**

**Почему это происходит?**

- Объявив `userRole: null`, вы сказали TypeScript: "Эта переменная должна иметь значение `null`".
- Однако вы не присвоили ей никакого значения. По умолчанию, как и в JavaScript, её значение — `undefined`.
- TypeScript видит противоречие: вы обещали, что значение будет `null`, но на самом деле оно `undefined`. Это ошибка типа.

**Исправление:**

```typescript
let userRole: null = null; // Теперь все корректно.
console.log(userRole); // Выведет: null
```

Как только мы явно присваиваем `null`, ошибка исчезает, потому что тип переменной (`null`) соответствует её значению (`null`).

**Контраст с выводом типов:**
Если бы мы написали просто `let userRole;`, TypeScript вывел бы тип `any`, и ошибки бы не было, потому что `any` может быть и `undefined`. Но это небезопасно с точки зрения типов.

---

### 3. Сравнение `null` и `undefined`

Автор проводит два типа сравнений, чтобы проиллюстрировать разницу.

**1. Строгое равенство (`===`):**

```typescript
console.log(userRole === user); // false
```

Это логично. `null` и `undefined` — это два разных примитивных значения. Строгое равенство проверяет и тип, и значение. Они не равны.

**2. Нестрогое равенство (`==`) и условные проверки:**

```typescript
if (userRole == null) {
  console.log("This condition is true");
}

if (user == null) {
  // Здесь user - undefined
  console.log("This condition is true");
}
```

Оба этих условия выполнятся, и в консоль выведется дважды "This condition is true".

**Почему так происходит и откуда путаница?**
В JavaScript при использовании **нестрогого равенства (`==`)** `null` и `undefined` равны друг другу.

- `null == undefined` возвращает `true`.
- `null === undefined` возвращает `false`.

Кроме того, в логическом контексте (например, в условии `if`) и `null`, и `undefined` являются **"falsy"** значениями. Это значит, что они ведут себя как `false`. Именно это поведение заставляет разработчиков использовать их в проверках "на существование значения" взаимозаменяемо.

```typescript
// Вот такая проверка "поймает" и null, и undefined
if (someVariable == null) {
  // ...действие, если значения нет
}
```

---

### Итог от автора

Автор резюмирует, что, несмотря на схожее поведение в условных операторах JavaScript, `null` и `undefined` в TypeScript — это два четко разделенных типа. TypeScript заставляет вас относиться к ним именно так, что помогает писать более строгий и надежный код.

### Мой итог как разработчика

Вы изучили критически важную концепцию для понимания TypeScript:

1.  **`undefined`** — это значение по умолчанию для неинициализированных переменных. Тип `undefined` означает, что переменная может быть только `undefined`.
2.  **`null`** — это значение, которое вы присваиваете переменной явно, чтобы указать на "отсутствие значения". Тип `null` означает, что переменная может быть только `null`.
3.  **TypeScript рассматривает их как разные типы.** Нельзя присвоить `undefined` переменной с типом `null`, и наоборот (если только вы явно не объедините эти типы, о чем речь пойдет позже, например, `string | null | undefined`).
4.  **Путаница возникает из-за JavaScript**, где `null == undefined` является `true`, и оба значения являются "falsy". TypeScript помогает устранить эту путаницу, вводя строгую проверку типов на этапе компиляции.

**Практический совет:** В современном TypeScript часто используется возможность строгой настройки проверки на `null` и `undefined` (опция `strictNullChecks` в `tsconfig.json`), которая включена по умолчанию в строгом режиме. Именно она не позволяет присвоить `null` или `undefined` переменной, если это явно не разрешено ее типом.
