## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤ –≤ –∫–ª–∞—Å—Å–∞—Ö: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### 1. –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç –¥–∂–µ–Ω–µ—Ä–∏–∫-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–ê–≤—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –∫–ª–∞—Å—Å `Repository`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç–æ–≤–∞—Ä—ã, –∫–Ω–∏–≥–∏), –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å `any`:**

```typescript
class Repository {
  private items: any[] = []; // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ª—é–±–æ–π —Ç–∏–ø

  add(item: any): void {
    this.items.push(item);
  }

  getById(id: number): any {
    return this.items.find((item) => item.id === id);
  }
  // ... –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã
}
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–∂–µ–Ω–µ—Ä–∏–∫–∞

–ê–≤—Ç–æ—Ä –≤–≤–æ–¥–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Identifiable`, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—é—Ç `id`:

```typescript
interface Identifiable {
  id: number;
}
```

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?** –ü–æ—Ç–æ–º—É —á—Ç–æ –º–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (`getById`, `removeById`) –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ `id`.

### 3. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–º

```typescript
class Repository<T extends Identifiable> {
  private items: T[] = [];

  add(item: T): void {
    this.items.push(item);
  }

  getById(id: number): T | undefined {
    return this.items.find((item) => item.id === id);
  }

  getAll(): T[] {
    return this.items;
  }

  removeById(id: number): void {
    this.items = this.items.filter((item) => item.id !== id);
  }
}
```

### 4. –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤

#### –ú–µ—Ç–æ–¥ `add`:

```typescript
add(item: T): void {
    this.items.push(item);
}
```

- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `T` (–∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∏–º–µ–µ—Ç `id`)
- –î–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –º–∞—Å—Å–∏–≤ `items`

#### –ú–µ—Ç–æ–¥ `getById`:

```typescript
getById(id: number): T | undefined {
    return this.items.find(item => item.id === id);
}
```

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Array.find()` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ `id`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `T | undefined` - –ª–∏–±–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –ª–∏–±–æ `undefined`

#### –ú–µ—Ç–æ–¥ `getAll`:

```typescript
getAll(): T[] {
    return this.items;
}
```

- –ü—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Å—å –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Ç–∏–ø–∞ `T`

#### –ú–µ—Ç–æ–¥ `removeById`:

```typescript
removeById(id: number): void {
    this.items = this.items.filter(item => item.id !== id);
}
```

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Array.filter()` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –±–µ–∑ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `id`

### 5. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø User

```typescript
type User = {
  id: number;
  name: string;
  email: string;
};
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```typescript
const usersRepository = new Repository<User>();
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- `T` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `User`
- `items` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `User[]`
- –í—Å–µ –º–µ—Ç–æ–¥—ã —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —Å `User`

#### –®–∞–≥ 3: –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```typescript
usersRepository.add({
  id: 1,
  name: "John",
  email: "john@email.com",
});
```

#### –®–∞–≥ 4: –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```typescript
const user = usersRepository.getById(1);
// TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ user: User | undefined
console.log(user?.name); // "John" - –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

const allUsers = usersRepository.getAll();
// TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ allUsers: User[]
```

### 6. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### ‚ùå –ë–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤ (–æ–ø–∞—Å–Ω–æ):

```typescript
const repo = new Repository(); // any
repo.add({ id: 1, name: "John" });
repo.add({ id: 2, title: "Book" }); // ‚ùå –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–∞
```

#### ‚úÖ –° –¥–∂–µ–Ω–µ—Ä–∏–∫–∞–º–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–æ):

```typescript
const usersRepo = new Repository<User>();
usersRepo.add({ id: 1, name: "John", email: "john@email.com" }); // ‚úÖ
usersRepo.add({ id: 2, title: "Book" }); // ‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏!
// Property 'name' is missing, property 'email' is missing
```

### 7. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π

#### –î–ª—è —Ç–æ–≤–∞—Ä–æ–≤:

```typescript
type Product = {
  id: number;
  title: string;
  price: number;
  category: string;
};

const productsRepository = new Repository<Product>();
productsRepository.add({
  id: 1,
  title: "Laptop",
  price: 999,
  category: "Electronics",
});

const product = productsRepository.getById(1);
console.log(product?.price); // ‚úÖ TypeScript –∑–Ω–∞–µ—Ç, —á—Ç–æ price: number
```

#### –î–ª—è –∫–Ω–∏–≥:

```typescript
type Book = {
  id: number;
  title: string;
  author: string;
  pages: number;
};

const booksRepository = new Repository<Book>();
booksRepository.add({
  id: 1,
  title: "TypeScript Guide",
  author: "John Doe",
  pages: 300,
});
```

### 8. –ö–∞–∫ TypeScript –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ IDE:

```typescript
const user = usersRepository.getById(1);
// IDE –ø–æ–∫–∞–∂–µ—Ç: user.name, user.email, user.id
// –ù–æ –ù–ï –ø–æ–∫–∞–∂–µ—Ç: user.title, user.price
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏:

```typescript
usersRepository.add({
  id: 3,
  name: "Alice",
  // email: "alice@email.com" // ‚ùå –û—à–∏–±–∫–∞: —Å–≤–æ–π—Å—Ç–≤–æ email –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
});

usersRepository.add({
  id: 4,
  name: "Bob",
  email: "bob@email.com",
  age: 25, // ‚ùå –û—à–∏–±–∫–∞: –ª–∏—à–Ω–µ–µ —Å–≤–æ–π—Å—Ç–≤–æ
});
```

### 9. –ì–∏–±–∫–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–û–¥–∏–Ω –∫–ª–∞—Å—Å `Repository` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ª—é–±—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏—Ö `Identifiable`:

```typescript
// –î–ª—è –∑–∞–∫–∞–∑–æ–≤
type Order = {
  id: number;
  userId: number;
  total: number;
  status: string;
};

// –î–ª—è –æ—Ç–∑—ã–≤–æ–≤
type Review = {
  id: number;
  productId: number;
  rating: number;
  comment: string;
};

const ordersRepository = new Repository<Order>();
const reviewsRepository = new Repository<Review>();
```

### 10. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã, —Å–æ—Ö—Ä–∞–Ω—è—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

```typescript
class Repository<T extends Identifiable> {
  private items: T[] = [];

  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã...

  // –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞ –ø–æ —É—Å–ª–æ–≤–∏—é
  find(predicate: (item: T) => boolean): T | undefined {
    return this.items.find(predicate);
  }

  // –ú–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  update(id: number, updates: Partial<T>): void {
    const item = this.getById(id);
    if (item) {
      Object.assign(item, updates);
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
usersRepository.find((user) => user.email.includes("gmail.com"));
usersRepository.update(1, { name: "Johnny" });
```

### 11. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏

#### ‚ùå –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–º–µ–Ω–µ–µ –≥–∏–±–∫–æ):

```typescript
class UserRepository extends Repository {
  // –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å—É—â–Ω–æ—Å—Ç–∏
}

class ProductRepository extends Repository {
  // –¢–æ—Ç –∂–µ –∫–æ–¥, –Ω–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
}
```

#### ‚úÖ –î–∂–µ–Ω–µ—Ä–∏–∫–∏ (–∏–¥–µ–∞–ª—å–Ω–æ):

```typescript
// –û–¥–∏–Ω –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
const usersRepo = new Repository<User>();
const productsRepo = new Repository<Product>();
const ordersRepo = new Repository<Order>();
```

### 12. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ ORM (Object-Relational Mapping) –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö:

```typescript
// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ TypeORM, Prisma –∏ –¥—Ä—É–≥–∏–º
const userRepository = dataSource.getRepository(User);
const productRepository = dataSource.getRepository(Product);
```

### –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã:

1. **–î–∂–µ–Ω–µ—Ä–∏–∫–∏ + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** = –º–æ—â–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. **–û–¥–∏–Ω –∫–ª–∞—Å—Å - –º–Ω–æ–≥–æ —Ç–∏–ø–æ–≤** - –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
3. **–ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤** - –æ—à–∏–±–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
4. **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ IDE
5. **–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –≤ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ, —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π! üèóÔ∏è
